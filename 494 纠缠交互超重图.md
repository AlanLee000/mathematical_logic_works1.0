#### **1. 语法 (Syntax)**

##### **1.1. 字母表 (Alphabet)**

*   **命题变量 (Propositional Variables):** 一个可数的集合 $P = \{p, q, r, ...\}$。
*   **二元逻辑联结词 (Binary Connectives):** $\{\to_E, \to_I\}$。
*   **辅助符号 (Auxiliary Symbols):** $($, $)$。

##### **1.2. 合式公式 (Well-formed Formulas - WFFs)**

合式公式（WFF）的集合是满足以下条件的**最小集合**：

1.  **基础条款:** 若 $p \in P$，则 $p$ 是一个 WFF。
2.  **归纳条款:** 若 $A$ 和 $B$ 都是 WFFs，则 $(A \to_E B)$ 和 $(A \to_I B)$ 都是 WFFs。

*约定：为便于阅读，最外层的括号将被省略。在元语言中，我们使用大写拉丁字母 $A, B, C, ...$ 作为表示任意 WFFs 的元变量，使用大写希腊字母 $\Gamma, \Delta, ...$ 作为表示 WFFs 集合的元变量。*

#### **2. 证明系统 (Proof System)**

##### **2.1. 公理模式 (Axiom Schema)**

系统 $\mathcal{L_{EI}}$ 拥有一个公理模式。对于任意的 WFF $A$，以下公式是一个公理：

*   **(Ax-M)**
    $$ (A \to_E A) \to_I (A \to_E A) $$

*   **(Ax-N)**
    $$ (((A \to_E A) \to_I (A \to_E A)) \to_E ((A \to_E A) \to_I (A \to_E A))) $$


##### **2.2. 推理规则 (Rules of Inference)**

系统 $\mathcal{L_{EI}}$ 拥有三条推理规则。对于任意的 WFFs $A, B, C$：

*   **(EMP1)**
    $$ \frac{A \to_E B \qquad B \to_I C}{C} $$

*   **(EMP2)**
    $$ \frac{A \to_I B \qquad B \to_E C}{C} $$

*   **(HT1)**
    $$ \frac{A \to_E B \qquad A \to_I C}{(A \to_E B) \to_I C} $$


*   **(HT2)**
    $$ \frac{A \to_E B \qquad B \to_I C}{A \to_E (B \to_I C)} $$


##### **2.3. 证明与可证性 (Proof and Provability)**

*   一个在 $\mathcal{L_{EI}}$ 中从一个**前提集合** $\Gamma$ 对公式 $A$ 的**证明 (proof)**，是一个有限的 WFF 序列 $\langle C_1, C_2, ..., C_n \rangle$，满足以下条件：
    1.  序列的最后一个公式是 $A$，即 $C_n = A$。
    2.  对于序列中的每一个公式 $C_i$ ($1 \le i \le n$)，必须满足以下条件之一：
        *   $C_i$ 是公理模式 (Ax-M) 的一个实例。
        *   $C_i$ 是前提集合 $\Gamma$ 中的一个元素。
        *   $C_i$ 是通过对序列中早于 $C_i$ 的一个或多个公式应用某条推理规则 (EMP1, EMP2, HT1，HT2) 而得到的。

*   如果存在一个从 $\Gamma$ 对 $A$ 的证明，我们称 $A$ 是**可从 $\Gamma$ 证明的 (provable from $\Gamma$)**，记作 $\Gamma \vdash A$。

*   如果 $\emptyset \vdash A$，我们称 $A$ 是 $\mathcal{L_{EI}}$ 的一个**定理 (theorem)**，并简记为 $\vdash A$。


### **3. 语义学 (Semantics)**

本节为系统 $\mathcal{L_{EI}}$ 提供一个形式化的语义模型，并基于此模型证明其可靠性（Soundness）。

---

#### **3.1. 语义模型 $\mathcal{M}_3$ (Semantic Model $\mathcal{M}_3$)**

系统 $\mathcal{L_{EI}}$ 的语义由一个三值逻辑矩阵 (three-valued logical matrix) $\mathcal{M}_3 = \langle \mathcal{V}, \mathcal{D}, \{f_{\to_E}, f_{\to_I}\} \rangle$ 定义。

1.  **真值集合 (Set of Truth Values):**
    $$ \mathcal{V} = \{0, 1, 2\} $$

2.  **指定值集合 (Set of Designated Values):**
    $$ \mathcal{D} = \{2\} $$

3.  **真值函数 (Truth Functions):**
    与逻辑联结词 $\to_E$ 和 $\to_I$ 相关联的真值函数 $f_{\to_E}: \mathcal{V} \times \mathcal{V} \to \mathcal{V}$ 和 $f_{\to_I}: \mathcal{V} \times \mathcal{V} \to \mathcal{V}$ 定义如下。

    *   **函数 $f_{\to_E}$:**
        $$
        f_{\to_E}(x, y) =
        \begin{cases}
        2 & \text{若 } x = 2 \text{ 且 } y = 2 \\
        1 & \text{其他情况}
        \end{cases}
        $$
        其真值表为：
        | $\to_E$ | **0** | **1** | **2** |
        | :--- | :---: | :---: | :---: |
        | **0** | 1 | 1 | 1 |
        | **1** | 1 | 1 | 1 |
        | **2** | 1 | 1 | **2** |

    *   **函数 $f_{\to_I}$:**
        $$
        f_{\to_I}(x, y) =
        \begin{cases}
        2 & \text{若 } (x = 1 \text{ 且 } y = 1) \text{ 或 } (x = 2 \text{ 且 } y = 2) \\
        0 & \text{其他情况}
        \end{cases}
        $$
        其真值表为：
        | $\to_I$ | **0** | **1** | **2** |
        | :--- | :---: | :---: | :---: |
        | **0** | 0 | 0 | 0 |
        | **1** | 0 | **2** | 0 |
        | **2** | 0 | 0 | **2** |

---

#### **3.2. 估值与语义后承 (Valuation and Semantic Consequence)**

##### **定义 3.2.1 (估值 - Valuation)**
一个**估值** (valuation) 是一个函数 $v: P \to \mathcal{V}$，它为每一个命题变量赋予一个来自 $\mathcal{V}$ 的真值。

任何估值 $v$ 都可以被唯一地扩展为一个函数 $\bar{v}: \text{WFF} \to \mathcal{V}$，该函数为每一个合式公式赋予一个真值，其定义如下：
1.  对于任意 $p \in P$, $\bar{v}(p) = v(p)$。
2.  对于任意 WFFs $A, B$, $\bar{v}(A \to_E B) = f_{\to_E}(\bar{v}(A), \bar{v}(B))$。
3.  对于任意 WFFs $A, B$, $\bar{v}(A \to_I B) = f_{\to_I}(\bar{v}(A), \bar{v}(B))$。

*约定：为方便起见，下文中我们将使用 $v$ 代替 $\bar{v}$。*

##### **定义 3.2.2 (有效性与语义后承)**
1.  一个公式 $A$ 是一个**重言式 (tautology)**，或称**有效的 (valid)**，记作 $\vDash A$，当且仅当对于任意估值 $v$，$v(A) \in \mathcal{D}$ (即 $v(A)=2$）。
2.  一个公式 $A$ 是一个从公式集合 $\Gamma$ 的**语义后承 (semantic consequence)**，记作 $\Gamma \vDash A$，当且仅当对于任意估值 $v$，若对所有的 $C \in \Gamma$ 都有 $v(C) \in \mathcal{D}$，则 $v(A) \in \mathcal{D}$。

---

#### **3.3. 系统 $\mathcal{L_{EI}}$ 的可靠性 (Soundness of System $\mathcal{L_{EI}}$)**

本节证明系统 $\mathcal{L_{EI}}$ 是可靠的，即所有可证公式都是有效的。

##### **定理 3.3.1 (可靠性)**
对于任意公式集合 $\Gamma$ 和任意公式 $A$，若 $\Gamma \vdash A$，则 $\Gamma \vDash A$。
特别地，若 $\vdash A$，则 $\vDash A$。

**证明**将通过以下两个引理完成。

##### **引理 3.3.2a**
公理模式 (Ax-M) 是有效的。即，对于任意 WFF $A$，$\vDash (A \to_E A) \to_I (A \to_E A)$。

**证明：**
令 $v$ 为任意估值。设 $v(A) = x$，其中 $x \in \{0, 1, 2\}$。我们必须证明 $v((A \to_E A) \to_I (A \to_E A)) = 2$。
令 $B = (A \to_E A)$。我们需要计算 $v(B \to_I B) = f_{\to_I}(v(B), v(B))$。
首先计算 $v(B)$ 的值：
$v(B) = v(A \to_E A) = f_{\to_E}(v(A), v(A)) = f_{\to_E}(x, x)$。

*   **情况 1:** 若 $x \in \{0, 1\}$，则根据 $f_{\to_E}$ 的定义，$v(B) = f_{\to_E}(x, x) = 1$。
*   **情况 2:** 若 $x = 2$，则根据 $f_{\to_E}$ 的定义，$v(B) = f_{\to_E}(2, 2) = 2$。

因此，$v(B)$ 的可能值只有 1 或 2。现在计算 $v(B \to_I B)$：

*   若 $v(B) = 1$，则 $v(B \to_I B) = f_{\to_I}(1, 1) = 2$。
*   若 $v(B) = 2$，则 $v(B \to_I B) = f_{\to_I}(2, 2) = 2$。

由于对于任何可能的 $v(A)$，公式 $(A \to_E A) \to_I (A \to_E A)$ 的估值总是 2，该公理模式是有效的。
**Q.E.D.**

##### **引理 3.3.2b**
公理模式 (Ax-N) 是有效的。即，对于任意 WFF $A$，$\vDash ((A \to_E A) \to_I (A \to_E A)) \to_E ((A \to_E A) \to_I (A \to_E A))$。

**证明：**
令 $v$ 为任意估值。
令 $M$ 表示公式 $(A \to_E A) \to_I (A \to_E A)$。
根据**引理 3.3.2** 的结论，对于任意估值 $v$，都有 $v(M) = 2$。
公理 (Ax-N) 的形式为 $M \to_E M$。
我们需要计算 $v(M \to_E M) = f_{\to_E}(v(M), v(M))$。
将 $v(M) = 2$ 代入，得到：
$v(M \to_E M) = f_{\to_E}(2, 2)$。
根据 $f_{\to_E}$ 的定义，当且仅当两个参数均为 2 时，函数值为 2。
因此，$v(M \to_E M) = 2$。
该公理模式是有效的。
**Q.E.D.**

##### **引理 3.3.3**
系统 $\mathcal{L_{EI}}$ 的所有推理规则都保持有效性 (preserve validity)。

**证明：**
对于每一条规则，我们假设对于任意估值 $v$，其所有前提的估值都为 2，然后证明其结论的估值也必为 2。

1.  **(EMP1):** $\frac{A \to_E B \quad B \to_I C}{C}$
    *   假设 $v(A \to_E B) = 2$ 且 $v(B \to_I C) = 2$。
    *   由 $v(A \to_E B) = f_{\to_E}(v(A), v(B)) = 2$，根据 $f_{\to_E}$ 的定义，必然有 $v(A) = 2$ 且 $v(B) = 2$。
    *   将 $v(B)=2$ 代入第二个前提，得到 $v(B \to_I C) = f_{\to_I}(2, v(C)) = 2$。
    *   根据 $f_{\to_I}$ 的定义，若前件为 2 且结果为 2，则后件必须为 2。因此 $v(C) = 2$。

2.  **(EMP2):** $\frac{A \to_I B \quad B \to_E C}{C}$
    *   假设 $v(A \to_I B) = 2$ 且 $v(B \to_E C) = 2$。
    *   由 $v(B \to_E C) = f_{\to_E}(v(B), v(C)) = 2$，根据 $f_{\to_E}$ 的定义，必然有 $v(B) = 2$ 且 $v(C) = 2$。
    *   结论 $C$ 的估值 $v(C)$ 已被证明为 2。

3.  **(HT1):** $\frac{A \to_E B \quad A \to_I C}{(A \to_E B) \to_I C}$
    *   假设 $v(A \to_E B) = 2$ 且 $v(A \to_I C) = 2$。
    *   由 $v(A \to_E B) = 2$，我们得到 $v(A) = 2$ 且 $v(B) = 2$。
    *   将 $v(A)=2$ 代入第二个前提，得到 $v(A \to_I C) = f_{\to_I}(2, v(C)) = 2$，由此推出 $v(C) = 2$。
    *   现在计算结论的估值：$v((A \to_E B) \to_I C) = f_{\to_I}(v(A \to_E B), v(C))$。
    *   根据前提假设 $v(A \to_E B) = 2$ 和我们推导出的 $v(C)=2$，计算结果为 $f_{\to_I}(2, 2) = 2$。

4.  **(HT2):** $\frac{A \to_E B \quad B \to_I C}{A \to_E (B \to_I C)}$
    *   假设 $v(A \to_E B) = 2$ 且 $v(B \to_I C) = 2$。
    *   由 $v(A \to_E B) = 2$，我们得到 $v(A) = 2$ 且 $v(B) = 2$。
    *   将 $v(B)=2$ 代入第二个前提，得到 $v(B \to_I C) = f_{\to_I}(2, v(C)) = 2$，由此推出 $v(C) = 2$。
    *   现在计算结论的估值：$v(A \to_E (B \to_I C)) = f_{\to_E}(v(A), v(B \to_I C))$。
    *   我们已知 $v(A)=2$。我们计算后件的值：$v(B \to_I C) = f_{\to_I}(v(B), v(C)) = f_{\to_I}(2, 2) = 2$。
    *   因此，结论的值为 $f_{\to_E}(2, 2) = 2$。

所有推理规则均保持有效性。
**Q.E.D.**

**定理 3.3.1 的证明：**
证明对从 $\Gamma$ 导出 $A$ 的证明长度 $n$ 进行归纳。
*   **基础情况 (n=1):** 证明序列为 $\langle A \rangle$。此时，$A$ 必须是公理或 $A \in \Gamma$。
    *   若 $A$ 是公理，根据**引理 3.3.2**，$\vDash A$，因此 $\Gamma \vDash A$。
    *   若 $A \in \Gamma$，根据语义后承的定义，$\Gamma \vDash A$。
*   **归纳步骤:** 假设对于所有长度小于 $n$ 的证明，其结论均为前提的语义后承。考虑一个长度为 $n$ 的证明 $\langle C_1, ..., C_n=A \rangle$。
    *   若 $A$ 是公理或 $A \in \Gamma$，证明同基础情况。
    *   若 $A$ 是通过对证明序列中早于 $A$ 的公式（例如 $C_i, C_j$ 其中 $i,j < n$）应用某条推理规则得到的。根据归纳假设，$\Gamma \vDash C_i$ 且 $\Gamma \vDash C_j$。这意味着，对于任何使 $\Gamma$ 中所有公式取值为 2 的估值 $v$，必有 $v(C_i)=2$ 和 $v(C_j)=2$。根据**引理 3.3.3**，所有推理规则都保持指定值 2。因此，$v(A)$ 也必须为 2。故 $\Gamma \vDash A$。

根据数学归纳法原理，定理成立。
**Q.E.D.**
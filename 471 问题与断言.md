### **形式系统 SRI**

#### **1. 语法 (Syntax)**

**1.1. 字母表 (Alphabet)**

SRI 系统的字母表由以下四类符号构成：

1.  **基础符号集 (Basic Symbols)**: 一个可数的无限集合，用 $α, β, γ, ...$ 等表示。
2.  **一元算子 (Unary Operator)**: $W$
3.  **二元算子 (Binary Operators)**: $I$, $P$
4.  **辅助符号 (Auxiliary Symbols)**: $($, $)$

**1.2. 良构公式 (Well-formed Formulas, WFFs)**

SRI 系统中良构公式的集合（记作 $\mathcal{F}$）是满足以下条件的最小集合：

1.  **原子性**: 如果 $α$ 是一个基础符号，那么 $α ∈ \mathcal{F}$。
2.  **W构造**: 如果 $\varphi ∈ \mathcal{F}$，那么 $W(\varphi) ∈ \mathcal{F}$。
3.  **I构造**: 如果 $\varphi, \psi ∈ \mathcal{F}$，那么 $I(\varphi, \psi) ∈ \mathcal{F}$。
4.  **P构造**: 如果 $\varphi, \psi ∈ \mathcal{F}$，那么 $P(\varphi, \psi) ∈ \mathcal{F}$。

#### **2. 证明论 (Proof Theory)**

**2.1. 公理模式 (Axiom Schemas)**

对于 $\mathcal{F}$ 中的任意公式 $\varphi$，$\psi$，$\chi$，以下公式均为公理：

*   **A1:**
    $I(\varphi, \varphi)$

*   **A2:**
    $I(W(\varphi), W(W(\varphi)))$

*   **A3:**
    $I(P(\varphi, \varphi), \varphi)$

**2.2. 推理规则 (Rules of Inference)**

令 $\varphi, \psi, \chi, \sigma$ 为 $\mathcal{F}$ 中的任意公式。符号 $⊢ \varphi$ 表示 $\varphi$ 是系统中的一个定理。

*   **R1:**
    
    $$
    \frac{⊢ W(P(\varphi, W(\psi)))}{⊢ I(\psi, \varphi)}
    $$

*   **R2:**
    
    $$
    \frac{⊢ I(\varphi, \psi) \qquad ⊢ W(P(\sigma, W(\psi)))}{⊢ I(P(\sigma, \varphi), W(\psi))}
    $$

*   **R3:**
    
    $$
    \frac{⊢ I(\varphi, \psi) ,\qquad⊢ I(\psi, \chi)}{⊢ I(\varphi, \chi)}
    $$

*   **R4:**
    
    $$
    \frac{⊢ I(\varphi, \psi)}{⊢ I(P(\varphi, \chi),P(\psi, \chi))}
    $$

*   **R5:**

    $$
    \frac{⊢ I(\varphi, \psi)}{⊢ I(W(\varphi),W(\psi))}
    $$

#### **3. 核心定义 (Core Definitions)**

*   **证明 (Proof)**: SRI 系统中的一个证明，是一个由良构公式组成的有限序列 $\varphi_{1}, \varphi_{2}, ..., \varphi_{n}$，其中对于序列中的每一个 $\varphi_{i}$ (1 ≤ i ≤ n)，$\varphi_{i}$ 必须满足以下条件之一：
    1.  $\varphi_{i}$ 是公理模式 A1, A2 或 A3 的一个实例。
    2.  存在序列中位于 $\varphi_{i}$ 之前的公式，使得 $\varphi_{i}$ 可以通过应用推理规则 R1, R2, R3, R4 或 R5 推导得出。

*   **定理 (Theorem)**: 一个良构公式 $\varphi$ 是 SRI 系统的一个定理，当且仅当存在一个以 $\varphi$ 为最终公式的证明。我们将 $\varphi$ 是一个定理记作 $⊢ \varphi$。


#### **4. 语义模型 (Semantics)**

**4.1. 模型结构 (Model Structure)**

一个 SRI 模型 $M$ 是一个有序多元组 $M = (A, Q, v_0, w, p, O)$，其中：

*   $A$ 是一个非空集合，称为**答案域 (Domain of Answers)**。
*   $Q$ 是一个非空集合，称为**问题域 (Domain of Questions)**。
*   $A$ 与 $Q$ 不相交，即 $A \cap Q = \emptyset$。
*   系统的全域 $D = A \cup Q$。
*   $v_0$ 是一个**基础解释函数**，$v_0: \text{基础符号集} \to A$。
*   $w$ 是一个一元函数，$w: D \to Q$，对应于算子 $W$。
*   $p$ 是一个二元函数，$p: D \times D \to D$，对应于算子 $P$。
*   $O$ 是 $Q$ 的一个子集，$O \subseteq Q$，称为**开放问题集 (Set of Open Questions)**。

**4.2. 解释函数与满足关系 (Interpretation Function and Satisfaction Relation)**

对于任意模型 $M$，我们定义将任意良构公式 $\varphi \in \mathcal{F}$ 映射到论域 $D$ 中元素的**解释函数** $v: \mathcal{F} \to D$ 如下：

1.  **原子情况**: 若 $\alpha$ 是基础符号，则 $v(\alpha) = v_0(\alpha)$。
2.  **递归情况**:
    *   $v(W(\varphi)) = w(v(\varphi))$
    *   $v(P(\varphi, \psi)) = p(v(\varphi), v(\psi))$

公式 $\varphi$ 在模型 $M$ 中为真，记作 $M \models \varphi$，其**满足关系**定义如下：

1.  $M \models I(\varphi, \psi)$ 当且仅当 $v(\varphi) = v(\psi)$。
2.  $M \models W(\varphi)$ 当且仅当 $v(W(\varphi)) \in O$。

一个公式 $\varphi$ 是**有效的**，当且仅当它在所有满足下述 4.3 节约束条件的模型 $M$ 中都为真。

**4.3. 可靠性 (Soundness)**

为保证系统的可靠性（即若 $⊢ \varphi$，则 $\varphi$ 是有效的），模型 $M$ 必须满足以下约束条件：

*   **对于公理 A1 ($I(\varphi, \varphi)$)**:
    $M \models I(\varphi, \varphi)$ 对应 $v(\varphi) = v(\varphi)$。此为等同关系的自反性，无需额外约束。

*   **对于公理 A2 ($I(W(\varphi), W(W(\varphi)))$)**:
    $M \models I(W(\varphi), W(W(\varphi)))$ 对应 $w(v(\varphi)) = w(w(v(\varphi)))$。
    **约束 C1**: 对于所有 $d \in D$，必须有 $w(d) = w(w(d))$。

*   **对于公理 A3 ($I(P(\varphi, \varphi), \varphi)$)**:
    $M \models I(P(\varphi, \varphi), \varphi)$ 对应 $p(v(\varphi), v(\varphi)) = v(\varphi)$。
    **约束 C2**: 对于所有 $d \in D$，必须有 $p(d,d) = d$。

*   **对于规则 R1**:
    保真条件: 若 $M \models W(P(\varphi, W(\psi)))$，则 $M \models I(\psi, \varphi)$。
    语义对应: 若 $w(p(v(\varphi), w(v(\psi)))) \in O$，则 $v(\psi) = v(\varphi)$。
    **约束 C3**: 对于所有 $d_1, d_2 \in D$，若 $w(p(d_1, w(d_2))) \in O$，则 $d_2 = d_1$。

*   **对于规则 R2**:
    保真条件: 若 $M \models I(\varphi, \psi)$ 且 $M \models W(P(\sigma, W(\psi)))$，则 $M \models I(P(\sigma, \varphi), W(\psi))$。
    语义对应: 若 $v(\varphi) = v(\psi)$ 且 $w(p(v(\sigma), w(v(\psi)))) \in O$，则 $p(v(\sigma), v(\varphi)) = w(v(\psi))$。
    **约束 C4**: 对于所有 $d_\varphi, d_\psi, d_\sigma \in D$，若 $d_\varphi = d_\psi$ 且 $w(p(d_\sigma, w(d_\psi))) \in O$，则 $p(d_\sigma, d_\varphi) = w(d_\psi)$。

*   **对于规则 R3, R4, R5**:
    这些规则的保真性由 $I$ 的语义解释（即 $D$ 上的等同关系 $=$）及其传递性与同余性直接保证，无需施加额外约束。

***

#### **5. 系统元理论 (Metatheory of the System)**

本节旨在证明SRI系统的两个基本元理论属性：
1.  **一致性 (Consistency)**: 系统不会推导出所有良构公式。
2.  **非平凡性 (Non-triviality)**: 存在至少一个满足语义约束的、论域非有限的SRI模型。

我们将通过构造一个具体的模型来同时证明这两点。

##### **5.1. 非平凡模型类的非空性证明**

**定义 5.1.1 (具体模型 $M_C$)**

我们构造一个具体的SRI模型 $M_C = (A, Q, v_0, w, p, O)$ 如下：

1.  **答案域 (A)**: 令 $A = \mathbb{N} = \{0, 1, 2, ...\}$，即自然数集。
2.  **问题域 (Q)**: 令 $Q = \{q^*\}$，一个单元素集合。
3.  **基础解释函数 ($v_0$)**: 对于任意基础符号 $\alpha_i$ (其中 $i$ 是一个索引)，定义 $v_0(\alpha_i) = i \in \mathbb{N}$。
4.  **函数 $w$**: 对于任意元素 $d \in D = \mathbb{N} \cup \{q^*\}$，定义 $w(d) = q^*$。
5.  **函数 $p$**: 对于任意元素 $d_1, d_2 \in D$，定义 $p(d_1, d_2) = d_1$ (即第一投影函数)。
6.  **开放问题集 (O)**: 令 $O = \emptyset$，即空集。

**命题 5.1.2**

模型 $M_C$ 是SRI系统的一个有效模型，即它满足 4.3 节中定义的所有约束条件 C1, C2, C3, C4。

**证明**:

*   **验证 C1**: 对于任意 $d \in D$，我们需要证明 $w(d) = w(w(d))$。
    *   根据 $w$ 的定义，$w(d) = q^*$。
    *   因此，$w(w(d)) = w(q^*) = q^*$。
    *   故 $q^* = q^*$，C1 成立。

*   **验证 C2**: 对于任意 $d \in D$，我们需要证明 $p(d,d) = d$。
    *   根据 $p$ 的定义，$p(d,d) = d$。
    *   故 C2 成立。

*   **验证 C3**: 我们需要证明，对于所有 $d_1, d_2 \in D$，若 $w(p(d_1, w(d_2))) \in O$，则 $d_2 = d_1$。
    *   该蕴含式的前提是 $w(p(d_1, w(d_2))) \in O$。
    *   根据 $O$ 的定义，$O = \emptyset$。
    *   没有任何元素可以属于空集，因此前提 $w(p(d_1, w(d_2))) \in \emptyset$ 永远为假。
    *   在一个蕴含式中，若前提为假，则整个蕴含式为真。
    *   故 C3 (在此模型中) 无条件成立。

*   **验证 C4**: 我们需要证明，对于所有 $d_\varphi, d_\psi, d_\sigma \in D$，若 $d_\varphi = d_\psi$ 且 $w(p(d_\sigma, w(d_\psi))) \in O$，则 $p(d_\sigma, d_\varphi) = w(d_\psi)$。
    *   该蕴含式的前提是 $d_\varphi = d_\psi \land w(p(d_\sigma, w(d_\psi))) \in O$。
    *   如 C3 的证明所示，合取项的第二部分 $w(p(d_\sigma, w(d_\psi))) \in O$ 永远为假。
    *   因此，整个合取前提永远为假。
    *   若蕴含式的前提为假，则整个蕴含式为真。
    *   故 C4 (在此模型中) 无条件成立。

由于 $M_C$ 满足所有四个约束条件，因此 $M_C$ 是SRI系统的一个有效模型。

**定理 5.1.3 (非平凡模型类非空)**

SRI系统的非平凡、非退化模型的集合是非空的。

**证明**:

模型 $M_C$ 的答案域 $A = \mathbb{N}$ 是一个无限集。因此，其全域 $D = \mathbb{N} \cup \{q^*\}$ 也是一个无限集。根据定义，具有无限论域的模型是非平凡、非退化的。
我们已经构造了这样一个模型 $M_C$ 并证明了其有效性，因此非平凡有效模型的集合至少包含 $M_C$，故其非空。

##### **5.2. 系统一致性证明**

**定义 5.2.1 (Post 一致性)**

一个形式系统是 **Post 一致的 (Post-consistent)**，当且仅当存在至少一个它的良构公式不是该系统的定理。对于没有内置否定算子的系统（如 SRI），这是标准的一致性定义。

**引理 5.2.2 (可靠性定理)**

如果一个公式 $\varphi$ 是SRI系统的一个定理（即 $⊢ \varphi$），那么对于任何有效的SRI模型 $M$，$\varphi$ 在 $M$ 中为真（即 $M \models \varphi$）。

**证明**:

该证明通过对证明长度的数学归纳法完成。
*   **基础步骤**: 若证明长度为1，则 $\varphi$ 必为公理 A1, A2, 或 A3 的一个实例。根据 4.3 节的约束条件 C1 和 C2 的构造，所有公理在任何有效模型中都为真。
*   **归纳步骤**: 假设所有长度小于 $n$ 的证明的结论都在所有有效模型中为真。考虑一个长度为 $n$ 的证明，其结论为 $\varphi$。若 $\varphi$ 是公理，则已证。若 $\varphi$ 是通过应用某个推理规则 R 从前提 $\psi_1, \psi_2, ...$ 推导出来的，那么 $\psi_1, \psi_2, ...$ 的证明长度均小于 $n$。根据归纳假设，对于任何有效模型 $M$，$M \models \psi_1$, $M \models \psi_2$, ...。根据 4.3 节的约束 C3, C4 以及等同关系的属性，所有推理规则都是保真的。因此，$M \models \varphi$。
故可靠性定理成立。

**定理 5.2.3 (SRI 系统是一致的)**

SRI 系统是 Post 一致的。

**证明**:

1.  根据可靠性定理的逆否命题：如果存在一个有效的 SRI 模型 $M$ 使得 $M \not\models \varphi$，那么 $\varphi$ 不是 SRI 系统的一个定理（即 $\nvdash \varphi$）。

2.  考虑我们在 5.1.1 节中构造的有效模型 $M_C$。

3.  考虑良构公式 $\varphi_{test} = I(\alpha_1, \alpha_2)$，其中 $\alpha_1$ 和 $\alpha_2$ 是两个不同的基础符号。

4.  我们来评估 $\varphi_{test}$ 在模型 $M_C$ 中的真值：
    *   根据满足关系的定义，$M_C \models I(\alpha_1, \alpha_2)$ 当且仅当 $v(\alpha_1) = v(\alpha_2)$。
    *   根据解释函数的定义，$v(\alpha_1) = v_0(\alpha_1)$ 且 $v(\alpha_2) = v_0(\alpha_2)$。
    *   根据 $M_C$ 中 $v_0$ 的定义，$v_0(\alpha_1) = 1$ 且 $v_0(\alpha_2) = 2$。
    *   由于 $1 \neq 2$，所以 $v(\alpha_1) \neq v(\alpha_2)$。
    *   因此，$M_C \not\models I(\alpha_1, \alpha_2)$。

5.  我们找到了一个有效的模型 ($M_C$) 和一个在该模型中不为真的公式 ($I(\alpha_1, \alpha_2)$)。

6.  根据步骤 1，我们可以断定 $\nvdash I(\alpha_1, \alpha_2)$。

7.  由于存在至少一个良构公式（例如 $I(\alpha_1, \alpha_2)$）不是 SRI 系统的定理，因此根据 Post 一致性的定义，SRI 系统是一致的。


---

#### **6. 语义学：一个三值代数模型 (Semantics: A Three-valued Algebraic Model)**

本节为 SRI 系统提供一个形式化的语义解释。我们构建一个模型 $\mathcal{M}$，并证明该系统对于此模型是可靠的 (sound)、非平凡的 (non-trivial) 且非退化的 (non-degenerate)。

##### **6.1. 模型结构 (Model Structure)**

SRI 系统的模型 $\mathcal{M}$ 是一个五元组 $\mathcal{M} = \langle D, \le, T_{des}, \mathcal{O} \rangle$，其中：

1.  **语义域 (Semantic Domain)**: $D$ 是一个包含三个值的集合：
    $D = \{ \top, Q, \bot \}$

2.  **序关系 (Order Relation)**: $\le$ 是在 $D$ 上定义的一个全序关系：
    $\bot \le Q \le \top$

3.  **指定真值集 (Set of Designated Values)**: $T_{des}$ 是 $D$ 的一个子集：
    $T_{des} = \{ \top \}$

4.  **语义算子集 (Set of Semantic Operators)**: $\mathcal{O} = \{w, i, p\}$ 是对应于语法算子 $W, I, P$ 的函数集合。
    *   **函数 $i: D \times D \to D$** 定义为：
        $i(x, y) = \begin{cases} \top & \text{if } x \le y \\ \bot & \text{if } x > y \end{cases}$
    *   **函数 $w: D \to D$** 定义为：
        $w(x) = \begin{cases} \top & \text{if } x = \top \\ Q & \text{if } x \in \{Q, \bot\} \end{cases}$
    *   **函数 $p: D \times D \to D$** 定义为：
        $p(x, y) = \min(x, y)$，其中 $\min$ 依据序关系 $\le$ 定义。

##### **6.2. 赋值与真值 (Valuation and Truth)**

**定义 6.1 (赋值)**:
一个赋值 (valuation) $V$ 是一个从基础符号集到语义域 $D$ 的映射。

**定义 6.2 (解释)**:
对于任意赋值 $V$，其对良构公式集合 $\mathcal{F}$ 的扩展函数（亦记作 $V$）递归定义如下：
1.  若 $\varphi$ 为基础符号，则 $V(\varphi)$ 已由赋值定义。
2.  $V(W(\varphi)) = w(V(\varphi))$
3.  $V(I(\varphi, \psi)) = i(V(\varphi), V(\psi))$
4.  $V(P(\varphi, \psi)) = p(V(\varphi), V(\psi))$

**定义 6.3 (模型中的真)**:
1.  一个公式 $\varphi$ 在赋值 $V$ 下于模型 $\mathcal{M}$ 中为真，记作 $\mathcal{M}, V \models \varphi$，当且仅当 $V(\varphi) \in T_{des}$ (即 $V(\varphi) = \top$)。
2.  一个公式 $\varphi$ 在模型 $\mathcal{M}$ 中为有效 (valid) 或重言式，记作 $\mathcal{M} \models \varphi$，当且仅当对于任意赋值 $V$，都有 $\mathcal{M}, V \models \varphi$。

##### **6.3. 可靠性证明 (Soundness Proof)**

**定理 6.4 (可靠性)**:
对于任意公式 $\varphi \in \mathcal{F}$，如果 $⊢ \varphi$，则 $\mathcal{M} \models \varphi$。

**证明**:
通过对证明长度的归纳来证明。我们必须证明所有公理模式的实例在 $\mathcal{M}$ 中都是有效的，并且所有推理规则都保持有效性。

**基础步骤：公理的有效性**
对于任意赋值 $V$ 和任意公式 $\varphi, \psi, \chi \in \mathcal{F}$：

1.  **A1: $I(\varphi, \varphi)$**
    $V(I(\varphi, \varphi)) = i(V(\varphi), V(\varphi))$。
    根据序关系 $\le$ 的自反性，对于任意 $x \in D$，都有 $x \le x$。
    因此，$i(V(\varphi), V(\varphi)) = \top$。
    故 $\mathcal{M} \models I(\varphi, \varphi)$。

2.  **A2: $I(W(\varphi), W(W(\varphi)))$**
    $V(I(W(\varphi), W(W(\varphi)))) = i(V(W(\varphi)), V(W(W(\varphi)))) = i(w(V(\varphi)), w(w(V(\varphi))))$。
    我们需要证明 $w(V(\varphi)) \le w(w(V(\varphi)))$。令 $x = V(\varphi)$。
    *   情况 1: $x = \top$。则 $w(x) = \top$ 且 $w(w(x)) = w(\top) = \top$。$\top \le \top$ 成立。
    *   情况 2: $x = Q$。则 $w(x) = Q$ 且 $w(w(x)) = w(Q) = Q$。$Q \le Q$ 成立。
    *   情况 3: $x = \bot$。则 $w(x) = Q$ 且 $w(w(x)) = w(Q) = Q$。$Q \le Q$ 成立。
    在所有情况下，$w(x) \le w(w(x))$ 均成立。因此 $i(w(x), w(w(x))) = \top$。
    故 $\mathcal{M} \models I(W(\varphi), W(W(\varphi)))$。

3.  **A3: $I(P(\varphi, \varphi), \varphi)$**
    $V(I(P(\varphi, \varphi), \varphi)) = i(V(P(\varphi, \varphi)), V(\varphi)) = i(p(V(\varphi), V(\varphi)), V(\varphi))$。
    根据 $p$ 的定义，$p(V(\varphi), V(\varphi)) = \min(V(\varphi), V(\varphi)) = V(\varphi)$。
    因此，我们需要证明 $V(\varphi) \le V(\varphi)$，这根据 $\le$ 的自反性显然成立。
    故 $\mathcal{M} \models I(P(\varphi, \varphi), \varphi)$。

**归纳步骤：推理规则的保真性**

1.  **R1: $\frac{⊢ W(P(\varphi, W(\psi)))}{⊢ I(\psi, \varphi)}$**
    归纳假设：$\mathcal{M} \models W(P(\varphi, W(\psi)))$。这意味着对任意 $V$，$V(W(P(\varphi, W(\psi)))) = \top$。
    根据 $w$ 的定义，$w(z) = \top$ 当且仅当 $z = \top$。
    因此，$V(P(\varphi, W(\psi))) = p(V(\varphi), V(W(\psi))) = \top$。
    根据 $p$ 的定义，$\min(x, y) = \top$ 当且仅当 $x = \top$ 且 $y = \top$。
    所以，$V(\varphi) = \top$ 且 $V(W(\psi)) = \top$。
    $V(W(\psi)) = w(V(\psi)) = \top$ 再次蕴含 $V(\psi) = \top$。
    结论是 $I(\psi, \varphi)$。其值为 $V(I(\psi, \varphi)) = i(V(\psi), V(\varphi)) = i(\top, \top) = \top$。
    规则 R1 保持有效性。

2.  **R2: $\frac{⊢ I(\varphi, \psi) \qquad ⊢ W(P(\sigma, W(\psi)))}{⊢ I(P(\sigma, \varphi), W(\psi))}$**
    归纳假设：$\mathcal{M} \models I(\varphi, \psi)$ 且 $\mathcal{M} \models W(P(\sigma, W(\psi)))$。
    (1) $\mathcal{M} \models I(\varphi, \psi) \implies \forall V, V(I(\varphi, \psi)) = \top \implies \forall V, V(\varphi) \le V(\psi)$。
    (2) $\mathcal{M} \models W(P(\sigma, W(\psi))) \implies \forall V, V(\sigma) = \top$ 且 $V(\psi) = \top$ (由 R1 的分析)。
    我们需要证明 $\mathcal{M} \models I(P(\sigma, \varphi), W(\psi))$。
    $V(I(P(\sigma, \varphi), W(\psi))) = i(p(V(\sigma), V(\varphi)), w(V(\psi)))$。
    代入由 (2) 得到的值：$V(\sigma)=\top, V(\psi)=\top$。
    $p(V(\sigma), V(\varphi)) = p(\top, V(\varphi)) = \min(\top, V(\varphi)) = V(\varphi)$。
    $w(V(\psi)) = w(\top) = \top$。
    所以，求值变为 $i(V(\varphi), \top)$。因为对于任意 $x \in D$，都有 $x \le \top$，所以 $i(V(\varphi), \top) = \top$。
    规则 R2 保持有效性。

3.  **R3: $\frac{⊢ I(\varphi, \psi) \qquad ⊢ I(\psi, \chi)}{⊢ I(\varphi, \chi)}$**
    归纳假设：$\mathcal{M} \models I(\varphi, \psi)$ 且 $\mathcal{M} \models I(\psi, \chi)$。
    这意味着对任意 $V$，$V(\varphi) \le V(\psi)$ 且 $V(\psi) \le V(\chi)$。
    由于 $\le$ 是传递序，可得 $V(\varphi) \le V(\chi)$。
    因此，$V(I(\varphi, \chi)) = i(V(\varphi), V(\chi)) = \top$。
    规则 R3 保持有效性。

4.  **R4: $\frac{⊢ I(\varphi, \psi)}{⊢ I(P(\varphi, \chi),P(\psi, \chi))}$**
    归纳假设：$\mathcal{M} \models I(\varphi, \psi)$，即对任意 $V$，$V(\varphi) \le V(\psi)$。
    我们需要证明 $\mathcal{M} \models I(P(\varphi, \chi),P(\psi, \chi))$。
    $V(I(P(\varphi, \chi),P(\psi, \chi))) = i(p(V(\varphi), V(\chi)), p(V(\psi), V(\chi)))$。
    这要求证明 $p(V(\varphi), V(\chi)) \le p(V(\psi), V(\chi))$，即 $\min(V(\varphi), V(\chi)) \le \min(V(\psi), V(\chi))$。
    此不等式因 $\min$ 函数的单调性和假设 $V(\varphi) \le V(\psi)$ 而成立。
    规则 R4 保持有效性。

5.  **R5: $\frac{⊢ I(\varphi, \psi)}{⊢ I(W(\varphi),W(\psi))}$**
    归纳假设：$\mathcal{M} \models I(\varphi, \psi)$，即对任意 $V$，$V(\varphi) \le V(\psi)$。
    我们需要证明 $\mathcal{M} \models I(W(\varphi),W(\psi))$。
    $V(I(W(\varphi),W(\psi))) = i(w(V(\varphi)), w(V(\psi)))$。
    这要求证明 $w(V(\varphi)) \le w(V(\psi))$。
    令 $x = V(\varphi), y = V(\psi)$，已知 $x \le y$。
    *   若 $x=y$，则 $w(x)=w(y)$，成立。
    *   若 $x<y$:
        *   $x=\bot, y=Q$: $w(\bot)=Q, w(Q)=Q$。$Q \le Q$ 成立。
        *   $x=\bot, y=\top$: $w(\bot)=Q, w(\top)=\top$。$Q \le \top$ 成立。
        *   $x=Q, y=\top$: $w(Q)=Q, w(\top)=\top$。$Q \le \top$ 成立。
    函数 $w$ 对于序关系 $\le$ 是单调非减的。因此不等式成立。
    规则 R5 保持有效性。

归纳完毕。定理 6.4 证毕。

##### **6.4. 非平凡性与非退化性 (Non-triviality and Non-degeneracy)**

**命题 6.5 (非平凡性)**:
模型 $\mathcal{M}$ 是非平凡的，即存在一个公式 $\varphi$ 使得 $\mathcal{M} \not\models \varphi$。

**证明**:
令 $α, β$ 为基础符号。考虑赋值 $V$ 使得 $V(α) = \top$ 且 $V(β) = \bot$。
考虑公式 $\varphi = I(α, β)$。
$V(I(α, β)) = i(V(α), V(β)) = i(\top, \bot)$。
由于 $\top \not\le \bot$，根据 $i$ 的定义，$i(\top, \bot) = \bot$。
因为 $V(I(α, β)) \notin T_{des}$，所以 $\mathcal{M}, V \not\models I(α, β)$。
故 $\mathcal{M} \not\models I(α, β)$。

**推论 6.6 (一致性)**:
SRI 系统是一致的 (consistent)，即存在一个公式 $\varphi$ 使得 $\nvdash \varphi$。

**证明**:
由定理 6.4 和命题 6.5 直接可得。若所有公式都是定理，则所有公式在 $\mathcal{M}$ 中都将是有效的，与命题 6.5 矛盾。

**命题 6.7 (非退化性)**:
模型 $\mathcal{M}$ 是非退化的，即对于每一个推理规则，都存在一个赋值 $V$ 使得该规则的所有前提在 $V$ 下为真。

**证明**:
对于每条规则，我们构造一个满足条件的赋值 $V$。
*   **R1**: 令 $V(α) = \top, V(β) = \top$。对于前提 $W(P(α, W(β)))$，$V(W(P(α, W(β)))) = w(p(V(α), w(V(β)))) = w(p(\top, w(\top))) = w(p(\top, \top)) = w(\top) = \top$。前提为真。

*   **R2**: 令 $V(α) = Q, V(β) = \top, V(γ) = \top$。
    *   前提1 $I(α, β)$: $V(I(α, β)) = i(V(α), V(β)) = i(Q, \top) = \top$。
    *   前提2 $W(P(γ, W(β)))$: $V(W(P(γ, W(β)))) = \top$，证明同 R1。
    两个前提均为真。

*   **R3**: 令 $V(α) = \bot, V(β) = Q, V(γ) = \top$。
    *   前提1 $I(α, β)$: $V(I(α, β)) = i(\bot, Q) = \top$。
    *   前提2 $I(β, γ)$: $V(I(β, γ)) = i(Q, \top) = \top$。
    两个前提均为真。

*   **R4**: 令 $V(α) = Q, V(β) = \top$。前提 $I(α, β)$ 的值为 $i(Q, \top) = \top$。前提为真。

*   **R5**: 令 $V(α) = Q, V(β) = \top$。前提 $I(α, β)$ 的值为 $i(Q, \top) = \top$。前提为真。

所有推理规则的前提都可被满足。命题 6.7 证毕。



#### **7. SRI 的语义模型与可靠性**

本节为形式系统 SRI 提供一个集合论模型，并证明该系统的可靠性（Soundness）。

##### **7.1 SRI 的语义**

**定义 7.1.1 (语义域)**

1.  **基础集合 (B)**: 令 $B = \mathbb{N}$，即自然数集。
2.  **真值集合 ($S_W$)**: 令 $S_W = \{0, 1, 2\}$，并定义其上的全序关系为 $0 \le 1 \le 2$。
3.  **真值空间 (V)**: 令 $V = \{f \mid f: B \to S_W\}$，即所有从 $B$ 到 $S_W$ 的函数构成的集合。

**定义 7.1.2 (语义算子)**

我们在 $S_W$ 上定义如下三个函数：
1.  **一元算子 $w: S_W \to S_W$**:
    $w(x) = \begin{cases} 1 & \text{if } x \in \{0, 1\} \\ 2 & \text{if } x = 2 \end{cases}$
2.  **二元算子 $i: S_W \times S_W \to S_W$**:
    $i(x, y) = \begin{cases} 2 & \text{if } x \le y \\ 0 & \text{if } x > y \end{cases}$
3.  **二元算子 $p: S_W \times S_W \to S_W$**:
    $p(x, y) = \min(x, y)$

相应地，我们在真值空间 $V$ 上定义如下算子，对于任意 $f, g \in V$ 和任意 $b \in B$:
1.  **$\mathcal{W}: V \to V$**: $(\mathcal{W}(f))(b) = w(f(b))$
2.  **$\mathcal{I}: V \times V \to V$**: $(\mathcal{I}(f, g))(b) = i(f(b), g(b))$
3.  **$\mathcal{P}: V \times V \to V$**: $(\mathcal{P}(f, g))(b) = p(f(b), g(b))$

**定义 7.1.3 (解释与有效性)**

1.  **赋值 (Valuation)**: 一个赋值 $v$ 是一个函数，它将每个基础符号 $α$ 映射到真值空间 $V$ 中的一个元素，即 $v: \{\alpha, \beta, ...\} \to V$。
2.  **语义解释 ($⟦ \cdot ⟧_v$)**: 对于一个给定的赋值 $v$，一个良构公式 $\varphi$ 的语义解释 $⟦ \varphi ⟧_v \in V$ 递归定义如下：
    *   若 $\varphi$ 是基础符号 $α$，则 $⟦ \alpha ⟧_v = v(\alpha)$。
    *   $⟦ W(\varphi) ⟧_v = \mathcal{W}(⟦ \varphi ⟧_v)$。
    *   $⟦ I(\varphi, \psi) ⟧_v = \mathcal{I}(⟦ \varphi ⟧_v, ⟦ \psi ⟧_v)$。
    *   $⟦ P(\varphi, \psi) ⟧_v = \mathcal{P}(⟦ \varphi ⟧_v, ⟦ \psi ⟧_v)$。
3.  **有效性 (Validity)**: 我们称 $2 \in S_W$ 为**指定值**。一个公式 $\varphi$ 是有效的（记作 $\vDash \varphi$），当且仅当对于任意赋值 $v$ 和任意 $b \in B$，都有 $⟦ \varphi ⟧_v(b) = 2$。

##### **7.2 SRI 的可靠性 (Soundness)**

**定理 7.2.1 (可靠性定理)**
若 $⊢ \varphi$，则 $\vDash \varphi$。

**证明**:
证明通过对证明序列长度的归纳来进行。我们首先证明所有公理都是有效的，并且所有推理规则都保持有效性。

**引理 7.2.2 (公理的有效性)**
对于任意公式 $\varphi, \psi, \chi$，公理模式 A1, A2, A3 的所有实例都是有效的。

**证明**:
令 $v$ 为任意赋值，$b \in B$ 为任意元素。
1.  **A1: $I(\varphi, \varphi)$**
    $⟦ I(\varphi, \varphi) ⟧_v(b) = i(⟦ \varphi ⟧_v(b), ⟦ \varphi ⟧_v(b))$。令 $x = ⟦ \varphi ⟧_v(b)$。根据 $S_W$ 上的序关系， $x \le x$ 恒成立。由定义 7.1.2， $i(x, x) = 2$。因此 $\vDash I(\varphi, \varphi)$。

2.  **A2: $I(W(\varphi), W(W(\varphi)))$**
    $⟦ I(W(\varphi), W(W(\varphi))) ⟧_v(b) = i(w(⟦ \varphi ⟧_v(b)), w(w(⟦ \varphi ⟧_v(b))))$。令 $x = ⟦ \varphi ⟧_v(b)$。我们需要证明 $w(x) \le w(w(x))$。
    *   若 $x \in \{0, 1\}$，则 $w(x) = 1$，$w(w(x)) = w(1) = 1$。$1 \le 1$ 成立。
    *   若 $x=2$，则 $w(x) = 2$，$w(w(x)) = w(2) = 2$。$2 \le 2$ 成立。
    对于所有 $x \in S_W$，$w(x) \le w(w(x))$ 均成立。因此 $i(w(x), w(w(x))) = 2$。故 $\vDash I(W(\varphi), W(W(\varphi)))$。

3.  **A3: $I(P(\varphi, \varphi), \varphi)$**
    $⟦ I(P(\varphi, \varphi), \varphi) ⟧_v(b) = i(p(⟦ \varphi ⟧_v(b), ⟦ \varphi ⟧_v(b)), ⟦ \varphi ⟧_v(b))$。令 $x = ⟦ \varphi ⟧_v(b)$。由定义 7.1.2，$p(x, x) = \min(x, x) = x$。因此表达式变为 $i(x, x)$，其值为 2。故 $\vDash I(P(\varphi, \varphi), \varphi)$。

**引理 7.2.3 (推理规则的有效性保持)**
所有推理规则 R1-R5 都保持有效性。即，若规则的所有前提都有效，则其结论也有效。

**证明**:
令 $v$ 为任意赋值，$b \in B$ 为任意元素。

1.  **R1: $\frac{⊢ W(P(\varphi, W(\psi)))}{⊢ I(\psi, \varphi)}$**
    假设 $\vDash W(P(\varphi, W(\psi)))$。则 $⟦ W(P(\varphi, W(\psi))) ⟧_v(b) = 2$。
    这等价于 $w(p(⟦ \varphi ⟧_v(b), w(⟦ \psi ⟧_v(b)))) = 2$。
    根据 $w$ 的定义，其值为 2 当且仅当其参数为 2。所以 $p(⟦ \varphi ⟧_v(b), w(⟦ \psi ⟧_v(b))) = 2$。
    根据 $p$ 的定义，$\min(x, y) = 2$ 当且仅当 $x=2$ 且 $y=2$。
    因此，$⟦ \varphi ⟧_v(b) = 2$ 且 $w(⟦ \psi ⟧_v(b)) = 2$。
    $w(⟦ \psi ⟧_v(b)) = 2$ 又蕴含 $⟦ \psi ⟧_v(b) = 2$。
    我们需要证明 $\vDash I(\psi, \varphi)$，即证明 $⟦ I(\psi, \varphi) ⟧_v(b) = 2$。
    $⟦ I(\psi, \varphi) ⟧_v(b) = i(⟦ \psi ⟧_v(b), ⟦ \varphi ⟧_v(b)) = i(2, 2)$。因为 $2 \le 2$，所以 $i(2, 2) = 2$。结论有效。

2.  **R2: $\frac{⊢ I(\varphi, \psi) \qquad ⊢ W(P(\sigma, W(\psi)))}{⊢ I(P(\sigma, \varphi), W(\psi))}$**
    假设 $\vDash I(\varphi, \psi)$ 且 $\vDash W(P(\sigma, W(\psi)))$。
    (a) $\vDash I(\varphi, \psi) \implies ⟦ \varphi ⟧_v(b) \le ⟦ \psi ⟧_v(b)$。
    (b) $\vDash W(P(\sigma, W(\psi))) \implies w(p(⟦ \sigma ⟧_v(b), w(⟦ \psi ⟧_v(b)))) = 2$。
    由 (b)，我们推得 $⟦ \sigma ⟧_v(b) = 2$ 且 $w(⟦ \psi ⟧_v(b)) = 2$，后者又蕴含 $⟦ \psi ⟧_v(b) = 2$。
    我们需要证明 $\vDash I(P(\sigma, \varphi), W(\psi))$，即 $p(⟦ \sigma ⟧_v(b), ⟦ \varphi ⟧_v(b)) \le w(⟦ \psi ⟧_v(b))$。
    代入由前提导出的值：$p(2, ⟦ \varphi ⟧_v(b)) \le w(2)$。
    即 $\min(2, ⟦ \varphi ⟧_v(b)) \le 2$。
    由于 $⟦ \varphi ⟧_v(b) \in \{0, 1, 2\}$，此不等式恒成立。结论有效。

3.  **R3: $\frac{⊢ I(\varphi, \psi) \qquad ⊢ I(\psi, \chi)}{⊢ I(\varphi, \chi)}$**
    假设 $\vDash I(\varphi, \psi)$ 且 $\vDash I(\psi, \chi)$。
    这意味着 $⟦ \varphi ⟧_v(b) \le ⟦ \psi ⟧_v(b)$ 且 $⟦ \psi ⟧_v(b) \le ⟦ \chi ⟧_v(b)$。
    由于 $S_W$ 上的 $\le$ 是传递关系，我们有 $⟦ \varphi ⟧_v(b) \le ⟦ \chi ⟧_v(b)$。
    根据 $i$ 的定义，这蕴含 $i(⟦ \varphi ⟧_v(b), ⟦ \chi ⟧_v(b)) = 2$。
    因此 $\vDash I(\varphi, \chi)$。结论有效。

4.  **R4: $\frac{⊢ I(\varphi, \psi)}{⊢ I(P(\varphi, \chi),P(\psi, \chi))}$**
    假设 $\vDash I(\varphi, \psi)$，即 $⟦ \varphi ⟧_v(b) \le ⟦ \psi ⟧_v(b)$。
    我们需要证明 $\vDash I(P(\varphi, \chi),P(\psi, \chi))$，即 $p(⟦ \varphi ⟧_v(b), ⟦ \chi ⟧_v(b)) \le p(⟦ \psi ⟧_v(b), ⟦ \chi ⟧_v(b))$。
    令 $x = ⟦ \varphi ⟧_v(b), y = ⟦ \psi ⟧_v(b), z = ⟦ \chi ⟧_v(b)$。我们已知 $x \le y$。
    我们需要证明 $\min(x, z) \le \min(y, z)$。这是 $\min$ 函数的基本性质。结论有效。

5.  **R5: $\frac{⊢ I(\varphi, \psi)}{⊢ I(W(\varphi),W(\psi))}$**
    假设 $\vDash I(\varphi, \psi)$，即 $⟦ \varphi ⟧_v(b) \le ⟦ \psi ⟧_v(b)$。
    我们需要证明 $\vDash I(W(\varphi), W(\psi))$，即 $w(⟦ \varphi ⟧_v(b)) \le w(⟦ \psi ⟧_v(b))$。
    函数 $w$ 是单调非减的：$w(0)=1, w(1)=1, w(2)=2$。若 $x \le y$，则 $w(x) \le w(y)$。结论有效。

**可靠性定理 7.2.1 的证明（续）**:
一个证明是一个公式序列 $\varphi_1, \dots, \varphi_n$，其中每个 $\varphi_k$ 要么是一个公理，要么是通过某个推理规则由序列中先前的公式导出。
我们通过对 $n$ 的归纳证明序列中每个公式都是有效的。
*   **基础情况 ($n=1$)**: $\varphi_1$ 必须是公理。由引理 7.2.2，$\vDash \varphi_1$。
*   **归纳步骤**: 假设对于所有 $k < n$，$\vDash \varphi_k$。现在考虑 $\varphi_n$。
    *   若 $\varphi_n$ 是公理，则由引理 7.2.2，$\vDash \varphi_n$。
    *   若 $\varphi_n$ 是由先前的公式通过某个推理规则 $R$ 导出的，那么这些前提公式根据归纳假设都是有效的。由引理 7.2.3，规则 $R$ 保持有效性，因此 $\varphi_n$ 也必定有效。
因此，证明中的任何公式，包括定理本身，都是有效的。证明完毕。

##### **7.3 模型的非平凡性与一致性**

**定义 7.3.1 (非退化性与非平凡性)**
1.  一个模型是**非退化的 (Non-degenerate)**，如果其真值集合包含多于一个元素。
2.  一个模型是**非平凡的 (Non-trivial)**，如果存在一个公式 $\varphi$，使得 $\nvDash \varphi$（$\varphi$ 不是有效的）。

**命题 7.3.2**
本节构建的模型是非退化和非平凡的。

**证明**:
1.  **非退化性**: $|S_W|=3 > 1$。模型是非退化的。
2.  **非平凡性**: 考虑公式 $\varphi = I(W(\alpha), \alpha)$。我们需证明 $\nvDash \varphi$。
    构造一个赋值 $v$ 和一个元素 $b_0 \in B$ 使得 $⟦ \varphi ⟧_v(b_0) \neq 2$。
    令 $v$ 为一个赋值，使得 $v(\alpha)$ 是一个函数，满足 $v(\alpha)(b_0)=0$。
    则 $⟦ I(W(\alpha), \alpha) ⟧_v(b_0) = i(⟦ W(\alpha) ⟧_v(b_0), ⟦ \alpha ⟧_v(b_0))$
    $= i(w(⟦ \alpha ⟧_v(b_0)), ⟦ \alpha ⟧_v(b_0))$
    $= i(w(0), 0) = i(1, 0)$。
    因为 $1 > 0$，根据定义 7.1.2，$i(1, 0) = 0 \neq 2$。
    因此，$I(W(\alpha), \alpha)$ 不是一个有效的公式。模型是非平凡的。

**命题 7.3.3 (系统的一致性)**
系统 SRI 是**一致的 (consistent)**，即不存在公式 $\varphi$ 使得 $⊢ \varphi$ 且 $⊢ \neg \varphi$（若定义了否定算子）。在一个更基础的层面上，它是一致的，因为并非所有公式都是定理。

**证明**:
由命题 7.3.2，存在公式 $\varphi$ (例如 $I(W(\alpha), \alpha)$) 不是有效的。根据可靠性定理 7.2.1 的逆否命题，若 $\nvDash \varphi$，则 $\nvdash \varphi$。因此，存在一个公式不是 SRI 的定理。这证明了系统的一致性。

**命题 7.3.4 (推理规则的非空虚性)**
对于每一条推理规则，都存在一组有效的公式可以作为其前提。

**证明**:
由引理 7.2.2，所有公理的实例都是有效的。
*   **R1**: 令 $\varphi = \psi = I(\alpha, \alpha)$。$\vDash \varphi$ 且 $\vDash \psi$。前提 $W(P(\varphi, W(\psi)))$ 的语义值为 $w(p(2, w(2))) = w(2) = 2$。前提可满足。
*   **R2**: 令 $\varphi=\psi=\sigma=I(\alpha, \alpha)$。前提 $I(\varphi, \psi)$ 和 $W(P(\sigma, W(\psi)))$ 均有效，如上所示。前提可满足。
*   **R3**: 令 $\varphi=\psi=\chi=I(\alpha, \alpha)$。前提 $I(\varphi, \psi)$ 和 $I(\psi, \chi)$ 均有效。前提可满足。
*   **R4, R5**: 令 $\varphi=\psi=I(\alpha, \alpha)$。前提 $I(\varphi, \psi)$ 有效。前提可满足。

所有推理规则都不是空虚为真的。


### **8. SRI 的模型语义与可靠性**

#### **8.1. 模型 M 的定义**

为了对形式系统 **SRI** 提供语义解释，我们构建一个模型 $\mathcal{M}$。

**8.1.1. 语义域 (Semantic Domain)**

1.  令 $\mathcal{U} = \mathbb{N} = \{0, 1, 2, ...\}$ 作为无限的基础集合。
2.  令 $\mathcal{S} = \{0, 1\}$ 作为真值集合，其中 `1` 是指定真值。
3.  模型的语义值域 (domain of semantic values) 定义为 $\mathcal{V} = \mathcal{S}^{\mathcal{U}}$，即所有从 $\mathcal{U}$ 到 $\mathcal{S}$ 的函数的集合。

**8.1.2. 解释函数 (Interpretation Function)**

我们定义一个解释函数 $⟦ \cdot ⟧ : \mathcal{F} \to \mathcal{V}$，它将系统中的每个良构公式 $\varphi \in \mathcal{F}$ 映射到语义值域 $\mathcal{V}$ 中的一个具体函数。

1.  对于任意基础符号 $\alpha$，其解释 $⟦ \alpha ⟧$ 是 $\mathcal{V}$ 中的任意一个函数。
2.  对于任意公式 $\varphi, \psi \in \mathcal{F}$，算子的解释定义如下。

**8.1.3. 算子的语义定义**

对于任意 $u \in \mathcal{U}$：

1.  **一元算子 W**:
    $⟦ W(\varphi) ⟧$ 是一个常数函数，其定义如下：
    $$
    ⟦ W(\varphi) ⟧(u) :=
    \begin{cases}
    1 & \text{如果 } \forall v \in \mathcal{U}, ⟦ \varphi ⟧(v) = 1 \\
    0 & \text{如果 } \exists v \in \mathcal{U}, ⟦ \varphi ⟧(v) = 0
    \end{cases}
    $$

2.  **二元算子 I**:
    $⟦ I(\varphi, \psi) ⟧$ 的定义是逐点 (pointwise) 的：
    $$
    ⟦ I(\varphi, \psi) ⟧(u) :=
    \begin{cases}
    1 & \text{如果 } ⟦ \varphi ⟧(u) \leq ⟦ \psi ⟧(u) \\
    0 & \text{如果 } ⟦ \varphi ⟧(u) > ⟦ \psi ⟧(u)
    \end{cases}
    $$

3.  **二元算子 P**:
    $⟦ P(\varphi, \psi) ⟧$ 的定义是逐点 (pointwise) 的：
    $$
    ⟦ P(\varphi, \psi) ⟧(u) := \min(⟦ \varphi ⟧(u), ⟦ \psi ⟧(u))
    $$

**8.1.4. 模型中的有效性 (Validity in the Model)**

一个公式 $\varphi \in \mathcal{F}$ 在模型 $\mathcal{M}$ 中是有效的 (valid)，记作 $\mathcal{M} \vDash \varphi$，当且仅当其解释是一个值为 `1` 的常数函数。
$$
\mathcal{M} \vDash \varphi \quad \iff \quad \forall u \in \mathcal{U}, ⟦ \varphi ⟧(u) = 1
$$

#### **8.2. SRI 系统关于模型 M 的可靠性 (Soundness)**

可靠性定理指出，如果一个公式在 **SRI** 系统中是可证的，那么它在模型 $\mathcal{M}$ 中是有效的。即：若 $⊢ \varphi$，则 $\mathcal{M} \vDash \varphi$。

我们通过对证明长度的归纳来证明此定理。

**8.2.1. 基本情况：公理的有效性**

我们需要证明所有公理模式的实例在 $\mathcal{M}$ 中都是有效的。

*   **公理 A1**: $I(\varphi, \varphi)$
    要证明 $\mathcal{M} \vDash I(\varphi, \varphi)$，我们需要证明 $\forall u \in \mathcal{U}, ⟦ I(\varphi, \varphi) ⟧(u) = 1$。
    根据 $I$ 的定义，这等价于证明 $\forall u \in \mathcal{U}, ⟦ \varphi ⟧(u) \leq ⟦ \varphi ⟧(u)$。
    由于 $\leq$ 关系是自反的，此式恒成立。
    **因此，A1 是有效的。**

*   **公理 A2**: $I(W(\varphi), W(W(\varphi)))$
    要证明 $\mathcal{M} \vDash I(W(\varphi), W(W(\varphi)))$，我们需要证明 $\forall u \in \mathcal{U}, ⟦ W(\varphi) ⟧(u) \leq ⟦ W(W(\varphi)) ⟧(u)$。
    考虑两种情况：
    1.  若 $\mathcal{M} \vDash \varphi$，则 $\forall v \in \mathcal{U}, ⟦ \varphi ⟧(v) = 1$。根据 $W$ 的定义，$⟦ W(\varphi) ⟧$ 是值为 1 的常数函数。进而，$\mathcal{M} \vDash W(\varphi)$，所以 $⟦ W(W(\varphi)) ⟧$ 也是值为 1 的常数函数。此时，不等式为 $1 \leq 1$，成立。
    2.  若 $\mathcal{M} \nvDash \varphi$，则 $\exists v \in \mathcal{U}, ⟦ \varphi ⟧(v) = 0$。根据 $W$ 的定义，$⟦ W(\varphi) ⟧$ 是值为 0 的常数函数。进而，$\mathcal{M} \nvDash W(\varphi)$，所以 $⟦ W(W(\varphi)) ⟧$ 也是值为 0 的常数函数。此时，不等式为 $0 \leq 0$，成立。
    **因此，A2 是有效的。**

*   **公理 A3**: $I(P(\varphi, \varphi), \varphi)$
    要证明 $\mathcal{M} \vDash I(P(\varphi, \varphi), \varphi)$，我们需要证明 $\forall u \in \mathcal{U}, ⟦ P(\varphi, \varphi) ⟧(u) \leq ⟦ \varphi ⟧(u)$。
    根据 $P$ 的定义，$⟦ P(\varphi, \varphi) ⟧(u) = \min(⟦ \varphi ⟧(u), ⟦ \varphi ⟧(u)) = ⟦ \varphi ⟧(u)$。
    不等式变为 $⟦ \varphi ⟧(u) \leq ⟦ \varphi ⟧(u)$，此式恒成立。
    **因此，A3 是有效的。**

**8.2.2. 归纳步骤：推理规则的保真性**

我们假设规则的前提在 $\mathcal{M}$ 中是有效的，并证明其结论也必然是有效的。

*   **规则 R1**: $\frac{⊢ W(P(\varphi, W(\psi)))}{⊢ I(\psi, \varphi)}$
    假设 $\mathcal{M} \vDash W(P(\varphi, W(\psi)))$。这意味着 $\forall u \in \mathcal{U}, ⟦ W(P(\varphi, W(\psi))) ⟧(u) = 1$。
    根据 $W$ 的定义，这要求 $\mathcal{M} \vDash P(\varphi, W(\psi))$。
    即 $\forall u \in \mathcal{U}, ⟦ P(\varphi, W(\psi)) ⟧(u) = 1$。
    根据 $P$ 的定义，$\forall u \in \mathcal{U}, \min(⟦ \varphi ⟧(u), ⟦ W(\psi) ⟧(u)) = 1$。
    这当且仅当 $\forall u \in \mathcal{U}, ⟦ \varphi ⟧(u) = 1$ 且 $\forall u \in \mathcal{U}, ⟦ W(\psi) ⟧(u) = 1$。
    前者意味着 $\mathcal{M} \vDash \varphi$。后者根据 $W$ 的定义，意味着 $\mathcal{M} \vDash \psi$。
    因此，假设等价于 $\mathcal{M} \vDash \varphi$ 且 $\mathcal{M} \vDash \psi$。
    我们需要证明 $\mathcal{M} \vDash I(\psi, \varphi)$，即 $\forall u \in \mathcal{U}, ⟦ \psi ⟧(u) \leq ⟦ \varphi ⟧(u)$。
    由于 $\mathcal{M} \vDash \psi$ 和 $\mathcal{M} \vDash \varphi$，我们有 $\forall u \in \mathcal{U}, ⟦ \psi ⟧(u)=1$ 且 $⟦ \varphi ⟧(u)=1$。
    $1 \leq 1$ 恒成立。
    **因此，R1 保持有效性。**

*   **规则 R2**: $\frac{⊢ I(\varphi, \psi) \qquad ⊢ W(P(\sigma, W(\psi)))}{⊢ I(P(\sigma, \varphi), W(\psi))}$
    假设 $\mathcal{M} \vDash I(\varphi, \psi)$ 且 $\mathcal{M} \vDash W(P(\sigma, W(\psi)))$。
    1.  从 $\mathcal{M} \vDash I(\varphi, \psi)$ 可得 $\forall u \in \mathcal{U}, ⟦ \varphi ⟧(u) \leq ⟦ \psi ⟧(u)$。
    2.  从 $\mathcal{M} \vDash W(P(\sigma, W(\psi)))$ 可得 $\mathcal{M} \vDash \sigma$ 且 $\mathcal{M} \vDash \psi$ (分析同 R1)。
    由 (2) 可知，$⟦ \sigma ⟧$ 和 $⟦ \psi ⟧$ 均为值为 1 的常数函数。
    我们需要证明 $\mathcal{M} \vDash I(P(\sigma, \varphi), W(\psi))$，即 $\forall u \in \mathcal{U}, ⟦ P(\sigma, \varphi) ⟧(u) \leq ⟦ W(\psi) ⟧(u)$。
    *   左侧：$⟦ P(\sigma, \varphi) ⟧(u) = \min(⟦ \sigma ⟧(u), ⟦ \varphi ⟧(u)) = \min(1, ⟦ \varphi ⟧(u)) = ⟦ \varphi ⟧(u)$。
    *   右侧：由于 $\mathcal{M} \vDash \psi$, $⟦ W(\psi) ⟧$ 是值为 1 的常数函数，故 $⟦ W(\psi) ⟧(u) = 1$。
    因此，我们需要证明 $\forall u \in \mathcal{U}, ⟦ \varphi ⟧(u) \leq 1$。
    根据 $\mathcal{S}$ 的定义，此式对于任何 $\varphi$ 恒成立。
    **因此，R2 保持有效性。**

*   **规则 R3**: $\frac{⊢ I(\varphi, \psi) \qquad ⊢ I(\psi, \chi)}{⊢ I(\varphi, \chi)}$
    假设 $\mathcal{M} \vDash I(\varphi, \psi)$ 且 $\mathcal{M} \vDash I(\psi, \chi)$。
    这意味着 $\forall u \in \mathcal{U}, ⟦ \varphi ⟧(u) \leq ⟦ \psi ⟧(u)$ 且 $\forall u \in \mathcal{U}, ⟦ \psi ⟧(u) \leq ⟦ \chi ⟧(u)$。
    由于 $\leq$ 关系在 $\{0, 1\}$ 上是传递的，可得 $\forall u \in \mathcal{U}, ⟦ \varphi ⟧(u) \leq ⟦ \chi ⟧(u)$。
    这正是 $\mathcal{M} \vDash I(\varphi, \chi)$ 的语义定义。
    **因此，R3 保持有效性。**

*   **规则 R4**: $\frac{⊢ I(\varphi, \psi)}{⊢ I(P(\varphi, \chi),P(\psi, \chi))}$
    假设 $\mathcal{M} \vDash I(\varphi, \psi)$，即 $\forall u \in \mathcal{U}, ⟦ \varphi ⟧(u) \leq ⟦ \psi ⟧(u)$。
    我们需要证明 $\mathcal{M} \vDash I(P(\varphi, \chi), P(\psi, \chi))$，即 $\forall u \in \mathcal{U}, ⟦ P(\varphi, \chi) ⟧(u) \leq ⟦ P(\psi, \chi) ⟧(u)$。
    这等价于 $\forall u \in \mathcal{U}, \min(⟦ \varphi ⟧(u), ⟦ \chi ⟧(u)) \leq \min(⟦ \psi ⟧(u), ⟦ \chi ⟧(u))$。
    我们对 $⟦ \chi ⟧(u)$ 进行情况分析：
    1.  若 $⟦ \chi ⟧(u) = 0$，不等式为 $\min(⟦ \varphi ⟧(u), 0) \leq \min(⟦ \psi ⟧(u), 0)$，即 $0 \leq 0$，成立。
    2.  若 $⟦ \chi ⟧(u) = 1$，不等式为 $\min(⟦ \varphi ⟧(u), 1) \leq \min(⟦ \psi ⟧(u), 1)$，即 $⟦ \varphi ⟧(u) \leq ⟦ \psi ⟧(u)$，这正是我们的假设。
    **因此，R4 保持有效性。**

*   **规则 R5**: $\frac{⊢ I(\varphi, \psi)}{⊢ I(W(\varphi),W(\psi))}$
    假设 $\mathcal{M} \vDash I(\varphi, \psi)$，即 $\forall u \in \mathcal{U}, ⟦ \varphi ⟧(u) \leq ⟦ \psi ⟧(u)$。
    我们需要证明 $\mathcal{M} \vDash I(W(\varphi), W(\psi))$，即 $\forall u \in \mathcal{U}, ⟦ W(\varphi) ⟧(u) \leq ⟦ W(\psi) ⟧(u)$。
    我们对 $\varphi$ 进行情况分析：
    1.  若 $\mathcal{M} \vDash \varphi$，则 $\forall v \in \mathcal{U}, ⟦ \varphi ⟧(v) = 1$。由假设 $⟦ \varphi ⟧ \leq ⟦ \psi ⟧$ (逐点)，必然有 $\forall v \in \mathcal{U}, ⟦ \psi ⟧(v) = 1$，即 $\mathcal{M} \vDash \psi$。此时，$⟦ W(\varphi) ⟧$ 和 $⟦ W(\psi) ⟧$ 均为值为 1 的常数函数。不等式为 $1 \leq 1$，成立。
    2.  若 $\mathcal{M} \nvDash \varphi$，则 $⟦ W(\varphi) ⟧$ 为值为 0 的常数函数。不等式为 $0 \leq ⟦ W(\psi) ⟧(u)$。由于 $⟦ W(\psi) ⟧(u) \in \{0, 1\}$，此式恒成立。
    **因此，R5 保持有效性。**

公理有效且所有推理规则保真，故 **SRI** 系统关于模型 $\mathcal{M}$ 是可靠的。

#### **8.3. 模型的非平凡性与非退化性**

**8.3.1. 非平凡性 (Non-triviality)**

模型 $\mathcal{M}$ 是非平凡的，因为它既包含有效的公式，也包含无效的公式。

1.  **有效的公式**: 所有公理的实例，例如 $I(\alpha, \alpha)$，对于任何基础符号 $\alpha$ 的任何解释都是有效的。
2.  **无效的公式**: 考虑基础符号 $\alpha$。为其指定一个非恒为 1 的解释，例如 $⟦ \alpha ⟧(u) := u \pmod 2$。
    *   此时，$\mathcal{M} \nvDash \alpha$，因为 $⟦ \alpha ⟧(0) = 0 \neq 1$。
    *   此时，$\mathcal{M} \nvDash W(\alpha)$，因为 $⟦ W(\alpha) ⟧$ 是值为 0 的常数函数。

**8.3.2. 规则的非空虚性 (Non-vacuity of Rules)**

我们证明对于每条推理规则，都存在一个解释实例，使其所有前提均得到满足。

*   **R1**: 令 $⟦ \varphi ⟧$ 和 $⟦ \psi ⟧$ 均为值为 1 的常数函数。此时 $\mathcal{M} \vDash \varphi$ 且 $\mathcal{M} \vDash \psi$。如 8.2.2 中 R1 的分析，这使得前提 $\mathcal{M} \vDash W(P(\varphi, W(\psi)))$ 成立。
*   **R2**: 令 $⟦ \psi ⟧$ 和 $⟦ \sigma ⟧$ 均为值为 1 的常数函数，令 $⟦ \varphi ⟧$ 为任意函数。此时前提 $\mathcal{M} \vDash I(\varphi, \psi)$ (因为 $⟦ \varphi ⟧(u) \leq 1$ 恒成立) 与 $\mathcal{M} \vDash W(P(\sigma, W(\psi)))$ 均成立。
*   **R3**: 令 $⟦ \varphi ⟧, ⟦ \psi ⟧, ⟦ \chi ⟧$ 均为值为 1 的常数函数。此时前提 $\mathcal{M} \vDash I(\varphi, \psi)$ 与 $\mathcal{M} \vDash I(\psi, \chi)$ 均成立。
*   **R4**: 令 $⟦ \varphi ⟧$ 为值为 0 的常数函数，$⟦ \psi ⟧$ 为值为 1 的常数函数。此时前提 $\mathcal{M} \vDash I(\varphi, \psi)$ 成立。
*   **R5**: 令 $⟦ \varphi ⟧$ 为值为 0 的常数函数，$⟦ \psi ⟧$ 为值为 1 的常数函数。此时前提 $\mathcal{M} \vDash I(\varphi, \psi)$ 成立。

由于所有规则的前提均可被满足，因此这些规则在模型中不是空虚为真的。模型 $\mathcal{M}$ 是一个非退化 (non-degenerate) 的模型。
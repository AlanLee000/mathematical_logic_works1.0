### **形式系统 SRI**

#### **1. 语法 (Syntax)**

**1.1. 字母表 (Alphabet)**

SRI 系统的字母表由以下四类符号构成：

1.  **基础符号集 (Basic Symbols)**: 一个可数的无限集合，用 $α, β, γ, ...$ 等表示。
2.  **一元算子 (Unary Operator)**: $W$
3.  **二元算子 (Binary Operators)**: $I$, $P$
4.  **辅助符号 (Auxiliary Symbols)**: $($, $)$

**1.2. 良构公式 (Well-formed Formulas, WFFs)**

SRI 系统中良构公式的集合（记作 $\mathcal{F}$）是满足以下条件的最小集合：

1.  **原子性**: 如果 $α$ 是一个基础符号，那么 $α ∈ \mathcal{F}$。
2.  **W构造**: 如果 $\varphi ∈ \mathcal{F}$，那么 $W(\varphi) ∈ \mathcal{F}$。
3.  **I构造**: 如果 $\varphi, \psi ∈ \mathcal{F}$，那么 $I(\varphi, \psi) ∈ \mathcal{F}$。
4.  **P构造**: 如果 $\varphi, \psi ∈ \mathcal{F}$，那么 $P(\varphi, \psi) ∈ \mathcal{F}$。

#### **2. 证明论 (Proof Theory)**

**2.1. 公理模式 (Axiom Schemas)**

对于 $\mathcal{F}$ 中的任意公式 $\varphi$，$\psi$，$\chi$，以下公式均为公理：

*   **A1:**
    $I(\varphi, \varphi)$

*   **A2:**
    $I(W(\varphi), W(W(\varphi)))$

*   **A3:**
    $I(P(\varphi, \varphi), \varphi)$

**2.2. 推理规则 (Rules of Inference)**

令 $\varphi, \psi, \chi, \sigma$ 为 $\mathcal{F}$ 中的任意公式。符号 $⊢ \varphi$ 表示 $\varphi$ 是系统中的一个定理。

*   **R1:**
    
    $$
    \frac{⊢ W(P(\varphi, W(\psi)))}{⊢ I(\psi, \varphi)}
    $$

*   **R2:**
    
    $$
    \frac{⊢ I(\varphi, \psi) \qquad ⊢ W(P(\sigma, W(\psi)))}{⊢ I(P(\sigma, \varphi), W(\psi))}
    $$

*   **R3:**
    
    $$
    \frac{⊢ I(\varphi, \psi) ,\qquad⊢ I(\psi, \chi)}{⊢ I(\varphi, \chi)}
    $$

*   **R4:**
    
    $$
    \frac{⊢ I(\varphi, \psi)}{⊢ I(P(\varphi, \chi),P(\psi, \chi))}
    $$

*   **R5:**

    $$
    \frac{⊢ I(\varphi, \psi)}{⊢ I(W(\varphi),W(\psi))}
    $$

#### **3. 核心定义 (Core Definitions)**

*   **证明 (Proof)**: SRI 系统中的一个证明，是一个由良构公式组成的有限序列 $\varphi_{1}, \varphi_{2}, ..., \varphi_{n}$，其中对于序列中的每一个 $\varphi_{i}$ (1 ≤ i ≤ n)，$\varphi_{i}$ 必须满足以下条件之一：
    1.  $\varphi_{i}$ 是公理模式 A1, A2 或 A3 的一个实例。
    2.  存在序列中位于 $\varphi_{i}$ 之前的公式，使得 $\varphi_{i}$ 可以通过应用推理规则 R1, R2, R3, R4 或 R5 推导得出。

*   **定理 (Theorem)**: 一个良构公式 $\varphi$ 是 SRI 系统的一个定理，当且仅当存在一个以 $\varphi$ 为最终公式的证明。我们将 $\varphi$ 是一个定理记作 $⊢ \varphi$。

---


### **8. SRI 的模型语义与可靠性**

#### **8.1. 模型 M 的定义**

为了对形式系统 **SRI** 提供语义解释，我们构建一个模型 $\mathcal{M}$。

**8.1.1. 语义域 (Semantic Domain)**

1.  令 $\mathcal{U} = \mathbb{N} = \{0, 1, 2, ...\}$ 作为无限的基础集合。
2.  令 $\mathcal{S} = \{0, 1\}$ 作为真值集合，其中 `1` 是指定真值。
3.  模型的语义值域 (domain of semantic values) 定义为 $\mathcal{V} = \mathcal{S}^{\mathcal{U}}$，即所有从 $\mathcal{U}$ 到 $\mathcal{S}$ 的函数的集合。

**8.1.2. 解释函数 (Interpretation Function)**

我们定义一个解释函数 $⟦ \cdot ⟧ : \mathcal{F} \to \mathcal{V}$，它将系统中的每个良构公式 $\varphi \in \mathcal{F}$ 映射到语义值域 $\mathcal{V}$ 中的一个具体函数。

1.  对于任意基础符号 $\alpha$，其解释 $⟦ \alpha ⟧$ 是 $\mathcal{V}$ 中的任意一个函数。
2.  对于任意公式 $\varphi, \psi \in \mathcal{F}$，算子的解释定义如下。

**8.1.3. 算子的语义定义**

对于任意 $u \in \mathcal{U}$：

1.  **一元算子 W**:
    $⟦ W(\varphi) ⟧$ 是一个常数函数，其定义如下：
    $$
    ⟦ W(\varphi) ⟧(u) :=
    \begin{cases}
    1 & \text{如果 } \forall v \in \mathcal{U}, ⟦ \varphi ⟧(v) = 1 \\
    0 & \text{如果 } \exists v \in \mathcal{U}, ⟦ \varphi ⟧(v) = 0
    \end{cases}
    $$

2.  **二元算子 I**:
    $⟦ I(\varphi, \psi) ⟧$ 的定义是逐点 (pointwise) 的：
    $$
    ⟦ I(\varphi, \psi) ⟧(u) :=
    \begin{cases}
    1 & \text{如果 } ⟦ \varphi ⟧(u) \leq ⟦ \psi ⟧(u) \\
    0 & \text{如果 } ⟦ \varphi ⟧(u) > ⟦ \psi ⟧(u)
    \end{cases}
    $$

3.  **二元算子 P**:
    $⟦ P(\varphi, \psi) ⟧$ 的定义是逐点 (pointwise) 的：
    $$
    ⟦ P(\varphi, \psi) ⟧(u) := \min(⟦ \varphi ⟧(u), ⟦ \psi ⟧(u))
    $$

**8.1.4. 模型中的有效性 (Validity in the Model)**

一个公式 $\varphi \in \mathcal{F}$ 在模型 $\mathcal{M}$ 中是有效的 (valid)，记作 $\mathcal{M} \vDash \varphi$，当且仅当其解释是一个值为 `1` 的常数函数。
$$
\mathcal{M} \vDash \varphi \quad \iff \quad \forall u \in \mathcal{U}, ⟦ \varphi ⟧(u) = 1
$$

#### **8.2. SRI 系统关于模型 M 的可靠性 (Soundness)**

可靠性定理指出，如果一个公式在 **SRI** 系统中是可证的，那么它在模型 $\mathcal{M}$ 中是有效的。即：若 $⊢ \varphi$，则 $\mathcal{M} \vDash \varphi$。

我们通过对证明长度的归纳来证明此定理。

**8.2.1. 基本情况：公理的有效性**

我们需要证明所有公理模式的实例在 $\mathcal{M}$ 中都是有效的。

*   **公理 A1**: $I(\varphi, \varphi)$
    要证明 $\mathcal{M} \vDash I(\varphi, \varphi)$，我们需要证明 $\forall u \in \mathcal{U}, ⟦ I(\varphi, \varphi) ⟧(u) = 1$。
    根据 $I$ 的定义，这等价于证明 $\forall u \in \mathcal{U}, ⟦ \varphi ⟧(u) \leq ⟦ \varphi ⟧(u)$。
    由于 $\leq$ 关系是自反的，此式恒成立。
    **因此，A1 是有效的。**

*   **公理 A2**: $I(W(\varphi), W(W(\varphi)))$
    要证明 $\mathcal{M} \vDash I(W(\varphi), W(W(\varphi)))$，我们需要证明 $\forall u \in \mathcal{U}, ⟦ W(\varphi) ⟧(u) \leq ⟦ W(W(\varphi)) ⟧(u)$。
    考虑两种情况：
    1.  若 $\mathcal{M} \vDash \varphi$，则 $\forall v \in \mathcal{U}, ⟦ \varphi ⟧(v) = 1$。根据 $W$ 的定义，$⟦ W(\varphi) ⟧$ 是值为 1 的常数函数。进而，$\mathcal{M} \vDash W(\varphi)$，所以 $⟦ W(W(\varphi)) ⟧$ 也是值为 1 的常数函数。此时，不等式为 $1 \leq 1$，成立。
    2.  若 $\mathcal{M} \nvDash \varphi$，则 $\exists v \in \mathcal{U}, ⟦ \varphi ⟧(v) = 0$。根据 $W$ 的定义，$⟦ W(\varphi) ⟧$ 是值为 0 的常数函数。进而，$\mathcal{M} \nvDash W(\varphi)$，所以 $⟦ W(W(\varphi)) ⟧$ 也是值为 0 的常数函数。此时，不等式为 $0 \leq 0$，成立。
    **因此，A2 是有效的。**

*   **公理 A3**: $I(P(\varphi, \varphi), \varphi)$
    要证明 $\mathcal{M} \vDash I(P(\varphi, \varphi), \varphi)$，我们需要证明 $\forall u \in \mathcal{U}, ⟦ P(\varphi, \varphi) ⟧(u) \leq ⟦ \varphi ⟧(u)$。
    根据 $P$ 的定义，$⟦ P(\varphi, \varphi) ⟧(u) = \min(⟦ \varphi ⟧(u), ⟦ \varphi ⟧(u)) = ⟦ \varphi ⟧(u)$。
    不等式变为 $⟦ \varphi ⟧(u) \leq ⟦ \varphi ⟧(u)$，此式恒成立。
    **因此，A3 是有效的。**

**8.2.2. 归纳步骤：推理规则的保真性**

我们假设规则的前提在 $\mathcal{M}$ 中是有效的，并证明其结论也必然是有效的。

*   **规则 R1**: $\frac{⊢ W(P(\varphi, W(\psi)))}{⊢ I(\psi, \varphi)}$
    假设 $\mathcal{M} \vDash W(P(\varphi, W(\psi)))$。这意味着 $\forall u \in \mathcal{U}, ⟦ W(P(\varphi, W(\psi))) ⟧(u) = 1$。
    根据 $W$ 的定义，这要求 $\mathcal{M} \vDash P(\varphi, W(\psi))$。
    即 $\forall u \in \mathcal{U}, ⟦ P(\varphi, W(\psi)) ⟧(u) = 1$。
    根据 $P$ 的定义，$\forall u \in \mathcal{U}, \min(⟦ \varphi ⟧(u), ⟦ W(\psi) ⟧(u)) = 1$。
    这当且仅当 $\forall u \in \mathcal{U}, ⟦ \varphi ⟧(u) = 1$ 且 $\forall u \in \mathcal{U}, ⟦ W(\psi) ⟧(u) = 1$。
    前者意味着 $\mathcal{M} \vDash \varphi$。后者根据 $W$ 的定义，意味着 $\mathcal{M} \vDash \psi$。
    因此，假设等价于 $\mathcal{M} \vDash \varphi$ 且 $\mathcal{M} \vDash \psi$。
    我们需要证明 $\mathcal{M} \vDash I(\psi, \varphi)$，即 $\forall u \in \mathcal{U}, ⟦ \psi ⟧(u) \leq ⟦ \varphi ⟧(u)$。
    由于 $\mathcal{M} \vDash \psi$ 和 $\mathcal{M} \vDash \varphi$，我们有 $\forall u \in \mathcal{U}, ⟦ \psi ⟧(u)=1$ 且 $⟦ \varphi ⟧(u)=1$。
    $1 \leq 1$ 恒成立。
    **因此，R1 保持有效性。**

*   **规则 R2**: $\frac{⊢ I(\varphi, \psi) \qquad ⊢ W(P(\sigma, W(\psi)))}{⊢ I(P(\sigma, \varphi), W(\psi))}$
    假设 $\mathcal{M} \vDash I(\varphi, \psi)$ 且 $\mathcal{M} \vDash W(P(\sigma, W(\psi)))$。
    1.  从 $\mathcal{M} \vDash I(\varphi, \psi)$ 可得 $\forall u \in \mathcal{U}, ⟦ \varphi ⟧(u) \leq ⟦ \psi ⟧(u)$。
    2.  从 $\mathcal{M} \vDash W(P(\sigma, W(\psi)))$ 可得 $\mathcal{M} \vDash \sigma$ 且 $\mathcal{M} \vDash \psi$ (分析同 R1)。
    由 (2) 可知，$⟦ \sigma ⟧$ 和 $⟦ \psi ⟧$ 均为值为 1 的常数函数。
    我们需要证明 $\mathcal{M} \vDash I(P(\sigma, \varphi), W(\psi))$，即 $\forall u \in \mathcal{U}, ⟦ P(\sigma, \varphi) ⟧(u) \leq ⟦ W(\psi) ⟧(u)$。
    *   左侧：$⟦ P(\sigma, \varphi) ⟧(u) = \min(⟦ \sigma ⟧(u), ⟦ \varphi ⟧(u)) = \min(1, ⟦ \varphi ⟧(u)) = ⟦ \varphi ⟧(u)$。
    *   右侧：由于 $\mathcal{M} \vDash \psi$, $⟦ W(\psi) ⟧$ 是值为 1 的常数函数，故 $⟦ W(\psi) ⟧(u) = 1$。
    因此，我们需要证明 $\forall u \in \mathcal{U}, ⟦ \varphi ⟧(u) \leq 1$。
    根据 $\mathcal{S}$ 的定义，此式对于任何 $\varphi$ 恒成立。
    **因此，R2 保持有效性。**

*   **规则 R3**: $\frac{⊢ I(\varphi, \psi) \qquad ⊢ I(\psi, \chi)}{⊢ I(\varphi, \chi)}$
    假设 $\mathcal{M} \vDash I(\varphi, \psi)$ 且 $\mathcal{M} \vDash I(\psi, \chi)$。
    这意味着 $\forall u \in \mathcal{U}, ⟦ \varphi ⟧(u) \leq ⟦ \psi ⟧(u)$ 且 $\forall u \in \mathcal{U}, ⟦ \psi ⟧(u) \leq ⟦ \chi ⟧(u)$。
    由于 $\leq$ 关系在 $\{0, 1\}$ 上是传递的，可得 $\forall u \in \mathcal{U}, ⟦ \varphi ⟧(u) \leq ⟦ \chi ⟧(u)$。
    这正是 $\mathcal{M} \vDash I(\varphi, \chi)$ 的语义定义。
    **因此，R3 保持有效性。**

*   **规则 R4**: $\frac{⊢ I(\varphi, \psi)}{⊢ I(P(\varphi, \chi),P(\psi, \chi))}$
    假设 $\mathcal{M} \vDash I(\varphi, \psi)$，即 $\forall u \in \mathcal{U}, ⟦ \varphi ⟧(u) \leq ⟦ \psi ⟧(u)$。
    我们需要证明 $\mathcal{M} \vDash I(P(\varphi, \chi), P(\psi, \chi))$，即 $\forall u \in \mathcal{U}, ⟦ P(\varphi, \chi) ⟧(u) \leq ⟦ P(\psi, \chi) ⟧(u)$。
    这等价于 $\forall u \in \mathcal{U}, \min(⟦ \varphi ⟧(u), ⟦ \chi ⟧(u)) \leq \min(⟦ \psi ⟧(u), ⟦ \chi ⟧(u))$。
    我们对 $⟦ \chi ⟧(u)$ 进行情况分析：
    1.  若 $⟦ \chi ⟧(u) = 0$，不等式为 $\min(⟦ \varphi ⟧(u), 0) \leq \min(⟦ \psi ⟧(u), 0)$，即 $0 \leq 0$，成立。
    2.  若 $⟦ \chi ⟧(u) = 1$，不等式为 $\min(⟦ \varphi ⟧(u), 1) \leq \min(⟦ \psi ⟧(u), 1)$，即 $⟦ \varphi ⟧(u) \leq ⟦ \psi ⟧(u)$，这正是我们的假设。
    **因此，R4 保持有效性。**

*   **规则 R5**: $\frac{⊢ I(\varphi, \psi)}{⊢ I(W(\varphi),W(\psi))}$
    假设 $\mathcal{M} \vDash I(\varphi, \psi)$，即 $\forall u \in \mathcal{U}, ⟦ \varphi ⟧(u) \leq ⟦ \psi ⟧(u)$。
    我们需要证明 $\mathcal{M} \vDash I(W(\varphi), W(\psi))$，即 $\forall u \in \mathcal{U}, ⟦ W(\varphi) ⟧(u) \leq ⟦ W(\psi) ⟧(u)$。
    我们对 $\varphi$ 进行情况分析：
    1.  若 $\mathcal{M} \vDash \varphi$，则 $\forall v \in \mathcal{U}, ⟦ \varphi ⟧(v) = 1$。由假设 $⟦ \varphi ⟧ \leq ⟦ \psi ⟧$ (逐点)，必然有 $\forall v \in \mathcal{U}, ⟦ \psi ⟧(v) = 1$，即 $\mathcal{M} \vDash \psi$。此时，$⟦ W(\varphi) ⟧$ 和 $⟦ W(\psi) ⟧$ 均为值为 1 的常数函数。不等式为 $1 \leq 1$，成立。
    2.  若 $\mathcal{M} \nvDash \varphi$，则 $⟦ W(\varphi) ⟧$ 为值为 0 的常数函数。不等式为 $0 \leq ⟦ W(\psi) ⟧(u)$。由于 $⟦ W(\psi) ⟧(u) \in \{0, 1\}$，此式恒成立。
    **因此，R5 保持有效性。**

公理有效且所有推理规则保真，故 **SRI** 系统关于模型 $\mathcal{M}$ 是可靠的。

#### **8.3. 模型的非平凡性与非退化性**

**8.3.1. 非平凡性 (Non-triviality)**

模型 $\mathcal{M}$ 是非平凡的，因为它既包含有效的公式，也包含无效的公式。

1.  **有效的公式**: 所有公理的实例，例如 $I(\alpha, \alpha)$，对于任何基础符号 $\alpha$ 的任何解释都是有效的。
2.  **无效的公式**: 考虑基础符号 $\alpha$。为其指定一个非恒为 1 的解释，例如 $⟦ \alpha ⟧(u) := u \pmod 2$。
    *   此时，$\mathcal{M} \nvDash \alpha$，因为 $⟦ \alpha ⟧(0) = 0 \neq 1$。
    *   此时，$\mathcal{M} \nvDash W(\alpha)$，因为 $⟦ W(\alpha) ⟧$ 是值为 0 的常数函数。

**8.3.2. 规则的非空虚性 (Non-vacuity of Rules)**

我们证明对于每条推理规则，都存在一个解释实例，使其所有前提均得到满足。

*   **R1**: 令 $⟦ \varphi ⟧$ 和 $⟦ \psi ⟧$ 均为值为 1 的常数函数。此时 $\mathcal{M} \vDash \varphi$ 且 $\mathcal{M} \vDash \psi$。如 8.2.2 中 R1 的分析，这使得前提 $\mathcal{M} \vDash W(P(\varphi, W(\psi)))$ 成立。
*   **R2**: 令 $⟦ \psi ⟧$ 和 $⟦ \sigma ⟧$ 均为值为 1 的常数函数，令 $⟦ \varphi ⟧$ 为任意函数。此时前提 $\mathcal{M} \vDash I(\varphi, \psi)$ (因为 $⟦ \varphi ⟧(u) \leq 1$ 恒成立) 与 $\mathcal{M} \vDash W(P(\sigma, W(\psi)))$ 均成立。
*   **R3**: 令 $⟦ \varphi ⟧, ⟦ \psi ⟧, ⟦ \chi ⟧$ 均为值为 1 的常数函数。此时前提 $\mathcal{M} \vDash I(\varphi, \psi)$ 与 $\mathcal{M} \vDash I(\psi, \chi)$ 均成立。
*   **R4**: 令 $⟦ \varphi ⟧$ 为值为 0 的常数函数，$⟦ \psi ⟧$ 为值为 1 的常数函数。此时前提 $\mathcal{M} \vDash I(\varphi, \psi)$ 成立。
*   **R5**: 令 $⟦ \varphi ⟧$ 为值为 0 的常数函数，$⟦ \psi ⟧$ 为值为 1 的常数函数。此时前提 $\mathcal{M} \vDash I(\varphi, \psi)$ 成立。

由于所有规则的前提均可被满足，因此这些规则在模型中不是空虚为真的。模型 $\mathcal{M}$ 是一个非退化 (non-degenerate) 的模型。
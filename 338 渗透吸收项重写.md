## 渗透吸收项重写PATR

本系统是一个基于带等词的一阶谓词逻辑的形式理论。

### **1. 形式语言 $PATR$**

**1.1. 符号表 (Alphabet)**

1.  **变量 (Variables):** 一个可数无限集 $V = \{v_0, v_1, v_2, \dots\}$。为方便起见，我们使用 $x, y, z, \dots$ 作为其元变量。
2.  **常量 (Constants):** 一个常量符号: `1`。
3.  **函数符号 (Function Symbols):**
    *   `equiv`: 二元函数符号。
    *   `·`: 二元函数符号。
4.  **谓词符号 (Predicate Symbols):**
    *   ` = `: 二元谓词符号。
5.  **逻辑联结词 (Logical Connectives):** `¬` (否定), `→` (蕴含)。
6.  **量词 (Quantifiers):** `∀` (全称量词)。
7.  **辅助符号 (Auxiliary Symbols):** `(`, `)`。

**1.2. 项 (Terms)**

$PATR$ 的项集合是满足以下条件的最小集合:
1.  任何变量 $v \in V$ 都是一个项。
2.  常量 `1` 是一个项。
3.  若 $t_1$ 和 $t_2$ 是项，则 `equiv(t₁, t₂)` 是一个项。
4.  若 $t_1$ 和 $t_2$ 是项，则 `·(t₁, t₂)` 是一个项。

**1.3. 合式公式 (Well-Formed Formulas - WFFs)**

$PATR$ 的合式公式集合是满足以下条件的最小集合:
1.  若 $t_1$ 和 $t_2$ 是项，则 `t₁ = t₂` 是一个原子公式，也是一个合式公式。
2.  若 $\phi$ 是一个合式公式，则 `(¬φ)` 是一个合式公式。
3.  若 $\phi$ 和 $\psi$ 是合式公式，则 `(φ → ψ)` 是一个合式公式。
4.  若 $\phi$ 是一个合式公式且 $x$ 是一个变量，则 `(∀x φ)` 是一个合式公式。

**1.4. 辅助定义**

为简洁起见，我们引入以下元语言缩写：
*   `(φ ∧ ψ)` 定义为 `¬(φ → ¬ψ)`
*   `(φ ∨ ψ)` 定义为 `(¬φ → ψ)`
*   `(φ ↔ ψ)` 定义为 `((φ → ψ) ∧ (ψ → φ))`
*   `(∃x φ)` 定义为 `¬(∀x ¬φ)`
*   `t₁ ≠ t₂` 定义为 `¬(t₁ = t₂)`

---

### **2. 公理系统**

公理系统由逻辑公理、推理规则和非逻辑公理组成。

**2.1. 逻辑公理**

对于任意合式公式 $\phi, \psi, \chi$：

*   **A1:** $(\phi \to (\psi \to \phi))$
*   **A2:** $((\phi \to (\psi \to \chi)) \to ((\phi \to \psi) \to (\phi \to \chi)))$
*   **A3:** $((¬\phi \to ¬\psi) \to (\psi \to \phi))$
*   **A4:** $(\forall x \phi(x) \to \phi(t))$, 其中项 $t$ 在 $\phi(x)$ 中对 $x$ 是自由可代入的。
*   **A5:** $(\forall x (\phi \to \psi) \to (\phi \to \forall x \psi))$, 其中 $\phi$ 中不含自由出现的变量 $x$。

**2.2. 等词公理 (Axioms of Equality)**

对于任意变量 $x, y$ 和项 $t_1, \dots, t_n, s_1, \dots, s_n$：

*   **A6 (自反性):** $\forall x (x = x)$
*   **A7 (替换公理模式):**
    *   对于任意 $n$ 元函数符号 $f$ (在 $PATR$ 中为 `equiv` 和 `·`):
        $\forall x_1 \dots \forall x_n \forall y_1 \dots \forall y_n ( (x_1=y_1 \land \dots \land x_n=y_n) \to f(x_1, \dots, x_n) = f(y_1, \dots, y_n) )$
    *   对于任意 $n$ 元谓词符号 $P$ (在 $PATR$ 中为 ` = `)
        $\forall x_1 \dots \forall x_n \forall y_1 \dots \forall y_n ( (x_1=y_1 \land \dots \land x_n=y_n) \to (P(x_1, \dots, x_n) \to P(y_1, \dots, y_n)) )$

**2.3. 推理规则 (Rules of Inference)**

1.  **分离规则 (Modus Ponens):** 从 $\phi$ 和 $(\phi \to \psi)$，可推出 $\psi$。
2.  **全称概括 (Generalization):** 从 $\phi$，可推出 $(\forall x \phi)$。

**2.4. 非逻辑公理 (Non-Logical Axioms)**

以下公理定义了理论 $PATR$ 的特定性质。

*   **B1: 左侧渗透**
    $\forall a \forall b \forall c(· (c ,\text{equiv} (a, b)) = \text{equiv}( b, · (c, a)))$

*   **B2: 左吸收**
	$\forall a \forall b (· (\text{equiv} (a, b), b) = b)$

*   **EA (等价定义):**
    $\forall x \forall y ( \text{equiv}(x, y) = 1 \leftrightarrow x = y )$


### **3. 模型语义与证明**

本节旨在为形式系统 PATR 提供一个具体的数学模型 $\mathcal{M}$，并基于此模型严格证明该理论的可靠性与非平凡一致性。

#### **3.1. 模型的构造**

我们构造一个模型 $\mathcal{M} = \langle U_{\mathcal{M}}, =^{\mathcal{M}}, 1^{\mathcal{M}}, \text{equiv}^{\mathcal{M}}, \cdot^{\mathcal{M}} \rangle$，其各组成部分定义如下：

1.  **论域 (Universe)**
    令 $F = \mathbb{Z}_2(t)$ 为系数在二元域 $\mathbb{Z}_2 = \{0, 1\}$ 上的单变量 $t$ 的有理函数域。此域的元素形如 $\frac{P(t)}{Q(t)}$，其中 $P(t), Q(t)$ 是系数在 $\mathbb{Z}_2$ 上的多项式，且 $Q(t)$ 不是零多项式。该域具有特征 2，即对于任意 $u \in F$，有 $u + u = 0$。
    模型的论域定义为：
    $U_{\mathcal{M}} = F$

2.  **符号的解释 (Interpretation)**
    *   **谓词符号 ` = `**: $=^{\mathcal{M}}$ 被解释为论域 $U_{\mathcal{M}}$ 上的**恒等关系**。对于任意 $u, v \in U_{\mathcal{M}}$，$u =^{\mathcal{M}} v$ 当且仅当 $u$ 与 $v$ 为 $F$ 中同一元素。

    *   **常量 `1`**: $1^{\mathcal{M}}$ 被解释为域 $F$ 中的**加法单位元**（零元），记为 $0_F$。

    *   **函数符号 `equiv`**: $\text{equiv}^{\mathcal{M}}$ 被解释为域 $F$ 上的**加法运算** $+_F$。对于任意 $u, v \in U_{\mathcal{M}}$：
        $\text{equiv}^{\mathcal{M}}(u, v) = u +_F v$

    *   **函数符号 `·`**: $\cdot^{\mathcal{M}}$ 被解释为**第二射影函数** $\pi_2$。对于任意 $u, v \in U_{\mathcal{M}}$：
        $\cdot^{\mathcal{M}}(u, v) = v$

#### **3.2. 模型的属性**

此模型 $\mathcal{M}$ 满足系统要求的所有结构属性。

1.  **非平凡性 (Non-triviality)**
    论域 $U_{\mathcal{M}} = F$ 包含至少两个不同元素，例如加法单位元 $0_F$ 和乘法单位元 $1_F$。由于 $0_F \neq 1_F$，所以 $|U_{\mathcal{M}}| \ge 2$。因此，$\mathcal{M}$ 是一个非平凡模型。

2.  **无限性 (Infinitude)**
    论域 $U_{\mathcal{M}} = F$ 是一个无限集。例如，集合 $\{t^n \mid n \in \mathbb{N}\} \subseteq F$ 是一个无限子集。因此，$\mathcal{M}$ 是一个无限模型。

3.  **非交换性 (Non-commutativity)**
    运算 $\cdot^{\mathcal{M}}$ 不满足交换律。为证此点，只需给出一个反例。令 $u = 1_F \in U_{\mathcal{M}}$ 且 $v = t \in U_{\mathcal{M}}$。根据 $\cdot^{\mathcal{M}}$ 的定义：
    *   $\cdot^{\mathcal{M}}(u, v) = \cdot^{\mathcal{M}}(1_F, t) = t$
    *   $\cdot^{\mathcal{M}}(v, u) = \cdot^{\mathcal{M}}(t, 1_F) = 1_F$
    由于在域 $F$ 中 $t \neq 1_F$，故 $\cdot^{\mathcal{M}}(u, v) \neq \cdot^{\mathcal{M}}(v, u)$。因此，模型 $\mathcal{M}$ 不满足交换律。

#### **3.3. 可靠性证明**

为了证明理论 PATR 对模型 $\mathcal{M}$ 是可靠的 (sound)，我们必须证明 PATR 的所有公理在 $\mathcal{M}$ 中为真。记 $\mathcal{M} \models \phi$ 表示公式 $\phi$ 在模型 $\mathcal{M}$ 中为真。

系统的逻辑公理（A1-A5）和等词公理（A6-A7）在任何以恒等关系解释 ` = ` 的标准一阶逻辑模型中均为真。因此，我们仅需证明 PATR 的非逻辑公理 B1 和 EA 在 $\mathcal{M}$ 中为真。

**1. 公理 EA 的有效性**

**公理 EA:** $\forall x \forall y ( \text{equiv}(x, y) = 1 \leftrightarrow x = y )$

**证明:** 我们需要证明对于任意元素 $u, v \in U_{\mathcal{M}}$，$\text{equiv}^{\mathcal{M}}(u, v) =^{\mathcal{M}} 1^{\mathcal{M}}$ 当且仅当 $u =^{\mathcal{M}} v$。
根据符号的解释，此命题等价于：对于任意 $u, v \in F$，$u +_F v = 0_F$ 当且仅当 $u = v$。

*   **($\Rightarrow$) 方向**: 假设 $u +_F v = 0_F$。由于 $F$ 是一个域，每个元素 $v$ 都有唯一的加法逆元 $-v$。将等式两边加上 $-v$，得到 $(u +_F v) +_F (-v) = 0_F +_F (-v)$，化简得 $u = -v$。因为域 $F$ 的特征为 2，所以对于任意 $z \in F$，有 $z = -z$。因此，$u = v$。

*   **($\Leftarrow$) 方向**: 假设 $u = v$。将等式两边加上 $-v$ (即 $v$)，得到 $u +_F (-v) = v +_F (-v)$。因为 $F$ 的特征为 2，$-v=v$，故 $u +_F v = v +_F v$。在特征为 2 的域中，任意元素与自身相加等于加法单位元，故 $v +_F v = 0_F$。因此，$u +_F v = 0_F$。

两个方向均已证明，故 $\mathcal{M} \models \text{EA}$。

**2. 公理 B1 的有效性**

**公理 B1:** $\forall a \forall b \forall c(· (c ,\text{equiv} (a, b)) = \text{equiv}( b, · (c, a)))$

**证明:** 我们需要证明对于任意元素 $u, v, w \in U_{\mathcal{M}}$（分别对应变量 $c, a, b$），以下等式成立：
$\cdot^{\mathcal{M}}(u, \text{equiv}^{\mathcal{M}}(v, w)) =^{\mathcal{M}} \text{equiv}^{\mathcal{M}}(w, \cdot^{\mathcal{M}}(u, v))$

*   **计算等式左侧 (LHS)**:
    $\cdot^{\mathcal{M}}(u, \text{equiv}^{\mathcal{M}}(v, w))$
    $= \cdot^{\mathcal{M}}(u, v +_F w)$  （根据 $\text{equiv}^{\mathcal{M}}$ 的定义）
    $= v +_F w$             （根据 $\cdot^{\mathcal{M}}$ 的定义，返回第二个参数）

*   **计算等式右侧 (RHS)**:
    $\text{equiv}^{\mathcal{M}}(w, \cdot^{\mathcal{M}}(u, v))$
    $= \text{equiv}^{\mathcal{M}}(w, v)$       （根据 $\cdot^{\mathcal{M}}$ 的定义，返回第二个参数）
    $= w +_F v$             （根据 $\text{equiv}^{\mathcal{M}}$ 的定义）

*   **比较 LHS 和 RHS**:
    在域 $F$ 中，加法运算 $+_F$ 满足交换律，因此 $v +_F w = w +_F v$ 恒成立。故 LHS $=^{\mathcal{M}}$ RHS。

该等式对论域中任意元素均成立，故 $\mathcal{M} \models \text{B1}$。

**3. 公理 B2 的有效性**

**公理 B2:** $\forall a \forall b (· (\text{equiv} (a, b), b) = b)$

**证明:** 我们需要证明对于任意元素 $v, w \in U_{\mathcal{M}}$（分别对应变量 $a, b$），以下等式成立：
$\cdot^{\mathcal{M}}(\text{equiv}^{\mathcal{M}}(v, w), w) =^{\mathcal{M}} w$

*   **计算等式左侧 (LHS)**:
    $\cdot^{\mathcal{M}}(\text{equiv}^{\mathcal{M}}(v, w), w)$
    
    首先，根据函数符号 `equiv` 的解释 $\text{equiv}^{\mathcal{M}}(v, w) = v +_F w$，我们将等式左侧的内部项替换为其解释：
    $= \cdot^{\mathcal{M}}(v +_F w, w)$

    接着，根据函数符号 `·` 的解释 $\cdot^{\mathcal{M}}(u, z) = z$ (第二射影函数)，我们将上一步得到的结果作为 `·` 的输入进行求值。此处的第一个参数为 $v +_F w$，第二个参数为 $w$。函数返回其第二个参数：
    $= w$

*   **比较 LHS 和 RHS**:
    *   LHS 的计算结果为 $w$。
    *   RHS 为 $w$。
    *   因此，LHS $=^{\mathcal{M}}$ RHS。

该等式对论域中任意元素均成立，故 $\mathcal{M} \models \text{B2}$。

#### **3.4. 非平凡一致性证明**

1.  **一致性 (Consistency)**
    根据模型论的基本定理（哥德尔完全性定理的可靠性部分），如果一个一阶理论 $T$ 拥有一个模型，则该理论 $T$ 是相容的（一致的）。
    我们在 3.3 节中证明了 $\mathcal{M}$ 是 PATR 的一个模型，即 PATR 的所有公理在 $\mathcal{M}$ 中均为真。因此，PATR 理论是**一致的**。

2.  **非平凡一致性 (Non-trivial Consistency)**
    一个理论 $T$ 被称为非平凡一致的，如果它拥有一个非平凡模型（即论域元素多于一个的模型）。
    我们在 3.2 节中证明了模型 $\mathcal{M}$ 是非平凡的，因为 $|U_{\mathcal{M}}| \ge 2$。
    因此，理论 PATR 是**非平凡一致的**。这意味着 PATR 不仅无矛盾，而且无法从中推导出 $\forall x \forall y (x=y)$ 这样的使所有个体坍缩为一的论断。
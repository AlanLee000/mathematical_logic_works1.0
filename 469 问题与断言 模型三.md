### **形式系统 SRI**

#### **1. 语法 (Syntax)**

**1.1. 字母表 (Alphabet)**

SRI 系统的字母表由以下四类符号构成：

1.  **基础符号集 (Basic Symbols)**: 一个可数的无限集合，用 $α, β, γ, ...$ 等表示。
2.  **一元算子 (Unary Operator)**: $W$
3.  **二元算子 (Binary Operators)**: $I$, $P$
4.  **辅助符号 (Auxiliary Symbols)**: $($, $)$

**1.2. 良构公式 (Well-formed Formulas, WFFs)**

SRI 系统中良构公式的集合（记作 $\mathcal{F}$）是满足以下条件的最小集合：

1.  **原子性**: 如果 $α$ 是一个基础符号，那么 $α ∈ \mathcal{F}$。
2.  **W构造**: 如果 $\varphi ∈ \mathcal{F}$，那么 $W(\varphi) ∈ \mathcal{F}$。
3.  **I构造**: 如果 $\varphi, \psi ∈ \mathcal{F}$，那么 $I(\varphi, \psi) ∈ \mathcal{F}$。
4.  **P构造**: 如果 $\varphi, \psi ∈ \mathcal{F}$，那么 $P(\varphi, \psi) ∈ \mathcal{F}$。

#### **2. 证明论 (Proof Theory)**

**2.1. 公理模式 (Axiom Schemas)**

对于 $\mathcal{F}$ 中的任意公式 $\varphi$，$\psi$，$\chi$，以下公式均为公理：

*   **A1:**
    $I(\varphi, \varphi)$

*   **A2:**
    $I(W(\varphi), W(W(\varphi)))$

*   **A3:**
    $I(P(\varphi, \varphi), \varphi)$

**2.2. 推理规则 (Rules of Inference)**

令 $\varphi, \psi, \chi, \sigma$ 为 $\mathcal{F}$ 中的任意公式。符号 $⊢ \varphi$ 表示 $\varphi$ 是系统中的一个定理。

*   **R1:**
    
    $$
    \frac{⊢ W(P(\varphi, W(\psi)))}{⊢ I(\psi, \varphi)}
    $$

*   **R2:**
    
    $$
    \frac{⊢ I(\varphi, \psi) \qquad ⊢ W(P(\sigma, W(\psi)))}{⊢ I(P(\sigma, \varphi), W(\psi))}
    $$

*   **R3:**
    
    $$
    \frac{⊢ I(\varphi, \psi) ,\qquad⊢ I(\psi, \chi)}{⊢ I(\varphi, \chi)}
    $$

*   **R4:**
    
    $$
    \frac{⊢ I(\varphi, \psi)}{⊢ I(P(\varphi, \chi),P(\psi, \chi))}
    $$

*   **R5:**

    $$
    \frac{⊢ I(\varphi, \psi)}{⊢ I(W(\varphi),W(\psi))}
    $$

#### **3. 核心定义 (Core Definitions)**

*   **证明 (Proof)**: SRI 系统中的一个证明，是一个由良构公式组成的有限序列 $\varphi_{1}, \varphi_{2}, ..., \varphi_{n}$，其中对于序列中的每一个 $\varphi_{i}$ (1 ≤ i ≤ n)，$\varphi_{i}$ 必须满足以下条件之一：
    1.  $\varphi_{i}$ 是公理模式 A1, A2 或 A3 的一个实例。
    2.  存在序列中位于 $\varphi_{i}$ 之前的公式，使得 $\varphi_{i}$ 可以通过应用推理规则 R1, R2, R3, R4 或 R5 推导得出。

*   **定理 (Theorem)**: 一个良构公式 $\varphi$ 是 SRI 系统的一个定理，当且仅当存在一个以 $\varphi$ 为最终公式的证明。我们将 $\varphi$ 是一个定理记作 $⊢ \varphi$。

---

#### **7. SRI 的语义模型与可靠性**

本节为形式系统 SRI 提供一个集合论模型，并证明该系统的可靠性（Soundness）。

##### **7.1 SRI 的语义**

**定义 7.1.1 (语义域)**

1.  **基础集合 (B)**: 令 $B = \mathbb{N}$，即自然数集。
2.  **真值集合 ($S_W$)**: 令 $S_W = \{0, 1, 2\}$，并定义其上的全序关系为 $0 \le 1 \le 2$。
3.  **真值空间 (V)**: 令 $V = \{f \mid f: B \to S_W\}$，即所有从 $B$ 到 $S_W$ 的函数构成的集合。

**定义 7.1.2 (语义算子)**

我们在 $S_W$ 上定义如下三个函数：
1.  **一元算子 $w: S_W \to S_W$**:
    $w(x) = \begin{cases} 1 & \text{if } x \in \{0, 1\} \\ 2 & \text{if } x = 2 \end{cases}$
2.  **二元算子 $i: S_W \times S_W \to S_W$**:
    $i(x, y) = \begin{cases} 2 & \text{if } x \le y \\ 0 & \text{if } x > y \end{cases}$
3.  **二元算子 $p: S_W \times S_W \to S_W$**:
    $p(x, y) = \min(x, y)$

相应地，我们在真值空间 $V$ 上定义如下算子，对于任意 $f, g \in V$ 和任意 $b \in B$:
1.  **$\mathcal{W}: V \to V$**: $(\mathcal{W}(f))(b) = w(f(b))$
2.  **$\mathcal{I}: V \times V \to V$**: $(\mathcal{I}(f, g))(b) = i(f(b), g(b))$
3.  **$\mathcal{P}: V \times V \to V$**: $(\mathcal{P}(f, g))(b) = p(f(b), g(b))$

**定义 7.1.3 (解释与有效性)**

1.  **赋值 (Valuation)**: 一个赋值 $v$ 是一个函数，它将每个基础符号 $α$ 映射到真值空间 $V$ 中的一个元素，即 $v: \{\alpha, \beta, ...\} \to V$。
2.  **语义解释 ($⟦ \cdot ⟧_v$)**: 对于一个给定的赋值 $v$，一个良构公式 $\varphi$ 的语义解释 $⟦ \varphi ⟧_v \in V$ 递归定义如下：
    *   若 $\varphi$ 是基础符号 $α$，则 $⟦ \alpha ⟧_v = v(\alpha)$。
    *   $⟦ W(\varphi) ⟧_v = \mathcal{W}(⟦ \varphi ⟧_v)$。
    *   $⟦ I(\varphi, \psi) ⟧_v = \mathcal{I}(⟦ \varphi ⟧_v, ⟦ \psi ⟧_v)$。
    *   $⟦ P(\varphi, \psi) ⟧_v = \mathcal{P}(⟦ \varphi ⟧_v, ⟦ \psi ⟧_v)$。
3.  **有效性 (Validity)**: 我们称 $2 \in S_W$ 为**指定值**。一个公式 $\varphi$ 是有效的（记作 $\vDash \varphi$），当且仅当对于任意赋值 $v$ 和任意 $b \in B$，都有 $⟦ \varphi ⟧_v(b) = 2$。

##### **7.2 SRI 的可靠性 (Soundness)**

**定理 7.2.1 (可靠性定理)**
若 $⊢ \varphi$，则 $\vDash \varphi$。

**证明**:
证明通过对证明序列长度的归纳来进行。我们首先证明所有公理都是有效的，并且所有推理规则都保持有效性。

**引理 7.2.2 (公理的有效性)**
对于任意公式 $\varphi, \psi, \chi$，公理模式 A1, A2, A3 的所有实例都是有效的。

**证明**:
令 $v$ 为任意赋值，$b \in B$ 为任意元素。
1.  **A1: $I(\varphi, \varphi)$**
    $⟦ I(\varphi, \varphi) ⟧_v(b) = i(⟦ \varphi ⟧_v(b), ⟦ \varphi ⟧_v(b))$。令 $x = ⟦ \varphi ⟧_v(b)$。根据 $S_W$ 上的序关系， $x \le x$ 恒成立。由定义 7.1.2， $i(x, x) = 2$。因此 $\vDash I(\varphi, \varphi)$。

2.  **A2: $I(W(\varphi), W(W(\varphi)))$**
    $⟦ I(W(\varphi), W(W(\varphi))) ⟧_v(b) = i(w(⟦ \varphi ⟧_v(b)), w(w(⟦ \varphi ⟧_v(b))))$。令 $x = ⟦ \varphi ⟧_v(b)$。我们需要证明 $w(x) \le w(w(x))$。
    *   若 $x \in \{0, 1\}$，则 $w(x) = 1$，$w(w(x)) = w(1) = 1$。$1 \le 1$ 成立。
    *   若 $x=2$，则 $w(x) = 2$，$w(w(x)) = w(2) = 2$。$2 \le 2$ 成立。
    对于所有 $x \in S_W$，$w(x) \le w(w(x))$ 均成立。因此 $i(w(x), w(w(x))) = 2$。故 $\vDash I(W(\varphi), W(W(\varphi)))$。

3.  **A3: $I(P(\varphi, \varphi), \varphi)$**
    $⟦ I(P(\varphi, \varphi), \varphi) ⟧_v(b) = i(p(⟦ \varphi ⟧_v(b), ⟦ \varphi ⟧_v(b)), ⟦ \varphi ⟧_v(b))$。令 $x = ⟦ \varphi ⟧_v(b)$。由定义 7.1.2，$p(x, x) = \min(x, x) = x$。因此表达式变为 $i(x, x)$，其值为 2。故 $\vDash I(P(\varphi, \varphi), \varphi)$。

**引理 7.2.3 (推理规则的有效性保持)**
所有推理规则 R1-R5 都保持有效性。即，若规则的所有前提都有效，则其结论也有效。

**证明**:
令 $v$ 为任意赋值，$b \in B$ 为任意元素。

1.  **R1: $\frac{⊢ W(P(\varphi, W(\psi)))}{⊢ I(\psi, \varphi)}$**
    假设 $\vDash W(P(\varphi, W(\psi)))$。则 $⟦ W(P(\varphi, W(\psi))) ⟧_v(b) = 2$。
    这等价于 $w(p(⟦ \varphi ⟧_v(b), w(⟦ \psi ⟧_v(b)))) = 2$。
    根据 $w$ 的定义，其值为 2 当且仅当其参数为 2。所以 $p(⟦ \varphi ⟧_v(b), w(⟦ \psi ⟧_v(b))) = 2$。
    根据 $p$ 的定义，$\min(x, y) = 2$ 当且仅当 $x=2$ 且 $y=2$。
    因此，$⟦ \varphi ⟧_v(b) = 2$ 且 $w(⟦ \psi ⟧_v(b)) = 2$。
    $w(⟦ \psi ⟧_v(b)) = 2$ 又蕴含 $⟦ \psi ⟧_v(b) = 2$。
    我们需要证明 $\vDash I(\psi, \varphi)$，即证明 $⟦ I(\psi, \varphi) ⟧_v(b) = 2$。
    $⟦ I(\psi, \varphi) ⟧_v(b) = i(⟦ \psi ⟧_v(b), ⟦ \varphi ⟧_v(b)) = i(2, 2)$。因为 $2 \le 2$，所以 $i(2, 2) = 2$。结论有效。

2.  **R2: $\frac{⊢ I(\varphi, \psi) \qquad ⊢ W(P(\sigma, W(\psi)))}{⊢ I(P(\sigma, \varphi), W(\psi))}$**
    假设 $\vDash I(\varphi, \psi)$ 且 $\vDash W(P(\sigma, W(\psi)))$。
    (a) $\vDash I(\varphi, \psi) \implies ⟦ \varphi ⟧_v(b) \le ⟦ \psi ⟧_v(b)$。
    (b) $\vDash W(P(\sigma, W(\psi))) \implies w(p(⟦ \sigma ⟧_v(b), w(⟦ \psi ⟧_v(b)))) = 2$。
    由 (b)，我们推得 $⟦ \sigma ⟧_v(b) = 2$ 且 $w(⟦ \psi ⟧_v(b)) = 2$，后者又蕴含 $⟦ \psi ⟧_v(b) = 2$。
    我们需要证明 $\vDash I(P(\sigma, \varphi), W(\psi))$，即 $p(⟦ \sigma ⟧_v(b), ⟦ \varphi ⟧_v(b)) \le w(⟦ \psi ⟧_v(b))$。
    代入由前提导出的值：$p(2, ⟦ \varphi ⟧_v(b)) \le w(2)$。
    即 $\min(2, ⟦ \varphi ⟧_v(b)) \le 2$。
    由于 $⟦ \varphi ⟧_v(b) \in \{0, 1, 2\}$，此不等式恒成立。结论有效。

3.  **R3: $\frac{⊢ I(\varphi, \psi) \qquad ⊢ I(\psi, \chi)}{⊢ I(\varphi, \chi)}$**
    假设 $\vDash I(\varphi, \psi)$ 且 $\vDash I(\psi, \chi)$。
    这意味着 $⟦ \varphi ⟧_v(b) \le ⟦ \psi ⟧_v(b)$ 且 $⟦ \psi ⟧_v(b) \le ⟦ \chi ⟧_v(b)$。
    由于 $S_W$ 上的 $\le$ 是传递关系，我们有 $⟦ \varphi ⟧_v(b) \le ⟦ \chi ⟧_v(b)$。
    根据 $i$ 的定义，这蕴含 $i(⟦ \varphi ⟧_v(b), ⟦ \chi ⟧_v(b)) = 2$。
    因此 $\vDash I(\varphi, \chi)$。结论有效。

4.  **R4: $\frac{⊢ I(\varphi, \psi)}{⊢ I(P(\varphi, \chi),P(\psi, \chi))}$**
    假设 $\vDash I(\varphi, \psi)$，即 $⟦ \varphi ⟧_v(b) \le ⟦ \psi ⟧_v(b)$。
    我们需要证明 $\vDash I(P(\varphi, \chi),P(\psi, \chi))$，即 $p(⟦ \varphi ⟧_v(b), ⟦ \chi ⟧_v(b)) \le p(⟦ \psi ⟧_v(b), ⟦ \chi ⟧_v(b))$。
    令 $x = ⟦ \varphi ⟧_v(b), y = ⟦ \psi ⟧_v(b), z = ⟦ \chi ⟧_v(b)$。我们已知 $x \le y$。
    我们需要证明 $\min(x, z) \le \min(y, z)$。这是 $\min$ 函数的基本性质。结论有效。

5.  **R5: $\frac{⊢ I(\varphi, \psi)}{⊢ I(W(\varphi),W(\psi))}$**
    假设 $\vDash I(\varphi, \psi)$，即 $⟦ \varphi ⟧_v(b) \le ⟦ \psi ⟧_v(b)$。
    我们需要证明 $\vDash I(W(\varphi), W(\psi))$，即 $w(⟦ \varphi ⟧_v(b)) \le w(⟦ \psi ⟧_v(b))$。
    函数 $w$ 是单调非减的：$w(0)=1, w(1)=1, w(2)=2$。若 $x \le y$，则 $w(x) \le w(y)$。结论有效。

**可靠性定理 7.2.1 的证明（续）**:
一个证明是一个公式序列 $\varphi_1, \dots, \varphi_n$，其中每个 $\varphi_k$ 要么是一个公理，要么是通过某个推理规则由序列中先前的公式导出。
我们通过对 $n$ 的归纳证明序列中每个公式都是有效的。
*   **基础情况 ($n=1$)**: $\varphi_1$ 必须是公理。由引理 7.2.2，$\vDash \varphi_1$。
*   **归纳步骤**: 假设对于所有 $k < n$，$\vDash \varphi_k$。现在考虑 $\varphi_n$。
    *   若 $\varphi_n$ 是公理，则由引理 7.2.2，$\vDash \varphi_n$。
    *   若 $\varphi_n$ 是由先前的公式通过某个推理规则 $R$ 导出的，那么这些前提公式根据归纳假设都是有效的。由引理 7.2.3，规则 $R$ 保持有效性，因此 $\varphi_n$ 也必定有效。
因此，证明中的任何公式，包括定理本身，都是有效的。证明完毕。

##### **7.3 模型的非平凡性与一致性**

**定义 7.3.1 (非退化性与非平凡性)**
1.  一个模型是**非退化的 (Non-degenerate)**，如果其真值集合包含多于一个元素。
2.  一个模型是**非平凡的 (Non-trivial)**，如果存在一个公式 $\varphi$，使得 $\nvDash \varphi$（$\varphi$ 不是有效的）。

**命题 7.3.2**
本节构建的模型是非退化和非平凡的。

**证明**:
1.  **非退化性**: $|S_W|=3 > 1$。模型是非退化的。
2.  **非平凡性**: 考虑公式 $\varphi = I(W(\alpha), \alpha)$。我们需证明 $\nvDash \varphi$。
    构造一个赋值 $v$ 和一个元素 $b_0 \in B$ 使得 $⟦ \varphi ⟧_v(b_0) \neq 2$。
    令 $v$ 为一个赋值，使得 $v(\alpha)$ 是一个函数，满足 $v(\alpha)(b_0)=0$。
    则 $⟦ I(W(\alpha), \alpha) ⟧_v(b_0) = i(⟦ W(\alpha) ⟧_v(b_0), ⟦ \alpha ⟧_v(b_0))$
    $= i(w(⟦ \alpha ⟧_v(b_0)), ⟦ \alpha ⟧_v(b_0))$
    $= i(w(0), 0) = i(1, 0)$。
    因为 $1 > 0$，根据定义 7.1.2，$i(1, 0) = 0 \neq 2$。
    因此，$I(W(\alpha), \alpha)$ 不是一个有效的公式。模型是非平凡的。

**命题 7.3.3 (系统的一致性)**
系统 SRI 是**一致的 (consistent)**，即不存在公式 $\varphi$ 使得 $⊢ \varphi$ 且 $⊢ \neg \varphi$（若定义了否定算子）。在一个更基础的层面上，它是一致的，因为并非所有公式都是定理。

**证明**:
由命题 7.3.2，存在公式 $\varphi$ (例如 $I(W(\alpha), \alpha)$) 不是有效的。根据可靠性定理 7.2.1 的逆否命题，若 $\nvDash \varphi$，则 $\nvdash \varphi$。因此，存在一个公式不是 SRI 的定理。这证明了系统的一致性。

**命题 7.3.4 (推理规则的非空虚性)**
对于每一条推理规则，都存在一组有效的公式可以作为其前提。

**证明**:
由引理 7.2.2，所有公理的实例都是有效的。
*   **R1**: 令 $\varphi = \psi = I(\alpha, \alpha)$。$\vDash \varphi$ 且 $\vDash \psi$。前提 $W(P(\varphi, W(\psi)))$ 的语义值为 $w(p(2, w(2))) = w(2) = 2$。前提可满足。
*   **R2**: 令 $\varphi=\psi=\sigma=I(\alpha, \alpha)$。前提 $I(\varphi, \psi)$ 和 $W(P(\sigma, W(\psi)))$ 均有效，如上所示。前提可满足。
*   **R3**: 令 $\varphi=\psi=\chi=I(\alpha, \alpha)$。前提 $I(\varphi, \psi)$ 和 $I(\psi, \chi)$ 均有效。前提可满足。
*   **R4, R5**: 令 $\varphi=\psi=I(\alpha, \alpha)$。前提 $I(\varphi, \psi)$ 有效。前提可满足。

所有推理规则都不是空虚为真的。
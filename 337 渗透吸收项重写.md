## 渗透吸收项重写PATR

本系统是一个基于带等词的一阶谓词逻辑的形式理论。

### **1. 形式语言 $PATR$**

**1.1. 符号表 (Alphabet)**

1.  **变量 (Variables):** 一个可数无限集 $V = \{v_0, v_1, v_2, \dots\}$。为方便起见，我们使用 $x, y, z, \dots$ 作为其元变量。
2.  **常量 (Constants):** 一个常量符号: `1`。
3.  **函数符号 (Function Symbols):**
    *   `equiv`: 二元函数符号。
    *   `·`: 二元函数符号。
4.  **谓词符号 (Predicate Symbols):**
    *   ` = `: 二元谓词符号。
5.  **逻辑联结词 (Logical Connectives):** `¬` (否定), `→` (蕴含)。
6.  **量词 (Quantifiers):** `∀` (全称量词)。
7.  **辅助符号 (Auxiliary Symbols):** `(`, `)`。

**1.2. 项 (Terms)**

$PATR$ 的项集合是满足以下条件的最小集合:
1.  任何变量 $v \in V$ 都是一个项。
2.  常量 `1` 是一个项。
3.  若 $t_1$ 和 $t_2$ 是项，则 `equiv(t₁, t₂)` 是一个项。
4.  若 $t_1$ 和 $t_2$ 是项，则 `·(t₁, t₂)` 是一个项。

**1.3. 合式公式 (Well-Formed Formulas - WFFs)**

$PATR$ 的合式公式集合是满足以下条件的最小集合:
1.  若 $t_1$ 和 $t_2$ 是项，则 `t₁ = t₂` 是一个原子公式，也是一个合式公式。
2.  若 $\phi$ 是一个合式公式，则 `(¬φ)` 是一个合式公式。
3.  若 $\phi$ 和 $\psi$ 是合式公式，则 `(φ → ψ)` 是一个合式公式。
4.  若 $\phi$ 是一个合式公式且 $x$ 是一个变量，则 `(∀x φ)` 是一个合式公式。

**1.4. 辅助定义**

为简洁起见，我们引入以下元语言缩写：
*   `(φ ∧ ψ)` 定义为 `¬(φ → ¬ψ)`
*   `(φ ∨ ψ)` 定义为 `(¬φ → ψ)`
*   `(φ ↔ ψ)` 定义为 `((φ → ψ) ∧ (ψ → φ))`
*   `(∃x φ)` 定义为 `¬(∀x ¬φ)`
*   `t₁ ≠ t₂` 定义为 `¬(t₁ = t₂)`

---

### **2. 公理系统**

公理系统由逻辑公理、推理规则和非逻辑公理组成。

**2.1. 逻辑公理**

对于任意合式公式 $\phi, \psi, \chi$：

*   **A1:** $(\phi \to (\psi \to \phi))$
*   **A2:** $((\phi \to (\psi \to \chi)) \to ((\phi \to \psi) \to (\phi \to \chi)))$
*   **A3:** $((¬\phi \to ¬\psi) \to (\psi \to \phi))$
*   **A4:** $(\forall x \phi(x) \to \phi(t))$, 其中项 $t$ 在 $\phi(x)$ 中对 $x$ 是自由可代入的。
*   **A5:** $(\forall x (\phi \to \psi) \to (\phi \to \forall x \psi))$, 其中 $\phi$ 中不含自由出现的变量 $x$。

**2.2. 等词公理 (Axioms of Equality)**

对于任意变量 $x, y$ 和项 $t_1, \dots, t_n, s_1, \dots, s_n$：

*   **A6 (自反性):** $\forall x (x = x)$
*   **A7 (替换公理模式):**
    *   对于任意 $n$ 元函数符号 $f$ (在 $PATR$ 中为 `equiv` 和 `·`):
        $\forall x_1 \dots \forall x_n \forall y_1 \dots \forall y_n ( (x_1=y_1 \land \dots \land x_n=y_n) \to f(x_1, \dots, x_n) = f(y_1, \dots, y_n) )$
    *   对于任意 $n$ 元谓词符号 $P$ (在 $PATR$ 中为 ` = `)
        $\forall x_1 \dots \forall x_n \forall y_1 \dots \forall y_n ( (x_1=y_1 \land \dots \land x_n=y_n) \to (P(x_1, \dots, x_n) \to P(y_1, \dots, y_n)) )$

**2.3. 推理规则 (Rules of Inference)**

1.  **分离规则 (Modus Ponens):** 从 $\phi$ 和 $(\phi \to \psi)$，可推出 $\psi$。
2.  **全称概括 (Generalization):** 从 $\phi$，可推出 $(\forall x \phi)$。

**2.4. 非逻辑公理 (Non-Logical Axioms)**

以下公理定义了理论 $PATR$ 的特定性质。

*   **B1: 左侧渗透**
    $\forall a \forall b \forall x(· (x ,\text{equiv} (a, b)) = \text{equiv}( b, · (x, a)))$

*   **B2: 左传递**
    $\forall a \forall b \forall c (· (\text{equiv}(a,b),\text{equiv}( b, c)) = \text{equiv} (a,c))$

*    **B3: 左吸收**
	$\forall a \forall b (· (\text{equiv} (a, b), b) = a)$

*   **EA (等价定义):**
    $\forall x \forall y ( \text{equiv}(x, y) = 1 \leftrightarrow x = y )$


### **3. 模型语义与元理论性质**

本节为形式系统 PATR 构造一个具体模型，并基于该模型证明其可靠性与非平凡一致性。

#### **3.1. 模型语义**

我们为形式系统 PATR 构造一个模型 $\mathcal{M}$，其定义如下：

*   **结构 (Structure):** $\mathcal{M} = \langle U, 1^\mathcal{M}, \cdot^\mathcal{M}, \text{equiv}^\mathcal{M}, =^\mathcal{M} \rangle$
*   **论域 (Universe):** 模型的论域 $U$ 是一个包含四个元素的集合：
    $U = \{ (0,0), (0,1), (1,0), (1,1) \}$
    该集合是基于二元域 $\mathbb{F}_2 = \{0, 1\}$ 的二维向量空间 $\mathbb{F}_2^2$。

*   **常量解释 (Interpretation of Constants):**
    常量符号 `1` 的解释 $1^\mathcal{M}$ 是论域 $U$ 中的零向量：
    $1^\mathcal{M} = (0,0)$

*   **函数解释 (Interpretation of Functions):**
    对于任意元素 $u = (u_1, u_2) \in U$ 和 $v = (v_1, v_2) \in U$：
    1.  二元函数符号 `·` 的解释 $\cdot^\mathcal{M}$ 定义为 $U$ 上的向量加法（分量模2加法）：
        $\cdot^\mathcal{M}(u, v) = u + v = ( (u_1 + v_1) \pmod 2, (u_2 + v_2) \pmod 2 )$
    2.  二元函数符号 `equiv` 的解释 $\text{equiv}^\mathcal{M}$ 也定义为 $U$ 上的向量加法：
        $\text{equiv}^\mathcal{M}(u, v) = u + v = ( (u_1 + v_1) \pmod 2, (u_2 + v_2) \pmod 2 )$

*   **谓词解释 (Interpretation of Predicates):**
    二元谓词符号 `=` 的解释 $=^\mathcal{M}$ 是论域 $U$ 上的标准恒等关系。即，对于任意 $u, v \in U$，$u =^\mathcal{M} v$ 当且仅当 $u$ 和 $v$ 是 $U$ 中的同一个元素。

*   **代数性质:**
    该模型的核心结构 $(U, +)$ 是一个阿贝尔群，其中单位元为 $(0,0)$，且对于任意元素 $u \in U$，均有 $u+u=(0,0)$。这意味着每个元素都是其自身的逆元。

#### **3.2. 可靠性证明 (Proof of Soundness)**

为了证明 PATR 的可靠性，我们必须证明其所有公理在模型 $\mathcal{M}$ 中为真。设 $s$ 为任意一个将变量映射到论域 $U$ 的赋值函数。我们将证明，对于 PATR 的任意公理 $\phi$，$\mathcal{M}, s \models \phi$ 均成立。

*   **逻辑公理 (A1-A5) 与等词公理 (A6-A7):**
    这些公理是一阶谓词逻辑（带等词）的标准公理模式。根据一阶逻辑语义的定义，它们在任何合法的模型（包括 $\mathcal{M}$）中都为真。

*   **非逻辑公理 (B1-B3, EA) 的有效性验证:**
    我们对每个非逻辑公理进行验证。为简洁起见，我们用小写字母 $a, b, c, x, y$ 代表论域 $U$ 中的任意元素。

    **1. 验证公理 EA: $\forall x \forall y ( \text{equiv}(x, y) = 1 \leftrightarrow x = y )$**
    在模型 $\mathcal{M}$ 中，我们需要验证：
    $\text{equiv}^\mathcal{M}(x, y) = 1^\mathcal{M} \iff x =^\mathcal{M} y$
    代入解释，即验证：
    $x + y = (0,0) \iff x = y$
    *   ($\Rightarrow$): 假设 $x+y=(0,0)$。在该等式两边同时加上 $y$，得到 $(x+y)+y = (0,0)+y$。根据向量加法的结合律，有 $x+(y+y)=y$。因为在模型中 $y+y=(0,0)$，所以 $x+(0,0)=y$，即 $x=y$。
    *   ($\Leftarrow$): 假设 $x=y$。则 $x+y=x+x$。因为在模型中任何元素与自身相加等于单位元，所以 $x+x=(0,0)$。因此 $x+y=(0,0)$。
    公理 EA 在 $\mathcal{M}$ 中为真。

    **2. 验证公理 B3: $\forall a \forall b (· (\text{equiv} (a, b), b) = a)$**
    在模型 $\mathcal{M}$ 中，我们需要验证：
    $\cdot^\mathcal{M}(\text{equiv}^\mathcal{M}(a, b), b) = a$
    代入解释，即验证：
    $(a+b) + b = a$
    *   证明: 根据向量加法的结合律，$(a+b)+b = a+(b+b)$。因为 $b+b=(0,0)$，所以 $a+(b+b) = a+(0,0)$。根据单位元的性质，$a+(0,0)=a$。
    公理 B3 在 $\mathcal{M}$ 中为真。

    **3. 验证公理 B2: $\forall a \forall b \forall c (· (\text{equiv}(a,b),\text{equiv}( b, c)) = \text{equiv} (a,c))$**
    在模型 $\mathcal{M}$ 中，我们需要验证：
    $\cdot^\mathcal{M}(\text{equiv}^\mathcal{M}(a,b),\text{equiv}^\mathcal{M}( b, c)) = \text{equiv}^\mathcal{M} (a,c)$
    代入解释，即验证：
    $(a+b) + (b+c) = a+c$
    *   证明: 根据向量加法的结合律和交换律，$(a+b)+(b+c) = a + (b+b) + c$。因为 $b+b=(0,0)$，所以 $a + (0,0) + c = a+c$。
    公理 B2 在 $\mathcal{M}$ 中为真。

    **4. 验证公理 B1: $\forall a \forall b \forall x(· (x ,\text{equiv} (a, b)) = \text{equiv}( b, · (x, a)))$**
    在模型 $\mathcal{M}$ 中，我们需要验证：
    $\cdot^\mathcal{M}(x, \text{equiv}^\mathcal{M}(a, b)) = \text{equiv}^\mathcal{M}(b, \cdot^\mathcal{M}(x, a))$
    代入解释，即验证：
    $x+(a+b) = b+(x+a)$
    *   证明:
        *   左侧 (LHS): 根据结合律，$x+(a+b) = x+a+b$。
        *   右侧 (RHS): 根据结合律，$b+(x+a) = b+x+a$。
        *   由于向量加法满足交换律，因此 $x+a+b = b+x+a$。
    公理 B1 在 $\mathcal{M}$ 中为真。

*   **可靠性结论:**
    由于 PATR 的所有公理在模型 $\mathcal{M}$ 中都为真，并且其推理规则（分离规则和全称概括）在语义上是保真（truth-preserving）的，因此，任何从这些公理推导出的定理在模型 $\mathcal{M}$ 中也必然为真。这证明了 PATR 系统相对于模型 $\mathcal{M}$ 是可靠的。

#### **3.3. 非平凡一致性证明 (Proof of Non-Trivial Consistency)**

**1. 一致性 (Consistency)**
一个形式理论是一致的，当且仅当它不能证明矛盾。我们将通过反证法，利用已证明的可靠性来证明 PATR 的一致性。

*   **(1)** 假设 PATR 是不一致的。
*   **(2)** 根据爆炸原理，一个不一致的理论可以证明任何合式公式。因此，PATR 可以证明公式 $1 \neq 1$（即 $\neg(1=1)$）。形式化地写为：PATR $\vdash \neg(1=1)$。
*   **(3)** 根据 3.2 节证明的可靠性，任何 PATR 的定理在模型 $\mathcal{M}$ 中都必须为真。因此，如果 PATR $\vdash \neg(1=1)$，那么必然有 $\mathcal{M} \models \neg(1=1)$。
*   **(4)** 我们在模型 $\mathcal{M}$ 中对公式 $\neg(1=1)$ 求值。其语义解释为 $\neg(1^\mathcal{M} =^\mathcal{M} 1^\mathcal{M})$，即 $\neg((0,0)=(0,0))$。根据 $=^\mathcal{M}$ 的定义，$(0,0)=(0,0)$ 是真的，因此 $\neg((0,0)=(0,0))$ 是假的。所以，$\mathcal{M} \not\models \neg(1=1)$。
*   **(5)** 步骤 (3) 的结论 ($\mathcal{M} \models \neg(1=1)$) 与步骤 (4) 的结论 ($\mathcal{M} \not\models \neg(1=1)$) 相互矛盾。
*   **(6)** 该矛盾源于我们在步骤 (1) 中的初始假设。因此，该假设必为假。
*   **结论: PATR 是一致的。**

**2. 非平凡性 (Non-Triviality)**
一个理论是非平凡的，如果它至少有一个元素个数大于一的模型。这等价于该理论不能证明“所有事物都相等”这一论断，即 PATR $\not\vdash \forall x \forall y (x=y)$。

*   **(1)** 考察我们在 3.1 节中构造的模型 $\mathcal{M}$。其论域为 $U = \{ (0,0), (0,1), (1,0), (1,1) \}$。
*   **(2)** 论域 $U$ 的基数 $|U|=4$。由于 $4>1$，模型 $\mathcal{M}$ 是一个非平凡模型。
*   **(3)** 考虑公式 $\phi \equiv \forall x \forall y (x=y)$。我们在模型 $\mathcal{M}$ 中检验该公式的真伪。
*   **(4)** 要使 $\mathcal{M} \models \phi$ 成立，必须对于 $U$ 中的任意两个元素 $u, v$，都有 $u=v$。
*   **(5)** 然而，我们可以从 $U$ 中选取两个不同的元素，例如 $u=(0,1)$ 和 $v=(1,0)$。显然 $u \neq v$。因此，公式 $\phi$ 在模型 $\mathcal{M}$ 中为假。即 $\mathcal{M} \not\models \forall x \forall y (x=y)$。
*   **(6)** 根据可靠性原理，如果一个公式在理论的某个模型中为假，那么它不可能是该理论的一个定理。
*   **(7)** 因此，PATR 无法证明公式 $\forall x \forall y (x=y)$。
*   **结论: PATR 是非平凡的。**

**最终结论:**
由于 PATR 既是一致的，又是非平凡的，我们证明了 **PATR 是一个非平凡一致的 (non-trivially consistent) 形式系统**。
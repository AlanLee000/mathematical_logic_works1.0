## 等价与应用理论PEA

本系统是一个基于带等词的一阶谓词逻辑的形式理论。

### **1. 形式语言 $PEA$**

**1.1. 符号表 (Alphabet)**

1.  **变量 (Variables):** 一个可数无限集 $V = \{v_0, v_1, v_2, \dots\}$。为方便起见，我们使用 $x, y, z, \dots$ 作为其元变量。
2.  **常量 (Constants):** 一个常量符号: `1`。
3.  **函数符号 (Function Symbols):**
    *   `equiv`: 二元函数符号。
    *   `·`: 二元函数符号。
4.  **谓词符号 (Predicate Symbols):**
    *   ` = `: 二元谓词符号。
5.  **逻辑联结词 (Logical Connectives):** `¬` (否定), `→` (蕴含)。
6.  **量词 (Quantifiers):** `∀` (全称量词)。
7.  **辅助符号 (Auxiliary Symbols):** `(`, `)`。

**1.2. 项 (Terms)**

$PEA$ 的项集合是满足以下条件的最小集合:
1.  任何变量 $v \in V$ 都是一个项。
2.  常量 `1` 是一个项。
3.  若 $t_1$ 和 $t_2$ 是项，则 `equiv(t₁, t₂)` 是一个项。
4.  若 $t_1$ 和 $t_2$ 是项，则 `·(t₁, t₂)` 是一个项。

**1.3. 合式公式 (Well-Formed Formulas - WFFs)**

$PEA$ 的合式公式集合是满足以下条件的最小集合:
1.  若 $t_1$ 和 $t_2$ 是项，则 `t₁ = t₂` 是一个原子公式，也是一个合式公式。
2.  若 $\phi$ 是一个合式公式，则 `(¬φ)` 是一个合式公式。
3.  若 $\phi$ 和 $\psi$ 是合式公式，则 `(φ → ψ)` 是一个合式公式。
4.  若 $\phi$ 是一个合式公式且 $x$ 是一个变量，则 `(∀x φ)` 是一个合式公式。

**1.4. 辅助定义**

为简洁起见，我们引入以下元语言缩写：
*   `(φ ∧ ψ)` 定义为 `¬(φ → ¬ψ)`
*   `(φ ∨ ψ)` 定义为 `(¬φ → ψ)`
*   `(φ ↔ ψ)` 定义为 `((φ → ψ) ∧ (ψ → φ))`
*   `(∃x φ)` 定义为 `¬(∀x ¬φ)`
*   `t₁ ≠ t₂` 定义为 `¬(t₁ = t₂)`

---

### **2. 公理系统 $A_{EA}$**

公理系统由逻辑公理、推理规则和非逻辑公理组成。

**2.1. 逻辑公理**

对于任意合式公式 $\phi, \psi, \chi$：

*   **A1:** $(\phi \to (\psi \to \phi))$
*   **A2:** $((\phi \to (\psi \to \chi)) \to ((\phi \to \psi) \to (\phi \to \chi)))$
*   **A3:** $((¬\phi \to ¬\psi) \to (\psi \to \phi))$
*   **A4:** $(\forall x \phi(x) \to \phi(t))$, 其中项 $t$ 在 $\phi(x)$ 中对 $x$ 是自由可代入的。
*   **A5:** $(\forall x (\phi \to \psi) \to (\phi \to \forall x \psi))$, 其中 $\phi$ 中不含自由出现的变量 $x$。

**2.2. 等词公理 (Axioms of Equality)**

对于任意变量 $x, y$ 和项 $t_1, \dots, t_n, s_1, \dots, s_n$：

*   **A6 (自反性):** $\forall x (x = x)$
*   **A7 (替换公理模式):**
    *   对于任意 $n$ 元函数符号 $f$ (在 $PEA$ 中为 `equiv` 和 `·`):
        $\forall x_1 \dots \forall x_n \forall y_1 \dots \forall y_n ( (x_1=y_1 \land \dots \land x_n=y_n) \to f(x_1, \dots, x_n) = f(y_1, \dots, y_n) )$
    *   对于任意 $n$ 元谓词符号 $P$ (在 $PEA$ 中为 ` = `)
        $\forall x_1 \dots \forall x_n \forall y_1 \dots \forall y_n ( (x_1=y_1 \land \dots \land x_n=y_n) \to (P(x_1, \dots, x_n) \to P(y_1, \dots, y_n)) )$

**2.3. 推理规则 (Rules of Inference)**

1.  **分离规则 (Modus Ponens):** 从 $\phi$ 和 $(\phi \to \psi)$，可推出 $\psi$。
2.  **全称概括 (Generalization):** 从 $\phi$，可推出 $(\forall x \phi)$。

**2.4. 非逻辑公理 (Non-Logical Axioms)**

以下公理定义了理论 $PEA$ 的特定性质。

*   **EA1 (等价定义):**
    $\forall x \forall y ( \text{equiv}(x, y) = 1 \leftrightarrow x = y )$

*   **EA2 (路径提升):**
    $\forall x \exists y ( \text{equiv}(\cdot(x, y), y) = \cdot(x, \text{equiv}(x, y)) )$

*   **UA (路径应用/转换公理):**
    $\forall x \forall y ( \cdot(\text{equiv}(x, y), y) = x )$

---

### **3. 模型论语义与一致性证明**

本节将为理论 $PEA$ 定义形式语义，构造一个具体的非平凡模型，并基于此模型严格证明 $PEA$ 的可靠性与非平凡一致性。

#### **3.1 形式语义**

**定义 3.1.1 (结构)**
一个 $L_{PEA}$**-结构** $\mathcal{M}$ 是一个有序对 $\langle D, I \rangle$，其中：
1.  $D$ 是一个非空集合，称为**论域 (Domain)**。
2.  $I$ 是一个**解释函数 (Interpretation Function)**，其定义域为 $L_{PEA}$ 的非逻辑符号集，并满足：
    a. $I(1) \in D$。我们将其简记为 $1^{\mathcal{M}}$。
    b. $I(\text{equiv}): D \times D \to D$ 是一个二元函数。我们将其简记为 $\text{equiv}^{\mathcal{M}}$。
    c. $I(\cdot): D \times D \to D$ 是一个二元函数。我们将其简记为 $\cdot^{\mathcal{M}}$。
    d. $I(=)$ 是 $D$ 上的恒等关系，即 $I(=) = \{ \langle d, d \rangle \mid d \in D \}$。

**定义 3.1.2 (变量赋值)**
一个在结构 $\mathcal{M}$ 中的**变量赋值 (Variable Assignment)** 是一个函数 $s: V \to D$，将每个变量映射到论域中的一个元素。

**定义 3.1.3 (项的解释)**
给定一个结构 $\mathcal{M}$ 和一个变量赋值 $s$，项 $t$ 的解释 $t^{\mathcal{M}}[s]$ 递归定义如下：
1.  若 $t$ 是变量 $x$，则 $t^{\mathcal{M}}[s] = s(x)$。
2.  若 $t$ 是常量 `1`，则 $t^{\mathcal{M}}[s] = 1^{\mathcal{M}}$。
3.  若 $t$ 是 $\text{equiv}(t_1, t_2)$，则 $t^{\mathcal{M}}[s] = \text{equiv}^{\mathcal{M}}(t_1^{\mathcal{M}}[s], t_2^{\mathcal{M}}[s])$。
4.  若 $t$ 是 $\cdot(t_1, t_2)$，则 $t^{\mathcal{M}}[s] = \cdot^{\mathcal{M}}(t_1^{\mathcal{M}}[s], t_2^{\mathcal{M}}[s])$。

**定义 3.1.4 (满足关系)**
给定一个结构 $\mathcal{M}$ 和一个变量赋值 $s$，我们定义**满足关系** $\mathcal{M} \models \phi [s]$（读作“$\mathcal{M}$ 在赋值 $s$ 下满足 $\phi$”）如下：
1.  $\mathcal{M} \models (t_1 = t_2) [s]$ 当且仅当 $t_1^{\mathcal{M}}[s] = t_2^{\mathcal{M}}[s]$。
2.  $\mathcal{M} \models (\neg\phi) [s]$ 当且仅当 $\mathcal{M} \not\models \phi [s]$。
3.  $\mathcal{M} \models (\phi \to \psi) [s]$ 当且仅当若 $\mathcal{M} \models \phi [s]$，则 $\mathcal{M} \models \psi [s]$。
4.  $\mathcal{M} \models (\forall x \phi) [s]$ 当且仅当对于任意 $d \in D$，都有 $\mathcal{M} \models \phi [s(x/d)]$，其中 $s(x/d)$ 是一个变量赋值，它将 $x$ 映射到 $d$，而对其他所有变量的映射与 $s$ 相同。

**定义 3.1.5 (真与模型)**
1.  一个公式 $\phi$ 在结构 $\mathcal{M}$ 中为**真 (True)**，记为 $\mathcal{M} \models \phi$，当且仅当对于任意变量赋值 $s$，都有 $\mathcal{M} \models \phi [s]$。
2.  一个结构 $\mathcal{M}$ 是理论 $PEA$ 的一个**模型 (Model)**，当且仅当 $PEA$ 的所有公理都在 $\mathcal{M}$ 中为真。
3.  我们使用 $\models_{PEA} \phi$ 表示 $\phi$ 在 $PEA$ 的所有模型中都为真。

#### **3.2 一个非平凡模型的构造**

我们构造一个 $L_{PEA}$-结构 $\mathcal{M} = \langle D, I \rangle$。

**定义 3.2.1 (论域)**
设论域 $D = \{ \mathbf{1}, \mathbf{a} \}$，其中 $\mathbf{1} \neq \mathbf{a}$。由于 $|D| = 2 > 1$，该结构是非平凡的。

**定义 3.2.2 (解释)**
解释函数 $I$ 定义如下：
1.  **常量:** $1^{\mathcal{M}} = \mathbf{1}$。
2.  **谓词:** $=^{\mathcal{M}}$ 是 $D$ 上的恒等关系。
3.  **函数 `equiv`:** $\text{equiv}^{\mathcal{M}}: D \times D \to D$ 定义为：
    *   $\text{equiv}^{\mathcal{M}}(\mathbf{1}, \mathbf{1}) = \mathbf{1}$
    *   $\text{equiv}^{\mathcal{M}}(\mathbf{a}, \mathbf{a}) = \mathbf{1}$
    *   $\text{equiv}^{\mathcal{M}}(\mathbf{1}, \mathbf{a}) = \mathbf{a}$
    *   $\text{equiv}^{\mathcal{M}}(\mathbf{a}, \mathbf{1}) = \mathbf{a}$
4.  **函数 `·`:** $\cdot^{\mathcal{M}}: D \times D \to D$ 定义为：
    *   $\cdot^{\mathcal{M}}(\mathbf{1}, \mathbf{1}) = \mathbf{1}$
    *   $\cdot^{\mathcal{M}}(\mathbf{1}, \mathbf{a}) = \mathbf{a}$
    *   $\cdot^{\mathcal{M}}(\mathbf{a}, \mathbf{1}) = \mathbf{a}$
    *   $\cdot^{\mathcal{M}}(\mathbf{a}, \mathbf{a}) = \mathbf{1}$

**定理 3.2.3**
结构 $\mathcal{M}$ 是理论 $PEA$ 的一个模型。

**证明：**
逻辑公理 (A1-A5) 和等词公理 (A6-A7) 在任何标准的一阶逻辑结构中均为真。我们仅需验证三个非逻辑公理在 $\mathcal{M}$ 中为真。

**1. 验证 EA1: $\forall x \forall y ( \text{equiv}(x, y) = 1 \leftrightarrow x = y )$**
我们需对 $D \times D$ 中所有 $\langle x, y \rangle$ 的赋值进行验证。
*   **若 $x=y$**:
    *   $x=\mathbf{1}, y=\mathbf{1}$: $\text{equiv}^{\mathcal{M}}(\mathbf{1}, \mathbf{1}) = \mathbf{1}$。$1^{\mathcal{M}} = \mathbf{1}$。$\mathbf{1} = \mathbf{1}$ 为真。
    *   $x=\mathbf{a}, y=\mathbf{a}$: $\text{equiv}^{\mathcal{M}}(\mathbf{a}, \mathbf{a}) = \mathbf{1}$。$1^{\mathcal{M}} = \mathbf{1}$。$\mathbf{1} = \mathbf{1}$ 为真。
*   **若 $x \neq y$**:
    *   $x=\mathbf{1}, y=\mathbf{a}$: $\text{equiv}^{\mathcal{M}}(\mathbf{1}, \mathbf{a}) = \mathbf{a}$。$1^{\mathcal{M}} = \mathbf{1}$。$\mathbf{a} = \mathbf{1}$ 为假。
    *   $x=\mathbf{a}, y=\mathbf{1}$: $\text{equiv}^{\mathcal{M}}(\mathbf{a}, \mathbf{1}) = \mathbf{a}$。$1^{\mathcal{M}} = \mathbf{1}$。$\mathbf{a} = \mathbf{1}$ 为假。
在所有情况下，$\text{equiv}^{\mathcal{M}}(x, y) = 1^{\mathcal{M}}$ 的真值与 $x=y$ 的真值相同。因此 $\mathcal{M} \models \text{EA1}$。

**2. 验证 UA: $\forall x \forall y ( \cdot(\text{equiv}(x, y), y) = x )$**
*   $x=\mathbf{1}, y=\mathbf{1}$: $\cdot^{\mathcal{M}}(\text{equiv}^{\mathcal{M}}(\mathbf{1}, \mathbf{1}), \mathbf{1}) = \cdot^{\mathcal{M}}(\mathbf{1}, \mathbf{1}) = \mathbf{1}$。等式成立。
*   $x=\mathbf{1}, y=\mathbf{a}$: $\cdot^{\mathcal{M}}(\text{equiv}^{\mathcal{M}}(\mathbf{1}, \mathbf{a}), \mathbf{a}) = \cdot^{\mathcal{M}}(\mathbf{a}, \mathbf{a}) = \mathbf{1}$。等式成立。
*   $x=\mathbf{a}, y=\mathbf{1}$: $\cdot^{\mathcal{M}}(\text{equiv}^{\mathcal{M}}(\mathbf{a}, \mathbf{1}), \mathbf{1}) = \cdot^{\mathcal{M}}(\mathbf{a}, \mathbf{1}) = \mathbf{a}$。等式成立。
*   $x=\mathbf{a}, y=\mathbf{a}$: $\cdot^{\mathcal{M}}(\text{equiv}^{\mathcal{M}}(\mathbf{a}, \mathbf{a}), \mathbf{a}) = \cdot^{\mathcal{M}}(\mathbf{1}, \mathbf{a}) = \mathbf{a}$。等式成立。
因此 $\mathcal{M} \models \text{UA}$。

**3. 验证 EA2: $\forall x \exists y ( \text{equiv}(\cdot(x, y), y) = \cdot(x, \text{equiv}(x, y)) )$**
我们需要对每个 $x \in D$ 证明存在一个 $y \in D$ 使等式成立。
*   **情况 $x=\mathbf{1}$**: 选取 $y=\mathbf{1}$。
    *   左侧: $\text{equiv}^{\mathcal{M}}(\cdot^{\mathcal{M}}(\mathbf{1}, \mathbf{1}), \mathbf{1}) = \text{equiv}^{\mathcal{M}}(\mathbf{1}, \mathbf{1}) = \mathbf{1}$。
    *   右侧: $\cdot^{\mathcal{M}}(\mathbf{1}, \text{equiv}^{\mathcal{M}}(\mathbf{1}, \mathbf{1})) = \cdot^{\mathcal{M}}(\mathbf{1}, \mathbf{1}) = \mathbf{1}$。
    *   左侧 = 右侧。因此对于 $x=\mathbf{1}$ 存在这样的 $y$。
*   **情况 $x=\mathbf{a}$**: 选取 $y=\mathbf{a}$。
    *   左侧: $\text{equiv}^{\mathcal{M}}(\cdot^{\mathcal{M}}(\mathbf{a}, \mathbf{a}), \mathbf{a}) = \text{equiv}^{\mathcal{M}}(\mathbf{1}, \mathbf{a}) = \mathbf{a}$。
    *   右侧: $\cdot^{\mathcal{M}}(\mathbf{a}, \text{equiv}^{\mathcal{M}}(\mathbf{a}, \mathbf{a})) = \cdot^{\mathcal{M}}(\mathbf{a}, \mathbf{1}) = \mathbf{a}$。
    *   左侧 = 右侧。因此对于 $x=\mathbf{a}$ 存在这样的 $y$。
因此 $\mathcal{M} \models \text{EA2}$。

所有非逻辑公理都在 $\mathcal{M}$ 中为真，故 $\mathcal{M}$ 是 $PEA$ 的一个模型。 Q.E.D.

#### **3.3 可靠性与非平凡一致性**

**定理 3.3.1 (可靠性 Soundness)**
理论 $PEA$ 是可靠的。即，对于任意 $L_{PEA}$-公式 $\phi$，如果 $\vdash_{PEA} \phi$，则 $\models_{PEA} \phi$。

**证明：**
理论 $PEA$ 是建立在标准的一阶谓词逻辑之上的形式系统，其逻辑公理 (A1-A5)、等词公理 (A6-A7) 以及推理规则（分离规则、全称概括）是标准且完备的。一阶逻辑的可靠性定理是一个标准的元逻辑结论。该定理表明，任何从一组公理（在本例中为 $A_{EA}$）可证的公式，在该组公理的任何模型中都必然为真。因此，可靠性定理直接适用于理论 $PEA$。

**定理 3.3.2 (非平凡一致性 Non-trivial Consistency)**
理论 $PEA$ 是非平凡一致的。

**证明：**
此证明分为两部分：一致性和非平凡性。

**1. 一致性 (Consistency)**
*   为证一致性，我们需证明 $PEA$ 无法推出矛盾。我们将通过反证法证明。
*   **假设 $PEA$ 是不一致的**。根据不一致的定义，对于任意公式 $\psi$，都有 $\vdash_{PEA} \psi$。
*   令 $\psi$ 为公式 $\exists x (x \neq x)$。那么根据假设，我们有 $\vdash_{PEA} \exists x (x \neq x)$。
*   根据**定理 3.3.1 (可靠性)**，如果一个公式是可证的，那么它在 $PEA$ 的所有模型中都为真。因此，$\models_{PEA} \exists x (x \neq x)$。
*   这意味着在我们于**定理 3.2.3** 中构造的模型 $\mathcal{M}$ 中，必须有 $\mathcal{M} \models \exists x (x \neq x)$。
*   根据**定义 3.1.4**，这意味着在论域 $D=\{\mathbf{1}, \mathbf{a}\}$ 中，存在一个元素 $d$ 使得 $d \neq d$。
*   然而，在 $\mathcal{M}$ 中，$=^{\mathcal{M}}$ 是恒等关系，所以 $\mathbf{1}=\mathbf{1}$ 且 $\mathbf{a}=\mathbf{a}$。不存在满足 $d \neq d$ 的元素。
*   因此，$\mathcal{M} \not\models \exists x (x \neq x)$。
*   这与前述结论 $\mathcal{M} \models \exists x (x \neq x)$ 产生矛盾。
*   所以，初始假设“$PEA$是不一致的”为假。故 **$PEA$ 是一致的**。

**2. 非平凡性 (Non-triviality)**
*   为证非平凡性，我们需证明 $PEA$ 无法推出 `∀x∀y(x=y)`。
*   考察公式 $\phi \equiv \forall x\forall y(x=y)$。
*   在我们构造的模型 $\mathcal{M}$ 中，考虑变量赋值 $s(x)=\mathbf{1}$ 和 $s(y)=\mathbf{a}$。
*   由于 $\mathbf{1} \neq \mathbf{a}$，所以 $\mathcal{M} \not\models (x=y)[s]$。
*   根据**定义 3.1.4**，既然存在一个变量赋值使得 $(x=y)$ 不被满足，那么 $\mathcal{M} \not\models \forall x\forall y(x=y)$。
*   根据可靠性定理的逆否命题：若存在一个模型 $\mathcal{M}$ 使得 $\mathcal{M} \not\models \phi$，则 $\nvdash_{PEA} \phi$。
*   因此，$\nvdash_{PEA} \forall x\forall y(x=y)$。
*   一个理论是一致的，并且不能证明所有对象都相等，那么该理论是**非平凡的**。

综上所述，理论 $PEA$ 是非平凡一致的。 Q.E.D.
### **形式系统：PIL**

#### **1. 语法 (Syntax)**

##### **1.1. 字母表 (Alphabet)**

*   **命题变量 (Propositional Variables):** 一个可数的集合 $V = \{p, q, r, ...\}$。
*   **一元逻辑联结词 (Unary Connective):** `⨽`。
*   **二元逻辑联结词 (Binary Connectives):** $\{⊗, ⊕\}$。
*   **辅助符号 (Auxiliary Symbols):** $($, $)$。

##### **1.2. 合式公式 (Well-formed Formulas - WFFs)**

我们使用 $Form$ 来表示所有合式公式的集合。该集合是满足以下规则的最小集合：
1.  **基本情况：** 若 $p ∈ V$，则 $p ∈ Form$。
2.  **归纳情况 1：** 若 $A ∈ Form$，则 $(⨽A) ∈ Form$。
3.  **归纳情况 2：** 若 $A ∈ Form$ 且 $B ∈ Form$，则 $(A ⊗ B) ∈ Form$ 且 $(A ⊕ B) ∈ Form$。

为简洁起见，我们将省略最外层的括号。在元语言中，我们使用大写拉丁字母 $A, B, C, ...$ 作为表示任意合式公式的元变量，使用大写希腊字母 $Γ, Δ, ...$ 作为表示 $Form$ 的**有限多重集 (finite multisets)** 的元变量。

---

#### **2. 证明系统 (Proof System)**

##### **2.1. 公理模式 (Axiom Schemata)**

系统 PIL 有两个公理模式。对于任意公式 $A, B$，以下公式是公理：

*   **(Abs) 吸收律 (Absorption):**
    $$(A ⊗ B) ⊕ A$$

*   **(LEM-⊕) 排中律 (Law of Excluded Middle):**
    $$A ⊕ (⨽A)$$

##### **2.2. 推理规则 (Rules of Inference)**

系统 PIL 有四条推理规则。在下面的表示中，横线上方是前提，横线下方是结论。

*   **(LI-1) 左交互律 1 (Left Interaction 1):**
    $$ \frac{(A ⊗ B) ⊕ C}{(A ⊕ B) ⊗ C} $$

*   **(LI-2) 左交互律 2 (Left Interaction 2):**
    $$ \frac{(A ⊕ B) ⊗ C}{(A ⊗ B) ⊕ C} $$

*   **(RI-1) 右交互律 1 (Right Interaction 1):**
    $$ \frac{A ⊗ (B ⊕ C)}{A ⊕ (B ⊗ C)} $$

*   **(RI-2) 右交互律 2 (Right Interaction 2):**
    $$ \frac{A ⊕ (B ⊗ C)}{A ⊗ (B ⊕ C)} $$

##### **2.3. 证明与推导 (Proof and Deduction)**

*   一个在 PIL 中对公式 $A$ 的**证明 (proof)**，是一个有限的公式序列 $C_1, C_2, ..., C_n$，满足以下条件：
    1.  序列的最后一个公式是 $A$，即 $C_n = A$。
    2.  序列中的每一个公式 $C_i$ (对于 $1 \le i \le n$) 必须满足以下条件之一：
        *   $C_i$ 是公理模式 (Abs) 或 (LEM-⊕) 的一个实例。
        *   $C_i$ 是通过对序列中早于 $C_i$ 的某个公式 $C_j$ ($j < i$) 应用某条推理规则而得到的。
    如果存在一个对 $A$ 的证明，我们称 $A$ 是 PIL 的一个**定理 (theorem)**，记作 $⊢_{PIL} A$。

*   一个在 PIL 中从一个**公式的多重集** $Γ$ 对公式 $A$ 的**推导 (deduction)**，是一个有限的公式序列 $C_1, C_2, ..., C_n$，满足以下条件：
    1.  序列的最后一个公式是 $A$，即 $C_n = A$。
    2.  序列中的每一个公式 $C_i$ (对于 $1 \le i \le n$) 必须满足以下条件之一：
        *   $C_i$ 是公理模式 (Abs) 或 (LEM-⊕) 的一个实例。
        *   $C_i$ 是 $Γ$ 中的一个元素（即，一个**假设 (hypothesis)**）。
        *   $C_i$ 是通过对序列中早于 $C_i$ 的某个公式 $C_j$ ($j < i$) 应用某条推理规则而得到的。
    如果存在一个从 $Γ$ 对 $A$ 的推导，我们称 $A$ 是**可从 $Γ$ 推导的**，记作 $Γ ⊢_{PIL} A$。

---

#### **3. 语义 (Semantics)**

**核心动机**：将一个逻辑公式的真值定义为其所有原子命题真值的算术总和，再加上由特定联结词（⊗）的每次使用所引入的一个固定的、不可约的单位值。

##### **3.1. PIL-模型 (PIL-Model)**

一个 **PIL-模型** 是一个三元组 $M = \langle T, D, F \rangle$，其中：

1.  **真值集合 (Set of Truth Values):** $T$ 是自然数集，即 $T = \mathbb{N} = \{0, 1, 2, ...\}$。
2.  **指定值集合 (Set of Designated Values):** $D$ 是正整数集，即 $D = \mathbb{N}^+ = \{1, 2, 3, ...\}$。
3.  **联结词解释函数 (Interpretation Functions):** $F$ 是一个映射，它将逻辑联结词 `⨽`, $⊗$, $⊕$ 解释为 $T$ 上的函数：
    *   $f_⨽: T \to T$
        $$ f_⨽(x) = \begin{cases} 1 & \text{if } x = 0 \\ 0 & \text{if } x \ge 1 \end{cases} $$
    *   $f_⊗: T \times T \to T$，对于任意 $x, y \in T, f_⊗(x, y) = x + y + 1$。
    *   $f_⊕: T \times T \to T$，对于任意 $x, y \in T, f_⊕(x, y) = x + y$。

##### **3.2. 赋值与解释 (Valuation and Interpretation)**

1.  一个**赋值 (valuation)** 是一个函数 $v: V \to T$，它将每个命题变量映射到一个真值。
2.  任意赋值 $v$ 可以被唯一地扩展为一个**解释函数 (interpretation function)** $v^*: Form \to T$，其定义遵循以下归纳规则：
    *   **基本情况：** 对于任意命题变量 $p \in V$, $v^*(p) = v(p)$。
    *   **归纳情况：** 对于任意公式 $A, B \in Form$：
        *   $v^*(⨽A) = f_⨽(v^*(A))$。
        *   $v^*(A ⊗ B) = f_⊗(v^*(A), v^*(B)) = v^*(A) + v^*(B) + 1$。
        *   $v^*(A ⊕ B) = f_⊕(v^*(A), v^*(B)) = v^*(A) + v^*(B)$。
    为表述简洁，下文将使用 $v$ 代替 $v^*$ 来表示解释函数。

##### **3.3. 语义后承 (Semantic Consequence)**

*   **语义后承关系 (Semantic Consequence Relation):** 令 $Γ$ 为一个公式的有限多重集，$A$ 为一个公式。我们称 $A$ 是 $Γ$ 的**语义后承**，记作 $Γ \models_{PIL} A$，其定义为：
    > 对于**每一个**赋值 $v: V \to T$，**如果**对于所有 $B \in Γ$ 均有 $v(B) \in D$，**那么** $v(A) \in D$。

*   **有效性 (Validity):** 一个公式 $A$ 被称为**有效的 (valid)**，记作 $\models_{PIL} A$，当且仅当 $∅ \models_{PIL} A$。这等价于：
    > 对于**每一个**赋值 $v: V \to T$，都有 $v(A) \in D$。

---

#### **4. PIL 的可靠性定理 (Soundness Theorem for PIL)**

**定理：** 对于任意公式的有限多重集 $Γ$ 和任意公式 $A$，如果 $Γ ⊢_{PIL} A$，则 $Γ \models_{PIL} A$。

**证明：**
此证明通过对推导的长度 $n$ 进行数学归纳法来完成。令 $C_1, C_2, ..., C_n$ 是一个从假设 $Γ$ 得到结论 $A$ 的推导，其中 $C_n = A$。我们将证明，对于序列中的每一个公式 $C_i$ ($1 \le i \le n$)，都有 $Γ \models_{PIL} C_i$。如果此结论成立，那么对于 $i=n$ 的情况，我们便可得到 $Γ \models_{PIL} A$，定理即得证。

**归纳基础 (Base Case):** $n = 1$。
$C_1$ 必须满足作为推导第一行的条件，即 $C_1$ 是 $Γ$ 中的一个假设，或者 $C_1$ 是一个公理。

*   **情况 1: $C_1 \in Γ$ ($C_1$ 是一个假设)。**
    我们需要证明 $Γ \models_{PIL} C_1$。根据语义后承的定义，我们需要表明：对于任意赋值 $v$，若对所有 $B \in Γ$ 都有 $v(B) \in D$，则 $v(C_1) \in D$。
    此蕴含关系的前提是“对于所有 $B \in Γ$ 都有 $v(B) \in D$”。因为 $C_1$ 是 $Γ$ 中的一个元素，所以结论“$v(C_1) \in D$”是前提的一部分。因此，该蕴含关系必然成立。故 $Γ \models_{PIL} C_1$。

*   **情况 2: $C_1$ 是公理模式 (Abs) 的一个实例。**
    $C_1$ 的形式为 $(B ⊗ D) ⊕ B$。我们需要证明 $Γ \models_{PIL} C_1$。我们证明一个更强的结论：$\models_{PIL} C_1$。
    设 $v$ 为任意赋值。令 $v(B) = x$ 且 $v(D) = y$，其中 $x, y \in \mathbb{N}$。
    $v(C_1) = v((B ⊗ D) ⊕ B) = v(B ⊗ D) + v(B) = (v(B) + v(D) + 1) + v(B) = (x + y + 1) + x = 2x + y + 1$。
    由于 $x \ge 0$ 且 $y \ge 0$，则 $2x + y + 1 \ge 2(0) + 0 + 1 = 1$。
    因为 $D = \{z \in \mathbb{N} \mid z \ge 1\}$，所以 $v(C_1) \in D$。
    由于 $v$ 是任意的，所以 $\models_{PIL} C_1$ 成立。因此 $Γ \models_{PIL} C_1$ 也成立。

*   **情况 3: $C_1$ 是公理模式 (LEM-⊕) 的一个实例。**
    $C_1$ 的形式为 $B ⊕ (⨽B)$。我们需要证明 $\models_{PIL} B ⊕ (⨽B)$。
    设 $v$ 为任意赋值。令 $v(B) = x$，其中 $x \in \mathbb{N}$。
    $v(C_1) = v(B ⊕ (⨽B)) = v(B) + v(⨽B) = x + f_⨽(x)$。
    我们分两种情况讨论 $x$ 的值：
    1.  若 $x = 0$，则 $v(C_1) = 0 + f_⨽(0) = 0 + 1 = 1$。
    2.  若 $x \ge 1$，则 $v(C_1) = x + f_⨽(x) = x + 0 = x$。
    在这两种情况下，结果都 $\ge 1$。因此 $v(C_1) \in D$。
    由于 $v$ 是任意的，所以 $\models_{PIL} C_1$ 成立。因此 $Γ \models_{PIL} C_1$ 也成立。

**归纳步骤 (Inductive Step):**
**归纳假设：** 假设对于所有 $j < i$，$Γ \models_{PIL} C_j$ 成立。
我们需要证明 $Γ \models_{PIL} C_i$。
$C_i$ 的来源有三种可能：是一个假设，是一个公理，或是通过推理规则从前面的公式得到。

*   **情况 1 & 2: $C_i \in Γ$ 或 $C_i$ 是一个公理。**
    其证明与归纳基础中的情况 1, 2, 3 完全相同，结论 $Γ \models_{PIL} C_i$ 成立。

*   **情况 3: $C_i$ 是通过对某个 $C_j$ ($j < i$) 应用推理规则而得到的。**
    设 $v$ 是一个任意的赋值，并假设其满足条件 $\mathcal{P}$：即对所有 $X \in Γ$ 都有 $v(X) \in D$。我们的目标是证明 $v(C_i) \in D$。考虑 $C_i$ 是通过对 $C_j$ ($j<i$) 应用某规则得到的情况。
    根据归纳假设，我们有 $Γ \models_{PIL} C_j$。根据语义后承的定义，这意味着‘对于任意满足条件 $\mathcal{P}$ 的赋值，该赋值必然也使得 $C_j$ 的值为指定值’。
	由于我们所选的 $v$ 正是满足条件 $\mathcal{P}$ 的一个赋值，因此我们可以从归纳假设中得出结论：$v(C_j) \in D$。
	我们将逐一验证所有推理规则。令 $v(A)=x, v(B)=y, v(C)=z$。

    *   **规则 (LI-1):** $C_i$ 为 $(A \oplus B) ⊗ C$，由 $C_j = (A ⊗ B) ⊕ C$ ($j<i$) 推得。
        根据归纳假设，$Γ \models_{PIL} C_j$，因此 $v(C_j) \in D$。
        $v(C_j) = v((A ⊗ B) ⊕ C) = (x+y+1)+z$。
        $v(C_i) = v((A \oplus B) ⊗ C) = (x+y)+z+1$。
        由于自然数加法满足结合律与交换律，可知 $v(C_i) = v(C_j)$。
        既然 $v(C_j) \in D$，则 $v(C_i) \in D$ 必然成立。

    *   **规则 (LI-2):** $C_i$ 为 $(A ⊗ B) ⊕ C$，由 $C_j = (A \oplus B) ⊗ C$ ($j<i$) 推得。
        根据归纳假设，$Γ \models_{PIL} C_j$，因此 $v(C_j) \in D$。
        $v(C_j) = v((A \oplus B) ⊗ C) = (x+y)+z+1$。
        $v(C_i) = v((A ⊗ B) ⊕ C) = (x+y+1)+z$。
        可知 $v(C_i) = v(C_j)$。既然 $v(C_j) \in D$，则 $v(C_i) \in D$。

    *   **规则 (RI-1):** $C_i$ 为 $A \oplus (B ⊗ C)$，由 $C_j = A ⊗ (B ⊕ C)$ ($j<i$) 推得。
        根据归纳假设，$Γ \models_{PIL} C_j$，因此 $v(C_j) \in D$。
        $v(C_j) = v(A ⊗ (B ⊕ C)) = x+(y+z)+1$。
        $v(C_i) = v(A \oplus (B ⊗ C)) = x+(y+z+1)$。
        可知 $v(C_i) = v(C_j)$。既然 $v(C_j) \in D$，则 $v(C_i) \in D$。

    *   **规则 (RI-2):** $C_i$ 为 $A ⊗ (B ⊕ C)$，由 $C_j = A \oplus (B ⊗ C)$ ($j<i$) 推得。
        根据归纳假设，$Γ \models_{PIL} C_j$，因此 $v(C_j) \in D$。
        $v(C_j) = v(A \oplus (B ⊗ C)) = x+(y+z+1)$。
        $v(C_i) = v(A ⊗ (B ⊕ C)) = x+(y+z)+1$。
        可知 $v(C_i) = v(C_j)$。既然 $v(C_j) \in D$，则 $v(C_i) \in D$。

    在所有推理规则的情况下，我们都证明了若前提的语义值属于 $D$，则结论的语义值也必然属于 $D$。由于我们的初始设定是：对于任意满足 $Γ$ 中所有公式的赋值 $v$，前提 $C_j$ 的值属于 $D$。因此，在同样的赋值 $v$ 下，结论 $C_i$ 的值也必然属于 $D$。这满足了 $Γ \models_{PIL} C_i$ 的定义。

**结论：**
通过对推导长度的数学归纳法，我们证明了对于推导中的任意一行 $C_i$，都有 $Γ \models_{PIL} C_i$。特别地，对于推导的最后一行 $C_n = A$，我们有 $Γ \models_{PIL} A$。

证明完毕。∎

---

#### **5. PIL 对经典命题逻辑的表达能力 (Expressive Power over CPL)**

本节将证明，尽管形式系统 PIL 是一个多值逻辑，但它具备完全表达经典命题逻辑 (Classical Propositional Logic, CPL) 的能力。这通过在 PIL 的语法和语义框架内，为 CPL 的联结词提供一组完备且语义正确的定义来实现。

##### **5.1. 语义对应 (Semantic Correspondence)**

我们首先建立 PIL 的多值语义与 CPL 的二值语义之间的形式化映射。令 CPL 的真值集合为 $\{T, F\}$，其中 $T$ 代表“真”，$F$ 代表“假”。我们定义一个翻译函数 $τ: \mathbb{N} \to \{T, F\}$，如下：

对于任意真值 $n \in \mathbb{N}$，
$$ τ(n) = \begin{cases} T & \text{if } n \in D \text{ (即 } n \ge 1 \text{)} \\ F & \text{if } n \notin D \text{ (即 } n = 0 \text{)} \end{cases} $$

此函数将 PIL 中的指定值映射为 CPL 的“真”，将非指定值（仅有 `0`）映射为 CPL 的“假”。

##### **5.2. CPL 联结词的定义 (Definitions of CPL Connectives)**

我们为 CPL 的一组功能完备的联结词集合 $\{¬, ∨\}$ 提供 PIL 定义，并基于此定义其他联结词。对于任意 PIL 公式 $A, B \in Form$：

*   **定义 5.2.1 (否定, Negation):**
    $$ ¬_{CPL} A \quad := \quad ⨽A $$

*   **定义 5.2.2 (析取, Disjunction):**
    $$ A ∨_{CPL} B \quad := \quad A ⊕ B $$

基于以上定义，我们可以进一步定义其他标准 CPL 联结词：

*   **定义 5.2.3 (合取, Conjunction):**
    依据德摩根定律 $A ∧ B \equiv ¬(¬A ∨ ¬B)$，定义：
    $$ A ∧_{CPL} B \quad := \quad ⨽((⨽A) ⊕ (⨽B)) $$

*   **定义 5.2.4 (实质蕴含, Material Implication):**
    依据 $A → B \equiv ¬A ∨ B$，定义：
    $$ A →_{CPL} B \quad := \quad (⨽A) ⊕ B $$

##### **5.3. 语义充分性验证 (Verification of Semantic Adequacy)**

为了证明上述定义是正确的，我们必须表明，在翻译函数 $τ$ 的作用下，这些 PIL 公式所构造的真值函数与 CPL 的标准真值表完全一致。

**定理 5.1 (语义充分性)**
对于任意赋值 $v: V \to \mathbb{N}$，以下等价关系成立：
1.  $τ(v(¬_{CPL} A)) = ¬(τ(v(A)))$
2.  $τ(v(A ∨_{CPL} B)) = τ(v(A)) ∨ τ(v(B))$

**证明：**

**1. 验证否定 (¬):**
令 $v(A) = x$。
*   **情况 (a):** 假设 $τ(v(A)) = T$。
    根据 $τ$ 的定义，这意味着 $x \ge 1$。
    此时，$v(¬_{CPL} A) = v(⨽A) = f_⨽(x) = 0$。
    因此，$τ(v(¬_{CPL} A)) = τ(0) = F$。
    这与 CPL 中 $¬T = F$ 相符。

*   **情况 (b):** 假设 $τ(v(A)) = F$。
    根据 $τ$ 的定义，这意味着 $x = 0$。
    此时，$v(¬_{CPL} A) = v(⨽A) = f_⨽(0) = 1$。
    因此，$τ(v(¬_{CPL} A)) = τ(1) = T$。
    这与 CPL 中 $¬F = T$ 相符。
故此，定义 5.2.1 在语义上是充分的。

**2. 验证析取 (∨):**
令 $v(A) = x$ 且 $v(B) = y$。
*   **情况 (a):** 假设 $τ(v(A)) = T$ 且 $τ(v(B)) = T$。
    这意味着 $x \ge 1$ 且 $y \ge 1$。
    此时，$v(A ∨_{CPL} B) = v(A ⊕ B) = x + y \ge 1 + 1 = 2$。
    因为 $2 \in D$，所以 $τ(v(A ∨_{CPL} B)) = T$。
    这与 CPL 中 $T ∨ T = T$ 相符。

*   **情况 (b):** 假设 $τ(v(A)) = T$ 且 $τ(v(B)) = F$。
    这意味着 $x \ge 1$ 且 $y = 0$。
    此时，$v(A ∨_{CPL} B) = v(A ⊕ B) = x + y = x + 0 = x \ge 1$。
    因为 $x \in D$，所以 $τ(v(A ∨_{CPL} B)) = T$。
    这与 CPL 中 $T ∨ F = T$ 相符。

*   **情况 (c):** 假设 $τ(v(A)) = F$ 且 $τ(v(B)) = T$。
    这意味着 $x = 0$ 且 $y \ge 1$。
    此时，$v(A ∨_{CPL} B) = v(A ⊕ B) = x + y = 0 + y = y \ge 1$。
    因为 $y \in D$，所以 $τ(v(A ∨_{CPL} B)) = T$。
    这与 CPL 中 $F ∨ T = T$ 相符。

*   **情况 (d):** 假设 $τ(v(A)) = F$ 且 $τ(v(B)) = F$。
    这意味着 $x = 0$ 且 $y = 0$。
    此时，$v(A ∨_{CPL} B) = v(A ⊕ B) = x + y = 0 + 0 = 0$。
    因为 $0 \notin D$，所以 $τ(v(A ∨_{CPL} B)) = F$。
    这与 CPL 中 $F ∨ F = F$ 相符。
故此，定义 5.2.2 在语义上是充分的。

证明完毕。∎

##### **5.4. 结论**

我们已经证明，PIL 系统能够为经典命题逻辑的一个功能完备联结词集 $\{¬, ∨\}$ 提供语义上完全等价的定义。由于所有其他的布尔函数（如合取、蕴含、等价）均可由该功能完备集定义，因此可以得出结论：**形式系统 PIL 能够表达所有经典命题逻辑的真值函数。**
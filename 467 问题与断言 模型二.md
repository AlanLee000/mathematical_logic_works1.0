### **形式系统：自指问题系统 (System of Self-Referential Inquiry, SRI)**

#### **1. 语法 (Syntax)**

**1.1. 字母表 (Alphabet)**

SRI 系统的字母表由以下四类符号构成：

1.  **基础符号集 (Basic Symbols)**: 一个可数的无限集合，用 $α, β, γ, ...$ 等表示。
2.  **一元算子 (Unary Operator)**: $W$
3.  **二元算子 (Binary Operators)**: $I$, $P$
4.  **辅助符号 (Auxiliary Symbols)**: $($, $)$

**1.2. 良构公式 (Well-formed Formulas, WFFs)**

SRI 系统中良构公式的集合（记作 $\mathcal{F}$）是满足以下条件的最小集合：

1.  **原子性**: 如果 $α$ 是一个基础符号，那么 $α ∈ \mathcal{F}$。
2.  **提问构造**: 如果 $\varphi ∈ \mathcal{F}$，那么 $W(\varphi) ∈ \mathcal{F}$。
3.  **断言构造**: 如果 $\varphi, \psi ∈ \mathcal{F}$，那么 $I(\varphi, \psi) ∈ \mathcal{F}$。
4.  **所有格构造**: 如果 $\varphi, \psi ∈ \mathcal{F}$，那么 $P(\varphi, \psi) ∈ \mathcal{F}$。

*为便于阅读，我们约定以下对应关系：*
*   $W(\varphi)$ 对应 “$\varphi$是什么？”
*   $I(\varphi, \psi)$ 对应 “$\varphi$就是$\psi$”
*   $P(\varphi, \psi)$ 对应 “$\varphi$的$\psi$”

#### **2. 证明论 (Proof Theory)**

**2.1. 公理模式 (Axiom Schemas)**

对于 $\mathcal{F}$ 中的任意公式 $\varphi$，$\psi$，$\chi$，以下公式均为公理：

*   **A1: 同一性 (Identity)**
    $I(\varphi, \varphi)$

*   **A2: 问题的自我指涉 (Inquiry Self-Reference)**
    $I(W(\varphi), W(W(\varphi)))$

*   **A3: 所有格的自我同一 (Possessive Self-Identity)**
    $I(P(\varphi, \varphi), \varphi)$

**2.2. 推理规则 (Rules of Inference)**

令 $\varphi, \psi, \chi, \sigma$ 为 $\mathcal{F}$ 中的任意公式。符号 $⊢ \varphi$ 表示 $\varphi$ 是系统中的一个定理。

*   **R1: 提问-断言转换 (Inquiry-Assertion Transformation)**
    
    $$
    \frac{⊢ W(P(\varphi, W(\psi)))}{⊢ I(\psi, \varphi)}
    $$

*   **R2: 错误定义 (Error Definition)**
    
    $$
    \frac{⊢ I(\varphi, \psi) \qquad ⊢ W(P(\sigma, W(\psi)))}{⊢ I(P(\sigma, \varphi), W(\psi))}
    $$

*   **R3: 断言传递性 (Transitivity of Assertion)**
    
    $$
    \frac{⊢ I(\varphi, \psi) ,\qquad⊢ I(\psi, \chi)}{⊢ I(\varphi, \chi)}
    $$

*   **R4: 所有格替换 (Possessive Congruence)**
    
    $$
    \frac{⊢ I(\varphi, \psi)}{⊢ I(P(\varphi, \chi),P(\psi, \chi))}
    $$

*   **R5: 问题等价转换 (Inquiry Equivalence)**

    $$
    \frac{⊢ I(\varphi, \psi)}{⊢ I(W(\varphi),W(\psi))}
    $$

#### **3. 核心定义 (Core Definitions)**

*   **证明 (Proof)**: SRI 系统中的一个证明，是一个由良构公式组成的有限序列 $\varphi_{1}, \varphi_{2}, ..., \varphi_{n}$，其中对于序列中的每一个 $\varphi_{i}$ (1 ≤ i ≤ n)，$\varphi_{i}$ 必须满足以下条件之一：
    1.  $\varphi_{i}$ 是公理模式 A1, A2 或 A3 的一个实例。
    2.  存在序列中位于 $\varphi_{i}$ 之前的公式，使得 $\varphi_{i}$ 可以通过应用推理规则 R1, R2, R3, R4 或 R5 推导得出。

*   **定理 (Theorem)**: 一个良构公式 $\varphi$ 是 SRI 系统的一个定理，当且仅当存在一个以 $\varphi$ 为最终公式的证明。我们将 $\varphi$ 是一个定理记作 $⊢ \varphi$。


---

### **4. 语义学：一个三值代数模型 (Semantics: A Three-valued Algebraic Model)**

本节为 SRI 系统提供一个形式化的语义解释。我们构建一个模型 $\mathcal{M}$，并证明该系统对于此模型是可靠的 (sound)、非平凡的 (non-trivial) 且非退化的 (non-degenerate)。

#### **4.1. 模型结构 (Model Structure)**

SRI 系统的模型 $\mathcal{M}$ 是一个五元组 $\mathcal{M} = \langle D, \le, T_{des}, \mathcal{O} \rangle$，其中：

1.  **语义域 (Semantic Domain)**: $D$ 是一个包含三个值的集合：
    $D = \{ \top, Q, \bot \}$

2.  **序关系 (Order Relation)**: $\le$ 是在 $D$ 上定义的一个全序关系：
    $\bot \le Q \le \top$

3.  **指定真值集 (Set of Designated Values)**: $T_{des}$ 是 $D$ 的一个子集：
    $T_{des} = \{ \top \}$

4.  **语义算子集 (Set of Semantic Operators)**: $\mathcal{O} = \{w, i, p\}$ 是对应于语法算子 $W, I, P$ 的函数集合。
    *   **函数 $i: D \times D \to D$** 定义为：
        $i(x, y) = \begin{cases} \top & \text{if } x \le y \\ \bot & \text{if } x > y \end{cases}$
    *   **函数 $w: D \to D$** 定义为：
        $w(x) = \begin{cases} \top & \text{if } x = \top \\ Q & \text{if } x \in \{Q, \bot\} \end{cases}$
    *   **函数 $p: D \times D \to D$** 定义为：
        $p(x, y) = \min(x, y)$，其中 $\min$ 依据序关系 $\le$ 定义。

#### **4.2. 赋值与真值 (Valuation and Truth)**

**定义 4.1 (赋值)**:
一个赋值 (valuation) $V$ 是一个从基础符号集到语义域 $D$ 的映射。

**定义 4.2 (解释)**:
对于任意赋值 $V$，其对良构公式集合 $\mathcal{F}$ 的扩展函数（亦记作 $V$）递归定义如下：
1.  若 $\varphi$ 为基础符号，则 $V(\varphi)$ 已由赋值定义。
2.  $V(W(\varphi)) = w(V(\varphi))$
3.  $V(I(\varphi, \psi)) = i(V(\varphi), V(\psi))$
4.  $V(P(\varphi, \psi)) = p(V(\varphi), V(\psi))$

**定义 4.3 (模型中的真)**:
1.  一个公式 $\varphi$ 在赋值 $V$ 下于模型 $\mathcal{M}$ 中为真，记作 $\mathcal{M}, V \models \varphi$，当且仅当 $V(\varphi) \in T_{des}$ (即 $V(\varphi) = \top$)。
2.  一个公式 $\varphi$ 在模型 $\mathcal{M}$ 中为有效 (valid) 或重言式，记作 $\mathcal{M} \models \varphi$，当且仅当对于任意赋值 $V$，都有 $\mathcal{M}, V \models \varphi$。

#### **4.3. 可靠性证明 (Soundness Proof)**

**定理 4.4 (可靠性)**:
对于任意公式 $\varphi \in \mathcal{F}$，如果 $⊢ \varphi$，则 $\mathcal{M} \models \varphi$。

**证明**:
通过对证明长度的归纳来证明。我们必须证明所有公理模式的实例在 $\mathcal{M}$ 中都是有效的，并且所有推理规则都保持有效性。

**基础步骤：公理的有效性**
对于任意赋值 $V$ 和任意公式 $\varphi, \psi, \chi \in \mathcal{F}$：

1.  **A1: $I(\varphi, \varphi)$**
    $V(I(\varphi, \varphi)) = i(V(\varphi), V(\varphi))$。
    根据序关系 $\le$ 的自反性，对于任意 $x \in D$，都有 $x \le x$。
    因此，$i(V(\varphi), V(\varphi)) = \top$。
    故 $\mathcal{M} \models I(\varphi, \varphi)$。

2.  **A2: $I(W(\varphi), W(W(\varphi)))$**
    $V(I(W(\varphi), W(W(\varphi)))) = i(V(W(\varphi)), V(W(W(\varphi)))) = i(w(V(\varphi)), w(w(V(\varphi))))$。
    我们需要证明 $w(V(\varphi)) \le w(w(V(\varphi)))$。令 $x = V(\varphi)$。
    *   情况 1: $x = \top$。则 $w(x) = \top$ 且 $w(w(x)) = w(\top) = \top$。$\top \le \top$ 成立。
    *   情况 2: $x = Q$。则 $w(x) = Q$ 且 $w(w(x)) = w(Q) = Q$。$Q \le Q$ 成立。
    *   情况 3: $x = \bot$。则 $w(x) = Q$ 且 $w(w(x)) = w(Q) = Q$。$Q \le Q$ 成立。
    在所有情况下，$w(x) \le w(w(x))$ 均成立。因此 $i(w(x), w(w(x))) = \top$。
    故 $\mathcal{M} \models I(W(\varphi), W(W(\varphi)))$。

3.  **A3: $I(P(\varphi, \varphi), \varphi)$**
    $V(I(P(\varphi, \varphi), \varphi)) = i(V(P(\varphi, \varphi)), V(\varphi)) = i(p(V(\varphi), V(\varphi)), V(\varphi))$。
    根据 $p$ 的定义，$p(V(\varphi), V(\varphi)) = \min(V(\varphi), V(\varphi)) = V(\varphi)$。
    因此，我们需要证明 $V(\varphi) \le V(\varphi)$，这根据 $\le$ 的自反性显然成立。
    故 $\mathcal{M} \models I(P(\varphi, \varphi), \varphi)$。

**归纳步骤：推理规则的保真性**

1.  **R1: $\frac{⊢ W(P(\varphi, W(\psi)))}{⊢ I(\psi, \varphi)}$**
    归纳假设：$\mathcal{M} \models W(P(\varphi, W(\psi)))$。这意味着对任意 $V$，$V(W(P(\varphi, W(\psi)))) = \top$。
    根据 $w$ 的定义，$w(z) = \top$ 当且仅当 $z = \top$。
    因此，$V(P(\varphi, W(\psi))) = p(V(\varphi), V(W(\psi))) = \top$。
    根据 $p$ 的定义，$\min(x, y) = \top$ 当且仅当 $x = \top$ 且 $y = \top$。
    所以，$V(\varphi) = \top$ 且 $V(W(\psi)) = \top$。
    $V(W(\psi)) = w(V(\psi)) = \top$ 再次蕴含 $V(\psi) = \top$。
    结论是 $I(\psi, \varphi)$。其值为 $V(I(\psi, \varphi)) = i(V(\psi), V(\varphi)) = i(\top, \top) = \top$。
    规则 R1 保持有效性。

2.  **R2: $\frac{⊢ I(\varphi, \psi) \qquad ⊢ W(P(\sigma, W(\psi)))}{⊢ I(P(\sigma, \varphi), W(\psi))}$**
    归纳假设：$\mathcal{M} \models I(\varphi, \psi)$ 且 $\mathcal{M} \models W(P(\sigma, W(\psi)))$。
    (1) $\mathcal{M} \models I(\varphi, \psi) \implies \forall V, V(I(\varphi, \psi)) = \top \implies \forall V, V(\varphi) \le V(\psi)$。
    (2) $\mathcal{M} \models W(P(\sigma, W(\psi))) \implies \forall V, V(\sigma) = \top$ 且 $V(\psi) = \top$ (由 R1 的分析)。
    我们需要证明 $\mathcal{M} \models I(P(\sigma, \varphi), W(\psi))$。
    $V(I(P(\sigma, \varphi), W(\psi))) = i(p(V(\sigma), V(\varphi)), w(V(\psi)))$。
    代入由 (2) 得到的值：$V(\sigma)=\top, V(\psi)=\top$。
    $p(V(\sigma), V(\varphi)) = p(\top, V(\varphi)) = \min(\top, V(\varphi)) = V(\varphi)$。
    $w(V(\psi)) = w(\top) = \top$。
    所以，求值变为 $i(V(\varphi), \top)$。因为对于任意 $x \in D$，都有 $x \le \top$，所以 $i(V(\varphi), \top) = \top$。
    规则 R2 保持有效性。

3.  **R3: $\frac{⊢ I(\varphi, \psi) \qquad ⊢ I(\psi, \chi)}{⊢ I(\varphi, \chi)}$**
    归纳假设：$\mathcal{M} \models I(\varphi, \psi)$ 且 $\mathcal{M} \models I(\psi, \chi)$。
    这意味着对任意 $V$，$V(\varphi) \le V(\psi)$ 且 $V(\psi) \le V(\chi)$。
    由于 $\le$ 是传递序，可得 $V(\varphi) \le V(\chi)$。
    因此，$V(I(\varphi, \chi)) = i(V(\varphi), V(\chi)) = \top$。
    规则 R3 保持有效性。

4.  **R4: $\frac{⊢ I(\varphi, \psi)}{⊢ I(P(\varphi, \chi),P(\psi, \chi))}$**
    归纳假设：$\mathcal{M} \models I(\varphi, \psi)$，即对任意 $V$，$V(\varphi) \le V(\psi)$。
    我们需要证明 $\mathcal{M} \models I(P(\varphi, \chi),P(\psi, \chi))$。
    $V(I(P(\varphi, \chi),P(\psi, \chi))) = i(p(V(\varphi), V(\chi)), p(V(\psi), V(\chi)))$。
    这要求证明 $p(V(\varphi), V(\chi)) \le p(V(\psi), V(\chi))$，即 $\min(V(\varphi), V(\chi)) \le \min(V(\psi), V(\chi))$。
    此不等式因 $\min$ 函数的单调性和假设 $V(\varphi) \le V(\psi)$ 而成立。
    规则 R4 保持有效性。

5.  **R5: $\frac{⊢ I(\varphi, \psi)}{⊢ I(W(\varphi),W(\psi))}$**
    归纳假设：$\mathcal{M} \models I(\varphi, \psi)$，即对任意 $V$，$V(\varphi) \le V(\psi)$。
    我们需要证明 $\mathcal{M} \models I(W(\varphi),W(\psi))$。
    $V(I(W(\varphi),W(\psi))) = i(w(V(\varphi)), w(V(\psi)))$。
    这要求证明 $w(V(\varphi)) \le w(V(\psi))$。
    令 $x = V(\varphi), y = V(\psi)$，已知 $x \le y$。
    *   若 $x=y$，则 $w(x)=w(y)$，成立。
    *   若 $x<y$:
        *   $x=\bot, y=Q$: $w(\bot)=Q, w(Q)=Q$。$Q \le Q$ 成立。
        *   $x=\bot, y=\top$: $w(\bot)=Q, w(\top)=\top$。$Q \le \top$ 成立。
        *   $x=Q, y=\top$: $w(Q)=Q, w(\top)=\top$。$Q \le \top$ 成立。
    函数 $w$ 对于序关系 $\le$ 是单调非减的。因此不等式成立。
    规则 R5 保持有效性。

归纳完毕。定理 4.4 证毕。

#### **4.4. 非平凡性与非退化性 (Non-triviality and Non-degeneracy)**

**命题 4.5 (非平凡性)**:
模型 $\mathcal{M}$ 是非平凡的，即存在一个公式 $\varphi$ 使得 $\mathcal{M} \not\models \varphi$。

**证明**:
令 $α, β$ 为基础符号。考虑赋值 $V$ 使得 $V(α) = \top$ 且 $V(β) = \bot$。
考虑公式 $\varphi = I(α, β)$。
$V(I(α, β)) = i(V(α), V(β)) = i(\top, \bot)$。
由于 $\top \not\le \bot$，根据 $i$ 的定义，$i(\top, \bot) = \bot$。
因为 $V(I(α, β)) \notin T_{des}$，所以 $\mathcal{M}, V \not\models I(α, β)$。
故 $\mathcal{M} \not\models I(α, β)$。

**推论 4.6 (一致性)**:
SRI 系统是一致的 (consistent)，即存在一个公式 $\varphi$ 使得 $\nvdash \varphi$。

**证明**:
由定理 4.4 和命题 4.5 直接可得。若所有公式都是定理，则所有公式在 $\mathcal{M}$ 中都将是有效的，与命题 4.5 矛盾。

**命题 4.7 (非退化性)**:
模型 $\mathcal{M}$ 是非退化的，即对于每一个推理规则，都存在一个赋值 $V$ 使得该规则的所有前提在 $V$ 下为真。

**证明**:
对于每条规则，我们构造一个满足条件的赋值 $V$。
*   **R1**: 令 $V(α) = \top, V(β) = \top$。对于前提 $W(P(α, W(β)))$，$V(W(P(α, W(β)))) = w(p(V(α), w(V(β)))) = w(p(\top, w(\top))) = w(p(\top, \top)) = w(\top) = \top$。前提为真。

*   **R2**: 令 $V(α) = Q, V(β) = \top, V(γ) = \top$。
    *   前提1 $I(α, β)$: $V(I(α, β)) = i(V(α), V(β)) = i(Q, \top) = \top$。
    *   前提2 $W(P(γ, W(β)))$: $V(W(P(γ, W(β)))) = \top$，证明同 R1。
    两个前提均为真。

*   **R3**: 令 $V(α) = \bot, V(β) = Q, V(γ) = \top$。
    *   前提1 $I(α, β)$: $V(I(α, β)) = i(\bot, Q) = \top$。
    *   前提2 $I(β, γ)$: $V(I(β, γ)) = i(Q, \top) = \top$。
    两个前提均为真。

*   **R4**: 令 $V(α) = Q, V(β) = \top$。前提 $I(α, β)$ 的值为 $i(Q, \top) = \top$。前提为真。

*   **R5**: 令 $V(α) = Q, V(β) = \top$。前提 $I(α, β)$ 的值为 $i(Q, \top) = \top$。前提为真。

所有推理规则的前提都可被满足。命题 4.7 证毕。
### 形式系统 $\mathcal{L_Q}$

#### 1. 语言 (Language)

形式语言 $\mathcal{L_Q}$ 的构建基于以下元素：

**1.1. 基本符号 (Basic Symbols):**
*   **命题变量 (Propositional Variables):** 一个可数的集合 $\mathbb{P} = \{p, q, r, ...\}$。
*   **一元算子 (Unary Operator):** $Q(\cdot)$
*   **二元算子 (Binary Relational Operators):**
    *   $\cdot \triangleleft \cdot$
    *   $\cdot \rightsquigarrow \cdot$
*   **辅助符号 (Auxiliary Symbols):** $($, $)$。


**1.2. 合式公式 (Well-formed Formulas, WFFs):**
WFFs 的集合是满足以下条件的最小集合：
*   **基础规则:** 如果 $p \in \mathbb{P}$，则 $p$ 是一个 WFF。
*   **构造规则 I:** 如果 $\phi$ 是一个 WFF，则 $Q(\phi)$ 是一个 WFF。
*   **构造规则 II:** 如果 $\phi$ 和 $\psi$ 都是 WFFs，则 $(\phi \triangleleft \psi)$和 $(\phi \rightsquigarrow \psi)$ 都是 WFFs。（为清晰起见，外层括号通常省略）。

#### 2. 公理模式 (Axiom Schemata)

对于语言 $\mathcal{L_Q}$ 中的任意合式公式 $\phi$ 和 $\psi$：

*   **A1:**
$$Q(\phi) \triangleleft \phi$$

*   **A2:**
$$(Q(\phi) \triangleleft \psi) \rightsquigarrow (\phi \rightsquigarrow \psi)$$

*   **A3:**
   $$\phi \rightsquigarrow \phi$$
   
#### 3. 推理规则 (Inference Rules)

推理规则在元逻辑层面定义。设 $\Gamma$ 为一个 WFFs 的集合，我们用 $\Gamma \vdash_{\mathcal{L_Q}} \phi$ 表示公式 $\phi$ 可以从 $\Gamma$ 中的公式集合通过以下规则推导出来。对于任意 WFFs $\phi, \psi, \chi$：

*   **R1:**
 $$\frac{ \psi \triangleleft \phi\quad , \quad \psi \triangleleft \chi}{\phi \rightsquigarrow \chi}$$
*   **R2:**
 $$\frac{\phi \triangleleft \psi}{Q(\phi) \rightsquigarrow \psi}$$

*   **R3:**
$$\frac{\phi \rightsquigarrow \psi \quad , \quad \psi \rightsquigarrow \chi}{\phi \rightsquigarrow \chi}$$

*   **R4:**
$$\frac{Q(\phi) \triangleleft \psi \quad , \quad \psi \rightsquigarrow \chi}{Q(\phi) \triangleleft \chi}$$

*   **R5:**
$$\frac{Q(\phi) \triangleleft \psi \quad , \quad Q(\psi) \triangleleft \chi}{Q(\phi) \triangleleft \chi}$$

#### 4. 演绎 (Derivation)

在系统 $\mathcal{L_Q}$ 中，一个从假设集合 $\Gamma$ 到结论 $\phi$ 的**演绎**（或**证明**），是一个有限的 WFFs 序列 $\langle \alpha_1, \alpha_2, ..., \alpha_n \rangle$，其中 $\alpha_n = \phi$，并且序列中的每一个 $\alpha_i$ (对于 $1 \le i \le n$) 满足以下条件之一：
1.  $\alpha_i$ 是公理模式 (A1, A2, A3) 的一个实例。
2.  $\alpha_i \in \Gamma$ (即 $\alpha_i$ 是一个假设)。
3.  $\alpha_i$ 是通过对序列中早于它的某些公式应用推理规则 (R1-R5) 得到的结果。


### **5. 模型论语义 (Model-Theoretic Semantics)**

#### **5.1. 模型 (Model)**

一个**模型 (Model)** $\mathcal{M}$ 是一个四元组 $\mathcal{M} = \langle S, V, E, R \rangle$，其构成如下：

*   **S:** 一个非空的状态集合 (a non-empty set of states)。
*   **V:** 一个赋值函数 (a valuation function) $V: \mathbb{P} \to \mathcal{P}(S)$，为每个命题变量 $p \in \mathbb{P}$ 分配一个其为真的状态集合 $V(p) \subseteq S$。
*   **E:** 一个转化函数 (an transformation function) $E: S \to (\text{WFFs} \to \mathcal{P}(\text{WFFs}))$。对每个状态 $s \in S$，函数 $E_s: \text{WFFs} \to \mathcal{P}(\text{WFFs})$ 为每个公式 $\psi$ 指定一个作为其**直接来源 (direct source)** 的公式集合 $E_s(\psi)$。
*   **R:** 一个关系函数 (a relational function) $R: S \to \mathcal{P}(\text{WFFs} \times \text{WFFs})$。对每个状态 $s \in S$，$R_s \subseteq \text{WFFs} \times \text{WFFs}$ 是一个二元关系。我们使用 $\phi \preceq_s \psi$ 作为 $(\phi, \psi) \in R_s$ 的中缀表示法。

#### **5.2. $\mathcal{L_Q}$-模型的约束条件 (Constraints for $\mathcal{L_Q}$-Models)**

一个模型 $\mathcal{M}$ 是一个 **$\mathcal{L_Q}$-模型**，当且仅当它对任意状态 $s \in S$ 和任意合式公式 $\phi, \psi, \chi \in \text{WFFs}$ 满足以下所有约束条件：

*   **C_A1:** $Q(\phi) \in E_s(\phi)$。
*   **C_A2:** $(Q(\phi) \triangleleft \psi) \preceq_s (\phi \rightsquigarrow \psi)$。
*   **C_A3:** $\phi \preceq_s \phi$。
*   **C_R1:** 若存在 $\xi \in \text{WFFs}$ 使得 $\xi \in E_s(\phi)$ 且 $\xi \in E_s(\psi)$，则 $\phi \preceq_s \psi$。
*   **C_R2:** 若 $\phi \in E_s(\psi)$, 则 $Q(\phi) \preceq_s \psi$。
*   **C_R3:** 若 $\phi \preceq_s \psi$ 且 $\psi \preceq_s \chi$, 则 $\phi \preceq_s \chi$。
*   **C_R4:** 若 $Q(\phi) \in E_s(\psi)$ 且 $\psi \preceq_s \chi$, 则 $Q(\phi) \in E_s(\chi)$。
*   **C_R5:** 若 $Q(\phi) \in E_s(\psi)$ 且 $Q(\psi) \in E_s(\chi)$, 则 $Q(\phi) \in E_s(\chi)$。

注：约束 C_A3 和 C_R3 共同要求 $\preceq_s$ 是一个**预序关系 (preorder)**。

#### **5.3. 满足关系 (Satisfaction Relation)**

对于一个 $\mathcal{L_Q}$-模型 $\mathcal{M} = \langle S, V, E, R \rangle$，一个状态 $s \in S$ 和一个合式公式 $\phi$，我们归纳定义**满足关系** $\mathcal{M}, s \models \phi$（读作“$\phi$ 在模型 $\mathcal{M}$ 的状态 $s$ 中为真”）如下：

*   **原子命题:** $\mathcal{M}, s \models p \iff s \in V(p)$，对于 $p \in \mathbb{P}$。
*   **Q 算子:** $\mathcal{M}, s \models Q(\phi) \iff \exists \psi \in \text{WFFs}$ 使得 $Q(\phi) \in E_s(\psi)$。
*   **$\triangleleft$ 关系:** $\mathcal{M}, s \models \phi \triangleleft \psi \iff \phi \in E_s(\psi)$。
*   **$\rightsquigarrow$ 关系:** $\mathcal{M}, s \models \phi \rightsquigarrow \psi \iff \phi \preceq_s \psi$。

#### **5.4. 语义后承与有效性 (Semantic Consequence and Validity)**

*   **模型的真 (True in a model):** 公式 $\phi$ 在模型 $\mathcal{M}$ 中为真，记作 $\mathcal{M} \models \phi$，当且仅当对所有 $s \in S$，都有 $\mathcal{M}, s \models \phi$。
*   **有效性 (Validity):** 公式 $\phi$ 是有效的，记作 $\models \phi$，当且仅当对所有 $\mathcal{L_Q}$-模型 $\mathcal{M}$，都有 $\mathcal{M} \models \phi$。
*   **语义后承 (Semantic Consequence):** 设 $\Gamma$ 为一个 WFFs 集合。$\phi$ 是 $\Gamma$ 的语义后承，记作 $\Gamma \models \phi$，当且仅当对任何 $\mathcal{L_Q}$-模型 $\mathcal{M}$ 和任何状态 $s \in S$，若对所有 $\gamma \in \Gamma$ 都有 $\mathcal{M}, s \models \gamma$，则 $\mathcal{M}, s \models \phi$。

### **6. 可靠性定理 (Soundness Theorem)**

可靠性定理表明，系统 $\mathcal{L_Q}$ 中所有可证的公式都是有效的。

#### **6.1. 引理：公理的有效性**

所有公理模式 A1, A2, A3 的实例都是有效的公式。

**证明:** 设 $\mathcal{M} = \langle S, V, E, R \rangle$ 为任意 $\mathcal{L_Q}$-模型， $s \in S$ 为任意状态。

1.  **证明 $\models Q(\phi) \triangleleft \phi$ (A1):**
    *   根据模型约束 **C_A1**, 对于任意 $\phi \in \text{WFFs}$，恒有 $Q(\phi) \in E_s(\phi)$。
    *   根据满足关系定义 (5.3)，这意味着 $\mathcal{M}, s \models Q(\phi) \triangleleft \phi$。
    *   由于 $\mathcal{M}$ 和 $s$ 是任意的，因此 $\models Q(\phi) \triangleleft \phi$。

2.  **证明 $\models (Q(\phi) \triangleleft \psi) \rightsquigarrow (\phi \rightsquigarrow \psi)$ (A2):**
    *   根据有效性定义，需证对任意 $\mathcal{M}$ 和 $s$ 都有 $\mathcal{M}, s \models (Q(\phi) \triangleleft \psi) \rightsquigarrow (\phi \rightsquigarrow \psi)$。
    *   根据满足关系定义 (5.3)，这等价于需证 $(Q(\phi) \triangleleft \psi) \preceq_s (\phi \rightsquigarrow \psi)$。
    *   根据模型约束 **C_A2**，此关系对任意 $\phi, \psi$ 恒成立。
    *   因此 $\mathcal{M}, s \models (Q(\phi) \triangleleft \psi) \rightsquigarrow (\phi \rightsquigarrow \psi)$。
    *   由于 $\mathcal{M}$ 和 $s$ 是任意的，因此 $\models (Q(\phi) \triangleleft \psi) \rightsquigarrow (\phi \rightsquigarrow \psi)$。

3.  **证明 $\models \phi \rightsquigarrow \phi$ (A3):**
    *   根据模型约束 **C_A3**, 对于任意 $\phi \in \text{WFFs}$，恒有 $\phi \preceq_s \phi$。
    *   根据满足关系定义 (5.3)，这意味着 $\mathcal{M}, s \models \phi \rightsquigarrow \phi$。
    *   由于 $\mathcal{M}$ 和 $s$ 是任意的，因此 $\models \phi \rightsquigarrow \phi$。

#### **6.2. 引理：推理规则的保真性**

所有推理规则 R1-R5 都保持真理。

**证明:** 设 $\mathcal{M}$ 和 $s$ 是任意的。

1.  **规则 R1:** 假设 $\mathcal{M}, s \models \psi \triangleleft \phi$ 和 $\mathcal{M}, s \models \psi \triangleleft \chi$。
    *   由满足关系定义，$\psi \in E_s(\phi)$ 且 $\psi \in E_s(\chi)$。
    *   根据模型约束 **C_R1**, 这蕴含了 $\phi \preceq_s \chi$。
    *   由满足关系定义，$\mathcal{M}, s \models \phi \rightsquigarrow \chi$。

2.  **规则 R2:** 假设 $\mathcal{M}, s \models \phi \triangleleft \psi$。
    *   由满足关系定义，$\phi \in E_s(\psi)$。
    *   根据模型约束 **C_R2**, 这蕴含了 $Q(\phi) \preceq_s \psi$。
    *   由满足关系定义，$\mathcal{M}, s \models Q(\phi) \rightsquigarrow \psi$。

3.  **规则 R3:** 假设 $\mathcal{M}, s \models \phi \rightsquigarrow \psi$ 和 $\mathcal{M}, s \models \psi \rightsquigarrow \chi$。
    *   由满足关系定义，$\phi \preceq_s \psi$ 且 $\psi \preceq_s \chi$。
    *   根据模型约束 **C_R3**, 这蕴含了 $\phi \preceq_s \chi$。
    *   由满足关系定义，$\mathcal{M}, s \models \phi \rightsquigarrow \chi$。

4.  **规则 R4:** 假设 $\mathcal{M}, s \models Q(\phi) \triangleleft \psi$ 和 $\mathcal{M}, s \models \psi \rightsquigarrow \chi$。
    *   由满足关系定义，$Q(\phi) \in E_s(\psi)$ 且 $\psi \preceq_s \chi$。
    *   根据模型约束 **C_R4**, 这蕴含了 $Q(\phi) \in E_s(\chi)$。
    *   由满足关系定义，$\mathcal{M}, s \models Q(\phi) \triangleleft \chi$。

5.  **规则 R5:** 假设 $\mathcal{M}, s \models Q(\phi) \triangleleft \psi$ 和 $\mathcal{M}, s \models Q(\psi) \triangleleft \chi$。
    *   由满足关系定义，$Q(\phi) \in E_s(\psi)$ 且 $Q(\psi) \in E_s(\chi)$。
    *   根据模型约束 **C_R5**, 这蕴含了 $Q(\phi) \in E_s(\chi)$。
    *   由满足关系定义，$\mathcal{M}, s \models Q(\phi) \triangleleft \chi$。

#### **6.3. 可靠性定理的证明**

**定理:** 若 $\Gamma \vdash_{\mathcal{L_Q}} \phi$, 则 $\Gamma \models \phi$。

**证明:** 通过对从 $\Gamma$ 到 $\phi$ 的演绎序列 $\langle \alpha_1, \alpha_2, ..., \alpha_n = \phi \rangle$ 的长度 $n$ 进行数学归纳。

*   **基础情况 (n=1):** $\alpha_1 = \phi$。根据演绎定义，$\phi$ 必须是 $\Gamma$ 的成员或公理。
    *   情况 1: $\phi \in \Gamma$。根据语义后承定义，若任意模型 $\mathcal{M}$ 和状态 $s$ 满足 $\Gamma$ 中所有公式，则 $\mathcal{M}, s \models \phi$ 显然成立。故 $\Gamma \models \phi$。
    *   情况 2: $\phi$ 是公理。根据引理 6.1，$\phi$ 是有效的，即对所有模型 $\mathcal{M}$ 和所有状态 $s$ 都有 $\mathcal{M}, s \models \phi$。因此，$\Gamma \models \phi$ 必然成立。

*   **归纳步骤:** 假设对于所有长度小于 $n$ 的演绎，定理都成立。考虑长度为 $n$ 的演绎，其最后一个公式为 $\alpha_n = \phi$。
    *   若 $\alpha_n$ 是 $\Gamma$ 的成员或公理，则基础情况的论证适用。
    *   若 $\alpha_n$ 是通过对序列中早于它的某些公式 $\alpha_{i_1}, ..., \alpha_{i_k}$ ($i_j < n$) 应用某个推理规则 $R$ 得到的。
    *   根据归纳假设，对于每个 $j \in \{1, ..., k\}$，都有 $\Gamma \models \alpha_{i_j}$。
    *   考虑任意满足 $\Gamma$ 中所有公式的模型 $\mathcal{M}$ 和状态 $s$。
    *   由于 $\Gamma \models \alpha_{i_j}$，这意味着对每个 $j$ 都有 $\mathcal{M}, s \models \alpha_{i_j}$。
    *   因此，规则 $R$ 的所有前提在 $(\mathcal{M},s)$ 中都为真。
    *   根据引理 6.2，推理规则是保真的，其结论 $\alpha_n$ 在 $(\mathcal{M},s)$ 中也必须为真。即 $\mathcal{M}, s \models \alpha_n$。
    *   由于 $\mathcal{M}$ 和 $s$ 是满足 $\Gamma$ 的任意选择，我们得出结论 $\Gamma \models \alpha_n$。

归纳完成，可靠性定理得证。

---

### **7. 一致性与非平凡性 (Consistency and Non-Triviality)**

#### **7.1. 非平凡性 (Non-Triviality)**

为证明系统的一致性，需先证明其语义非平凡，即存在一个 $\mathcal{L_Q}$-模型和一个在该模型中不为真的公式。

##### **构造一个 $\mathcal{L_Q}$-模型 $\mathcal{M}_c$**

1.  **状态集:** $S = \{s_0\}$。
2.  **命题变量:** 设 $p, q \in \mathbb{P}$。
3.  **赋值函数:** $V(p) = \{s_0\}$ 且 $V(q) = \emptyset$。对于任何其他命题变量 $r \in \mathbb{P} \setminus \{p, q\}$, 令 $V(r) = \emptyset$。
4.  **转化与关系函数的构造:**
    令 $E_{s_0}$ 和 $R_{s_0}$ (即关系 $\preceq_{s_0}$) 分别是通过以下归纳构造生成的最小集合：
    *   **基础集 (Stage 0):**
        *   对于所有 $\phi \in \text{WFFs}$, $E_{s_0}^{(0)}(\phi) := \{Q(\phi)\}$。
        *   $R_{s_0}^{(0)} := \{(\phi, \phi) \mid \phi \in \text{WFFs}\} \cup \{((Q(\phi) \triangleleft \psi), (\phi \rightsquigarrow \psi)) \mid \phi, \psi \in \text{WFFs}\}$。
    *   **归纳步骤 (Stage n+1):**
        *   对于所有 $\chi \in \text{WFFs}$，$E_{s_0}^{(n+1)}(\chi) := E_{s_0}^{(n)}(\chi) \cup \{Q(\phi) \mid \exists \psi, (Q(\phi) \in E_{s_0}^{(n)}(\psi) \land (\psi, \chi) \in R_{s_0}^{(n)})\} \cup \{Q(\phi) \mid \exists \psi, (Q(\phi) \in E_{s_0}^{(n)}(\psi) \land Q(\psi) \in E_{s_0}^{(n)}(\chi))\}$。
        *   $R_{s_0}^{(n+1)} := R_{s_0}^{(n)} \cup \{(\phi, \chi) \mid \exists \xi, (\xi \in E_{s_0}^{(n)}(\phi) \land \xi \in E_{s_0}^{(n)}(\chi))\} \cup \{(Q(\phi), \psi) \mid \phi \in E_{s_0}^{(n)}(\psi)\} \cup \{(\phi, \chi) \mid \exists \psi, ((\phi, \psi) \in R_{s_0}^{(n)} \land (\psi, \chi) \in R_{s_0}^{(n)})\}$。
    *   **最终定义:**
        *   $E_{s_0}(\psi) := \bigcup_{n=0}^{\infty} E_{s_0}^{(n)}(\psi)$
        *   $R_{s_0} := \bigcup_{n=0}^{\infty} R_{s_0}^{(n)}$

##### **引理：模型 $\mathcal{M}_c$ 的合法性**

**断言:** $\mathcal{M}_c = \langle \{s_0\}, V, E_{s_0}, R_{s_0} \rangle$ 是一个合法的 $\mathcal{L_Q}$-模型。

**证明:**
为证明此断言，我们必须验证最终构造出的 $E_{s_0}$ 和 $R_{s_0}$ 满足所有模型约束 C_A1 至 C_R5。我们用 $\phi \preceq_{s_0} \psi$ 表示 $(\phi, \psi) \in R_{s_0}$，用 $\phi \preceq_{s_0}^{(n)} \psi$ 表示 $(\phi, \psi) \in R_{s_0}^{(n)}$。

首先，我们证明构造的单调性。

**子引理：构造的单调性**
对于任意自然数 $n \ge 0$：
1.  对于任意 WFF $\phi$, $E_{s_0}^{(n)}(\phi) \subseteq E_{s_0}^{(n+1)}(\phi)$。
2.  $R_{s_0}^{(n)} \subseteq R_{s_0}^{(n+1)}$。

**证明:**
根据归纳步骤的定义，$E_{s_0}^{(n+1)}$ 和 $R_{s_0}^{(n+1)}$ 都是通过对 $E_{s_0}^{(n)}$ 和 $R_{s_0}^{(n)}$ 取并集来定义的。因此，构造本身保证了单调性。证毕。

**主证明：验证模型约束**

*   **C_A1: $Q(\phi) \in E_{s_0}(\phi)$**
    *   根据 Stage 0 的定义，$Q(\phi) \in E_{s_0}^{(0)}(\phi)$。
    *   由于 $E_{s_0}(\phi) = \bigcup_{n=0}^{\infty} E_{s_0}^{(n)}(\phi)$，因此 $Q(\phi) \in E_{s_0}(\phi)$。约束成立。

*   **C_A2: $(Q(\phi) \triangleleft \psi) \preceq_{s_0} (\phi \rightsquigarrow \psi)$**
    *   根据 Stage 0 的定义，$((Q(\phi) \triangleleft \psi), (\phi \rightsquigarrow \psi)) \in R_{s_0}^{(0)}$。
    *   由于 $R_{s_0} = \bigcup_{n=0}^{\infty} R_{s_0}^{(n)}$，因此 $((Q(\phi) \triangleleft \psi), (\phi \rightsquigarrow \psi)) \in R_{s_0}$。约束成立。

*   **C_A3: $\phi \preceq_{s_0} \phi$**
    *   根据 Stage 0 的定义，$(\phi, \phi) \in R_{s_0}^{(0)}$。
    *   因此 $(\phi, \phi) \in R_{s_0}$。约束成立。

*   **C_R1: 若存在 $\xi$ 使得 $\xi \in E_{s_0}(\phi)$ 且 $\xi \in E_{s_0}(\psi)$，则 $\phi \preceq_{s_0} \psi$。**
    *   假设存在 $\xi$，使得 $\xi \in E_{s_0}(\phi)$ 且 $\xi \in E_{s_0}(\psi)$。
    *   根据并集的定义，存在自然数 $i, j$ 使得 $\xi \in E_{s_0}^{(i)}(\phi)$ 且 $\xi \in E_{s_0}^{(j)}(\psi)$。
    *   令 $k = \max(i, j)$。根据单调性，$\xi \in E_{s_0}^{(k)}(\phi)$ 且 $\xi \in E_{s_0}^{(k)}(\psi)$。
    *   根据 Stage k+1 的构造规则，$(\phi, \psi)$ 被加入到 $R_{s_0}^{(k+1)}$ 中。
    *   因此，$(\phi, \psi) \in R_{s_0}$。约束成立。

*   **C_R2: 若 $\phi \in E_{s_0}(\psi)$, 则 $Q(\phi) \preceq_{s_0} \psi$。**
    *   假设 $\phi \in E_{s_0}(\psi)$。
    *   根据并集的定义，存在自然数 $k$ 使得 $\phi \in E_{s_0}^{(k)}(\psi)$。
    *   根据 Stage k+1 的构造规则，$(Q(\phi), \psi)$ 被加入到 $R_{s_0}^{(k+1)}$ 中。
    *   因此，$(Q(\phi), \psi) \in R_{s_0}$。约束成立。

*   **C_R3: 若 $\phi \preceq_{s_0} \psi$ 且 $\psi \preceq_{s_0} \chi$, 则 $\phi \preceq_{s_0} \chi$。**
    *   假设 $\phi \preceq_{s_0} \psi$ 且 $\psi \preceq_{s_0} \chi$。
    *   根据并集的定义，存在自然数 $i, j$ 使得 $(\phi, \psi) \in R_{s_0}^{(i)}$ 且 $(\psi, \chi) \in R_{s_0}^{(j)}$。
    *   令 $k = \max(i, j)$。根据单调性，$(\phi, \psi) \in R_{s_0}^{(k)}$ 且 $(\psi, \chi) \in R_{s_0}^{(k)}$。
    *   根据 Stage k+1 的构造规则，$(\phi, \chi)$ 被加入到 $R_{s_0}^{(k+1)}$ 中。
    *   因此，$(\phi, \chi) \in R_{s_0}$。约束成立。

*   **C_R4: 若 $Q(\phi) \in E_{s_0}(\psi)$ 且 $\psi \preceq_{s_0} \chi$, 则 $Q(\phi) \in E_{s_0}(\chi)$。**
    *   假设 $Q(\phi) \in E_{s_0}(\psi)$ 且 $\psi \preceq_{s_0} \chi$。
    *   根据并集的定义，存在自然数 $i, j$ 使得 $Q(\phi) \in E_{s_0}^{(i)}(\psi)$ 且 $(\psi, \chi) \in R_{s_0}^{(j)}$。
    *   令 $k = \max(i, j)$。根据单调性，$Q(\phi) \in E_{s_0}^{(k)}(\psi)$ 且 $(\psi, \chi) \in R_{s_0}^{(k)}$。
    *   根据 Stage k+1 的构造规则，$Q(\phi)$ 被加入到 $E_{s_0}^{(k+1)}(\chi)$ 中。
    *   因此，$Q(\phi) \in E_{s_0}(\chi)$。约束成立。

*   **C_R5: 若 $Q(\phi) \in E_{s_0}(\psi)$ 且 $Q(\psi) \in E_{s_0}(\chi)$, 则 $Q(\phi) \in E_{s_0}(\chi)$。**
    *   假设 $Q(\phi) \in E_{s_0}(\psi)$ 且 $Q(\psi) \in E_{s_0}(\chi)$。
    *   根据并集的定义，存在自然数 $i, j$ 使得 $Q(\phi) \in E_{s_0}^{(i)}(\psi)$ 且 $Q(\psi) \in E_{s_0}^{(j)}(\chi)$。
    *   令 $k = \max(i, j)$。根据单调性，$Q(\phi) \in E_{s_0}^{(k)}(\psi)$ 且 $Q(\psi) \in E_{s_0}^{(k)}(\chi)$。
    *   根据 Stage k+1 的构造规则，$Q(\phi)$ 被加入到 $E_{s_0}^{(k+1)}(\chi)$ 中。
    *   因此，$Q(\phi) \in E_{s_0}(\chi)$。约束成立。

所有模型约束都得到满足，引理证毕。

##### **结论**

我们已经证明了 $\mathcal{M}_c$ 是一个合法的 $\mathcal{L_Q}$-模型。在该模型中，根据满足关系定义：
*   $\mathcal{M}_c, s_0 \models p$ 因为 $s_0 \in V(p)$。
*   $\mathcal{M}_c, s_0 \not\models q$ 因为 $s_0 \notin V(q)$。

由于存在一个合法的 $\mathcal{L_Q}$-模型 $\mathcal{M}_c$ 和一个在该模型中不为真的公式 ($q$)，该语义是**非平凡的**。

#### **7.2. 一致性 (Consistency)**

一个形式系统是一致的，当且仅当存在至少一个公式 $\phi$，使得 $\not\vdash \phi$。

**定理:** 系统 $\mathcal{L_Q}$ 是一致的。

**证明:**
1.  由 7.1 节，已构造一个合法的 $\mathcal{L_Q}$-模型 $\mathcal{M}_c$ 和一个状态 $s_0$，使得 $\mathcal{M}_c, s_0 \not\models q$。
2.  根据有效性的定义，这意味着公式 $q$ 不是有效的，记作 $\not\models q$。
3.  根据可靠性定理 (6.3)，若 $\Gamma \vdash_{\mathcal{L_Q}} \phi$, 则 $\Gamma \models \phi$。其逆否命题为：若 $\Gamma \not\models \phi$，则 $\Gamma \not\vdash_{\mathcal{L_Q}} \phi$。
4.  取 $\Gamma = \emptyset$，则逆否命题为：若 $\not\models \phi$，则 $\not\vdash_{\mathcal{L_Q}} \phi$。
5.  将此应用于公式 $q$，由 $\not\models q$ 可得 $\not\vdash_{\mathcal{L_Q}} q$。
6.  因为存在一个在系统 $\mathcal{L_Q}$ 中不可证明的公式 ($q$)，所以根据定义，该系统是一致的。
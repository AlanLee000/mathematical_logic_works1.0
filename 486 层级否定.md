### 1. 语言 (Language)

HNL 的语言由以下符号构成：

*   **命题变量 (Propositional Variables):** 一个可数的集合 $P = \{p, q, r, \dots\}$。为方便起见，我们使用小写字母 $a, b, c, \dots$ 作为代表。
*   **逻辑常数 (Logical Constant):** $\bot$ (称为“底”或“荒谬”)。
*   **一元联结词 (Unary Connective):** $0$ (否定)。
*   **二元联结词 (Binary Connectives):** $1$ (层级提升), $2$ (同层联结)。
*   **辅助符号 (Auxiliary Symbols):** $($, $)$。

---

### 2. 合式公式 (Well-Formed Formulas - WFFs)

合式公式的集合是满足以下条件的最小集合：

1.  任何命题变量 $a \in P$ 都是一个合式公式。
2.  $\bot$ 是一个合式公式。
3.  若 $\phi$ 是一个合式公式，则 $(0\phi)$ 是一个合式公式。
4.  若 $\phi$ 和 $\psi$ 是合式公式，则 $(\phi 1 \psi)$ 是一个合式公式。
5.  若 $\phi$ 和 $\psi$ 是合式公式，则 $(\phi 2 \psi)$ 是一个合式公式。

为简化书写，我们将省略最外层括号。例如，将 $((a1b)2c)$ 写为 $(a1b)2c$。

---

### 3. 公理模式 (Axiom Schemas)

对于任意合式公式 $\phi$，以下是本系统的公理模式：

*   **公理 1 (层级自反性):**
    $$ \phi 1 \phi $$

*   **公理 2 (同层自反性):**
    $$ \phi 2 \phi $$

---

### 4. 推理规则 (Inference Rules)

令 $\phi, \psi, \chi$ 为任意合式公式。推理规则的形式为 $\dfrac{\text{前提集合}}{\text{结论}}$。

*   **规则 1 (层级传递律 I):**
    $$ \frac{\phi 1 \psi, \quad \phi 2 \chi}{(\phi 1 \psi) 2 \chi} $$

*   **规则 2 (层级传递律 II):**
    $$ \frac{\phi 1 \psi, \quad \psi 2 \chi}{\phi 1 (\psi 2 \chi)} $$

*   **规则 3 (同层交换律):**
    $$ \frac{\phi 2 \psi}{\psi 2 \phi} $$

*   **规则 4 (层级实现 / Modus Ponens for 1):**
    $$ \frac{\phi, \quad \phi 1 \psi}{\psi} $$

*   **规则 5 (否定引入):**
    $$ \frac{\phi 1 \bot}{0 \phi} $$

*   **规则 6 (否定消去):**
    $$ \frac{0 \phi}{\phi 1 \bot} $$

*   **规则 7 (爆炸律 / Ex Falso Quodlibet):**
    $$ \frac{\bot}{\phi} $$

---

### 5. 证明 (Proof)

一个从前提集合 $\Gamma$ 到结论 $\psi$ 的证明，是一个有限的合式公式序列 $\phi_1, \phi_2, \dots, \phi_n$，其中 $\phi_n = \psi$，并且序列中的每一个 $\phi_i$ ($1 \le i \le n$) 满足以下至少一个条件：
1.  $\phi_i$ 是本系统的一个公理实例。
2.  $\phi_i \in \Gamma$。
3.  $\phi_i$ 是通过应用一条推理规则，由序列中排在它之前的某些公式推导出来的。

若存在这样一个证明，则称 $\psi$ 是可以从 $\Gamma$ 推导出来的，记为 $\Gamma \vdash \psi$。

---

### 6. 模型 (Model)

#### 6.1 定义：模型
一个模型 $\mathcal{M}$ 是一个三元组 $\langle S, D, \mathcal{V} \rangle$，其中：
1.  $S$ 是语义值的集合。
2.  $D \subseteq S$ 是指定真值的集合。
3.  $\mathcal{V}$ 是所有释义函数的集合。

#### 6.2 语义域 (Semantic Domain)
1.  定义语义域 $S = \{ \mathbf{T}, \mathbf{F} \} \times \mathbb{Z}$。$S$ 中的每个元素都是一个有序对 $(v, l)$，其中 $v$ 称为**真值分量**，$l$ 称为**层级分量**。
2.  在真值分量集合上定义一个全序关系 $\le$：$\mathbf{F} < \mathbf{T}$。

#### 6.3 指定真值集 (Designated Truth Values)
指定真值集 $D$ 定义为 $S$ 中所有真值分量为 $\mathbf{T}$ 的元素的集合：
$$ D = \{ (\mathbf{T}, l) \mid l \in \mathbb{Z} \} $$

#### 6.4 释义函数 (Valuation Function)
对于一个给定的**赋值 (assignment)** $v: P \to S$，释义函数 $⟦ \cdot ⟧_v$ 将每个合式公式 $\phi$ 映射到 $S$ 中的一个语义值。该函数递归定义如下：

1.  **命题变量:** 若 $a \in P$，则 $⟦ a ⟧_v = v(a)$。

2.  **逻辑常数:** $⟦ \bot ⟧_v = (\mathbf{F}, 0)$。

3.  **一元联结词:** $⟦ 0\phi ⟧_v = ⟦ \phi 1 \bot ⟧_v$。

4.  **二元联结词 1:** 令 $⟦ \phi ⟧_v = (v_1, l_1)$ 且 $⟦ \psi ⟧_v = (v_2, l_2)$。
    $$ ⟦ \phi 1 \psi ⟧_v = \begin{cases} (\mathbf{T}, l_1) & \text{若 } v_1 \le v_2 \\ (\mathbf{F}, l_1) & \text{若 } v_1 > v_2 \end{cases} $$

5.  **二元联结词 2:** 令 $⟦ \phi ⟧_v = (v_1, l_1)$ 且 $⟦ \psi ⟧_v = (v_2, l_2)$。
    $$ ⟦ \phi 2 \psi ⟧_v = \begin{cases} (\mathbf{T}, l_1) & \text{若 } l_1 = l_2 \\ (\mathbf{F}, l_1) & \text{若 } l_1 \neq l_2 \end{cases} $$

#### 6.5 语义后承 (Semantic Consequence)
1.  **有效性 (Validity):** 一个公式 $\phi$ 是有效的，记为 $\models \phi$，当且仅当对于任意赋值 $v$，都有 $⟦ \phi ⟧_v \in D$。
2.  **语义后承:** 称 $\psi$ 是前提集合 $\Gamma$ 的语义后承，记为 $\Gamma \models \psi$，当且仅当对于任意赋值 $v$，如果对于所有的 $\gamma \in \Gamma$ 都有 $⟦ \gamma ⟧_v \in D$，那么 $⟦ \psi ⟧_v \in D$。

### 7. 可靠性证明 (Soundness Proof)

可靠性定理指出：若 $\Gamma \vdash \psi$，则 $\Gamma \models \psi$。
证明分为两部分：证明所有公理模式都是有效的，以及所有推理规则都保持语义后承关系（即保真）。

令 $v$ 为任意一个赋值。对于任意公式 $\phi, \psi, \chi$，令 $⟦ \phi ⟧_v = (v_\phi, l_\phi)$, $⟦ \psi ⟧_v = (v_\psi, l_\psi)$, $⟦ \chi ⟧_v = (v_\chi, l_\chi)$。

#### 7.1 公理的有效性

*   **公理 1: $\phi 1 \phi$**
    1.  根据联结词 `1` 的定义，$⟦ \phi 1 \phi ⟧_v$ 的真值分量由 $v_\phi \le v_\phi$ 决定。
    2.  由于序关系 $\le$ 是自反的，所以 $v_\phi \le v_\phi$ 恒为真。
    3.  因此，$⟦ \phi 1 \phi ⟧_v = (\mathbf{T}, l_\phi)$。
    4.  根据 $D$ 的定义，$(\mathbf{T}, l_\phi) \in D$。
    5.  由于 $v$ 是任意的，所以 $\models \phi 1 \phi$。

*   **公理 2: $\phi 2 \phi$**
    1.  根据联结词 `2` 的定义，$⟦ \phi 2 \phi ⟧_v$ 的真值分量由 $l_\phi = l_\phi$ 决定。
    2.  由于等价关系是自反的，所以 $l_\phi = l_\phi$ 恒为真。
    3.  因此，$⟦ \phi 2 \phi ⟧_v = (\mathbf{T}, l_\phi)$。
    4.  根据 $D$ 的定义，$(\mathbf{T}, l_\phi) \in D$。
    5.  由于 $v$ 是任意的，所以 $\models \phi 2 \phi$。

#### 7.2 推理规则的保真性

*   **规则 1: $\dfrac{\phi 1 \psi, \quad \phi 2 \chi}{(\phi 1 \psi) 2 \chi}$**
    1.  假设前提为真，即 $⟦ \phi 1 \psi ⟧_v \in D$ 且 $⟦ \phi 2 \chi ⟧_v \in D$。
    2.  由 $⟦ \phi 1 \psi ⟧_v \in D$ 得 $v_\phi \le v_\psi$。同时，$⟦ \phi 1 \psi ⟧_v = (\mathbf{T}, l_\phi)$。
    3.  由 $⟦ \phi 2 \chi ⟧_v \in D$ 得 $l_\phi = l_\chi$。
    4.  考虑结论 $⟦ (\phi 1 \psi) 2 \chi ⟧_v$。其第一个操作数是 $\phi 1 \psi$，第二个是 $\chi$。
    5.  其层级分量由第一个操作数决定，即 $l_{\phi 1 \psi} = l_\phi$。
    6.  其真值分量取决于两个操作数的层级分量是否相等，即 $l_{\phi 1 \psi} = l_\chi$。
    7.  由步骤 2 和 3，我们有 $l_{\phi 1 \psi} = l_\phi = l_\chi$。该条件成立。
    8.  因此，$⟦ (\phi 1 \psi) 2 \chi ⟧_v = (\mathbf{T}, l_{\phi 1 \psi}) = (\mathbf{T}, l_\phi) \in D$。
    9.  规则 1 保真。

*   **规则 2: $\dfrac{\phi 1 \psi, \quad \psi 2 \chi}{\phi 1 (\psi 2 \chi)}$**
    1.  假设前提为真，即 $⟦ \phi 1 \psi ⟧_v \in D$ 且 $⟦ \psi 2 \chi ⟧_v \in D$。
    2.  由 $⟦ \psi 2 \chi ⟧_v \in D$ 得 $l_\psi = l_\chi$。因此 $⟦ \psi 2 \chi ⟧_v = (\mathbf{T}, l_\psi)$。
    3.  考虑结论 $⟦ \phi 1 (\psi 2 \chi) ⟧_v$。其第一个操作数是 $\phi$，第二个是 $\psi 2 \chi$。
    4.  其真值分量取决于 $v_\phi \le v_{\psi 2 \chi}$。
    5.  由步骤 2，我们知道 $v_{\psi 2 \chi} = \mathbf{T}$。
    6.  由于 $v_\phi \in \{\mathbf{T}, \mathbf{F}\}$，所以 $v_\phi \le \mathbf{T}$ 恒成立。
    7.  因此，$⟦ \phi 1 (\psi 2 \chi) ⟧_v = (\mathbf{T}, l_\phi) \in D$。
    8.  规则 2 保真。

*   **规则 3: $\dfrac{\phi 2 \psi}{\psi 2 \phi}$**
    1.  假设前提为真，即 $⟦ \phi 2 \psi ⟧_v \in D$。
    2.  这意味着 $l_\phi = l_\psi$。
    3.  考虑结论 $⟦ \psi 2 \phi ⟧_v$。其真值分量取决于 $l_\psi = l_\phi$。
    4.  根据步骤 2，该条件成立。
    5.  因此，$⟦ \psi 2 \phi ⟧_v = (\mathbf{T}, l_\psi) \in D$。
    6.  规则 3 保真。

*   **规则 4: $\dfrac{\phi, \quad \phi 1 \psi}{\psi}$**
    1.  假设前提为真，即 $⟦ \phi ⟧_v \in D$ 且 $⟦ \phi 1 \psi ⟧_v \in D$。
    2.  由 $⟦ \phi ⟧_v \in D$ 得 $v_\phi = \mathbf{T}$。
    3.  由 $⟦ \phi 1 \psi ⟧_v \in D$ 得 $v_\phi \le v_\psi$。
    4.  结合步骤 2 和 3，$\mathbf{T} \le v_\psi$。由于 $v_\psi$ 的取值范围，这必然意味着 $v_\psi = \mathbf{T}$。
    5.  因此，$⟦ \psi ⟧_v = (v_\psi, l_\psi) = (\mathbf{T}, l_\psi) \in D$。
    6.  规则 4 保真。

*   **规则 5 和 6: $\dfrac{\phi 1 \bot}{0 \phi}$ 和 $\dfrac{0 \phi}{\phi 1 \bot}$**
    1.  根据语义定义 6.4.3，$⟦ 0\phi ⟧_v$ 与 $⟦ \phi 1 \bot ⟧_v$ 是完全相同的语义值。
    2.  因此，$⟦ 0\phi ⟧_v \in D$ 当且仅当 $⟦ \phi 1 \bot ⟧_v \in D$。
    3.  规则 5 和 6 保真。

*   **规则 7: $\dfrac{\bot}{\phi}$**
    1.  考虑前提 $\bot$。根据定义，$⟦ \bot ⟧_v = (\mathbf{F}, 0)$。
    2.  由于 $\mathbf{F} \neq \mathbf{T}$，所以 $⟦ \bot ⟧_v \notin D$。
    3.  对于任何赋值 $v$，前提 $⟦ \bot ⟧_v \in D$ 永远为假。
    4.  因此，蕴含“如果 $⟦ \bot ⟧_v \in D$，则 $⟦ \phi ⟧_v \in D$”是空虚为真的。
    5.  规则 7 保真。

**结论**: 由于所有公理模式均有效，所有推理规则均保真，故系统 HNL 是可靠的。

### 8. 非平凡性与非退化性证明

#### 8.1 非平凡性 (Non-Triviality)
模型的非平凡性要求存在至少一个有效的公式和一个无效的公式。
1.  **有效的公式:** 根据 7.1，公理 $\phi 1 \phi$ 是有效的。
2.  **无效的公式:** 考虑公式 $\bot$。对于任何赋值 $v$，$⟦ \bot ⟧_v = (\mathbf{F}, 0) \notin D$。因此 $\bot$ 是无效的。
由于同时存在有效和无效的公式，该模型是非平凡的。

#### 8.2 非退化性 (Non-Degeneracy)
模型的非退化性要求其联结词不能被简化为简单的布尔联结词，且联结词 `1` 和 `2` 具有不同的语义功能。

1.  **联结词 `1` 和 `2` 的区别:**
    我们需证明存在赋值 $v_1, v_2$ 使得：
    (a) $⟦ a 1 b ⟧_{v_1} \in D$ 但 $⟦ a 2 b ⟧_{v_1} \notin D$。
    (b) $⟦ a 1 b ⟧_{v_2} \notin D$ 但 $⟦ a 2 b ⟧_{v_2} \in D$。

    *   对于 (a): 令赋值 $v_1$ 为 $v_1(a) = (\mathbf{F}, 0)$ 且 $v_1(b) = (\mathbf{T}, 1)$。
        *   $⟦ a 1 b ⟧_{v_1}$: 真值分量取决于 $v_a \le v_b$，即 $\mathbf{F} \le \mathbf{T}$，为真。故 $⟦ a 1 b ⟧_{v_1} = (\mathbf{T}, 0) \in D$。
        *   $⟦ a 2 b ⟧_{v_1}$: 真值分量取决于 $l_a = l_b$，即 $0 = 1$，为假。故 $⟦ a 2 b ⟧_{v_1} = (\mathbf{F}, 0) \notin D$。
    *   对于 (b): 令赋值 $v_2$ 为 $v_2(a) = (\mathbf{T}, 0)$ 且 $v_2(b) = (\mathbf{F}, 0)$。
        *   $⟦ a 1 b ⟧_{v_2}$: 真值分量取决于 $v_a \le v_b$，即 $\mathbf{T} \le \mathbf{F}$，为假。故 $⟦ a 1 b ⟧_{v_2} = (\mathbf{F}, 0) \notin D$。
        *   $⟦ a 2 b ⟧_{v_2}$: 真值分量取决于 $l_a = l_b$，即 $0 = 0$，为真。故 $⟦ a 2 b ⟧_{v_2} = (\mathbf{T}, 0) \in D$。

    这证明了联结词 `1` 和 `2` 在语义上是独立的。

2.  **与布尔联结词的区别:**
    模型的真值函数不是真值泛函的 (non-truth-functional)。即一个复合公式的真值分量不仅仅取决于其子公式的真值分量。
    *   考虑赋值 $v_3(a) = (\mathbf{T}, 0)$ 和 $v_3(b) = (\mathbf{T}, 1)$。
    *   这里 $⟦ a ⟧_{v_3} \in D$ 且 $⟦ b ⟧_{v_3} \in D$。可以认为 $a$ 和 $b$ 都是“真”的。
    *   然而，$⟦ a 2 b ⟧_{v_3}$ 的真值分量取决于 $l_a = l_b$，即 $0 = 1$，为假。所以 $⟦ a 2 b ⟧_{v_3} \notin D$。
    *   这意味着，即使两个输入公式都为“真”，`2` 联结的结果也可以为“假”。任何接受两个“真”输入并产生“假”输出的二元布尔联结词（如 NAND 或 NOR）在输入为 $(\mathbf{T},0)$ 和 $(\mathbf{T},0)$ 时也会产生“假”。但 $⟦ a' 2 a' ⟧_v$ (其中 $v(a') = (\mathbf{T},0)$) 却为真。
    *   因此，联结词 `2` (以及同理的 `1`) 的行为不能被任何一个标准的二元布尔联结词（AND, OR, IMPLIES, etc.）所复制。

**结论**: 该模型是非平凡且非退化的。
### **形式系统 $\mathcal{L}$**

#### **1. 形式语言 (Formal Language)**

形式系统 $\mathcal{L}$ 的语言由其字母表和良构公式的构成规则定义。

##### **1.1. 字母表 (Alphabet)**

1.  **公式变量 (Formula Variables):**
    一个可数的集合，以小写希腊字母表示：
    $\phi, \psi, \omega, \dots$

2.  **逻辑算子 (Logical Operators):**
    *   一元算子 (Unary Operator): $Q(\cdot)$
    *   二元算子 (Binary Operators): $D(\cdot, \cdot)$, $P(\cdot, \cdot)$

3.  **辅助符号 (Auxiliary Symbols):**
    `(` , `)`

##### **1.2. 良构公式 (Well-Formed Formulas - WFFs)**

良构公式（WFF）的集合是满足以下条件的最小集合：

1.  **基础条款 (Base Clause):**
    任何公式变量 $\phi$ 都是一个WFF。

2.  **归纳条款 (Inductive Clause):**
    *   若 $\phi$ 是一个WFF，则 $Q(\phi)$ 是一个WFF。
    *   若 $\phi$ 和 $\psi$ 都是WFF，则 $D(\phi, \psi)$ 是一个WFF。
    *   若 $\phi$ 和 $\psi$ 都是WFF，则 $P(\phi, \psi)$ 是一个WFF。

3.  **封闭条款 (Closure Clause):**
    只有通过有限次应用上述基础条款和归纳条款生成的表达式才是WFF。

#### **2. 公理与规则 (Axioms and Rules)**

本系统包含一个公理模式和两条推理规则。我们使用符号 $\vdash$ 表示“可证”。

##### **2.1. 公理模式 (Axiom Schema)**

*   **AS1: 同一性 (Identity)**

    对于任意一个WFF $\phi$，以下公式是一个公理：
    $$
    \vdash D(\phi, \phi)
    $$

*   **AS2: Q-P 置换 (Q-P Permutation)**

    对于任意WFF $\phi, \psi$，以下公式是一个公理：
    $$
    \vdash D(Q(P(\phi, \psi)), P(\psi, \phi))
    $$

##### **2.2. 推理规则 (Inference Rules)**

令 $\Gamma$ 为一个WFF的集合，$\psi$ 为一个WFF。$\Gamma \vdash \psi$ 表示可以从前提集合 $\Gamma$ 中推导出结论 $\psi$。
若 $\phi$, $\psi$, $\omega$, $\chi$ 均为WFF，则适用以下规则：

*   **R1: 转换 (Transformation)**
	$$
    \{ Q(P(\psi, Q(\phi))) \} \vdash D(\psi, \phi)
    $$

*   **R2: 重构 (Restructuring)**
	$$
    \{ Q(P(Q(\psi), \phi)), D(Q(\phi), \omega) \} \vdash D(\phi, P(\psi, \omega))
    $$

*   **R3: 单射 (Injectivity)**
    $$ \{ D(Q(\phi), Q(\psi)) \} \vdash D(\phi, \psi) $$

*   **R4: 反射 (Reflection)**
    $$ \{ Q(Q(\phi)), D(\phi, \psi) \} \vdash D(D(\phi, \psi), Q(\phi)) $$

*   **R5: 传递性 (Transitivity)**
    $$ \{ D(\phi, \psi), D(\psi, \omega) \} \vdash D(\phi, \omega) $$

*   **R6: 一致性1 (Congruence1)**
    $$ \{ D(\phi, \psi) \} \vdash D(Q(\phi), Q(\psi)) $$

*   **R7:一致性2 (Congruence 2)**
    $$
    \{D(\varphi, \psi)\}⊢ D(P(\varphi, \chi),P(\psi, \chi))
    $$

*   **R8: 左投射 (Left Projection)**
    $$
    \{ D(P(\phi, \psi), P(\omega, \chi)) \} \vdash D(\phi, \omega)
    $$

*   **R9: 右投射 (Right Projection)**
    $$
    \{ D(P(\phi, \psi), P(\omega, \chi)) \} \vdash D(\psi, \chi)
    $$


### **3. 语义模型与可靠性 (Semantic Model and Soundness)**

#### **3.1. 模型 $\mathcal{M}$ 的定义**

我们为形式系统 $\mathcal{L}$ 定义一个模型 $\mathcal{M} = \langle \mathcal{V}, T_{true}, I \rangle$，其组成部分如下。

##### **3.1.1. 语义域 (Semantic Domain)**

1.  设 $W$ 为自然数集, $W = \mathbb{N} = \{0, 1, 2, \dots\}$。
2.  设 $B$ 为布尔值集, $B = \{0, 1\}$。
3.  语义域 $\mathcal{V}$ 是所有从 $W$ 到 $B$ 的函数的集合:
    $$
    \mathcal{V} = \{ f \mid f: W \to B \}
    $$

##### **3.1.2. 指定真值 (Designated Truth Value)**

我们从 $\mathcal{V}$ 中指定一个函数 $T_{true}$ 作为“真”。
1.  **真值 $T_{true}$**: $T_{true} \in \mathcal{V}$ 是常数函数，定义为：
    $$
    \forall w \in W, \ T_{true}(w) = 1
    $$
2.  **假值 $T_{false}$**: 为方便起见，定义 $T_{false} \in \mathcal{V}$：
    $$
    \forall w \in W, \ T_{false}(w) = 0
    $$

##### **3.1.3. 解释函数 (Interpretation Function)**

解释函数 $I$ 将 $\mathcal{L}$ 中的逻辑算子映射到 $\mathcal{V}$ 上的操作。

1.  **对 $D$ 的解释 $I(D)$**:
    $I(D): \mathcal{V} \times \mathcal{V} \to \mathcal{V}$ 定义如下：
    $$
    \forall f, g \in \mathcal{V}, \ I(D)(f, g) =
    \begin{cases}
    T_{true} & \text{若 } f = g \\
    T_{false} & \text{若 } f \neq g
    \end{cases}
    $$
    其中 $f=g$ 表示 $\forall w \in W, f(w) = g(w)$。

2.  **对 $Q$ 的解释 $I(Q)$**:
    $I(Q): \mathcal{V} \to \mathcal{V}$ 定义如下：
    *   首先定义一个双射 $\pi: W \to W$：
        $$
        \pi(w) =
        \begin{cases}
        w+1 & \text{若 } w \text{ 是偶数} \\
        w-1 & \text{若 } w \text{ 是奇数}
        \end{cases}
        $$
    *   $I(Q)$ 是与 $\pi$ 的函数复合：
        $$
        \forall f \in \mathcal{V}, \ I(Q)(f) = f \circ \pi
        $$
        即 $\forall w \in W, (I(Q)(f))(w) = f(\pi(w))$。

3.  **对 $P$ 的解释 $I(P)$**:
    $I(P): \mathcal{V} \times \mathcal{V} \to \mathcal{V}$ 定义如下：
    $$
    \forall f, g \in \mathcal{V}, \forall w \in W, \ (I(P)(f,g))(w) =
    \begin{cases}
    f(w/2) & \text{若 } w \text{ 是偶数} \\
    g((w-1)/2) & \text{若 } w \text{ 是奇数}
    \end{cases}
    $$

##### **3.1.4. 赋值与满足 (Valuation and Satisfaction)**

1.  **赋值 (Valuation)**: 一个赋值 $v$ 是一个从公式变量集合到语义域 $\mathcal{V}$ 的函数。

2.  **值的扩展**: 赋值 $v$ 可以唯一地扩展到所有WFF：
    *   $v(Q(\phi)) = I(Q)(v(\phi))$
    *   $v(D(\phi, \psi)) = I(D)(v(\phi), v(\psi))$
    *   $v(P(\phi, \psi)) = I(P)(v(\phi), v(\psi))$

3.  **满足 (Satisfaction)**: 一个赋值 $v$ **满足** WFF $\phi$，记作 $v \models \phi$，当且仅当 $v(\phi) = T_{true}$。

4.  **语义后承 (Semantic Consequence)**: $\Gamma \models \psi$ 表示对于任意赋值 $v$，若对所有 $\gamma \in \Gamma$ 都有 $v \models \gamma$，则 $v \models \psi$。

5.  **有效性 (Validity)**: 一个WFF $\phi$ 是有效的，记作 $\models \phi$，当且仅当对于所有赋值 $v$ 都有 $v \models \phi$。


##### **3.1.5. 预备语义引理 (Preliminary Semantic Lemmas)**

在进行可靠性证明之前，我们先建立模型 $\mathcal{M}$ 的几个关键性质作为引理，这将使后续的证明更加清晰和严谨。

**引理 1 (π 的性质)**
函数 $\pi: W \to W$ 是一个双射（bijection）且为对合（involution），即 $\pi \circ \pi = id_W$ (恒等函数)。

*   **证明**:
    1.  **对合性**: 我们需证明对于任意 $w \in W$，$\pi(\pi(w)) = w$。
        *   **情况 1**: $w$ 是偶数。设 $w = 2k$ for some $k \in W$。则 $\pi(w) = 2k+1$，这是一个奇数。因此，$\pi(\pi(w)) = \pi(2k+1) = (2k+1) - 1 = 2k = w$。
        *   **情况 2**: $w$ 是奇数。设 $w = 2k+1$ for some $k \in W$。则 $\pi(w) = 2k$，这是一个偶数。因此，$\pi(\pi(w)) = \pi(2k) = 2k+1 = w$。
        综合两种情况，$\pi \circ \pi = id_W$ 得证。
    2.  **双射性**: 一个函数是双射，当且仅当它存在逆函数。由第一部分可知，$\pi$ 的逆函数是其自身 ($\pi^{-1} = \pi$)。因此，$\pi$ 是一个双射。

**引理 2 (Q 算子的真值保持)**
对于任意函数 $f \in \mathcal{V}$，若 $I(Q)(f) = T_{true}$，则 $f = T_{true}$。

*   **证明**:
    1.  前提 $I(Q)(f) = T_{true}$ 意味着 $f \circ \pi = T_{true}$。
    2.  根据函数复合和 $T_{true}$ 的定义，这表示对于所有 $w \in W$，$f(\pi(w)) = 1$。
    3.  根据 **引理 1**，$\pi$ 是一个双射，因此它是满射（surjective）。
    4.  因为 $\pi$ 是满射，所以对于任意 $z \in W$，存在一个 $w \in W$ 使得 $z = \pi(w)$。
    5.  将此代入第 2 步的结论，可知对于任意 $z \in W$，都有 $f(z) = f(\pi(w)) = 1$。
    6.  根据 $T_{true}$ 的定义，这意味着 $f = T_{true}$。

#### **3.2. 可靠性证明 (Soundness Proof)**

**可靠性定理**: 若 $\Gamma \vdash \psi$，则 $\Gamma \models \psi$。

**证明**: 我们通过对推导的长度进行归纳来证明。我们必须证明所有公理都是有效的，并且所有推理规则都保持真理。

##### **3.2.1. 公理的有效性**

*   **AS1: $\models D(\phi, \phi)$**
    1.  设 $v$ 为任意赋值。
    2.  根据值的定义，$v(D(\phi, \phi)) = I(D)(v(\phi), v(\phi))$。
    3.  根据 $I(D)$ 的定义，由于 $v(\phi) = v(\phi)$，则 $I(D)(v(\phi), v(\phi)) = T_{true}$。
    4.  因此 $v(\phi) = T_{true}$，即 $v \models D(\phi, \phi)$。
    5.  由于 $v$ 是任意的，所以 $\models D(\phi, \phi)$。

*   **AS2: $\models D(Q(P(\phi, \psi)), P(\psi, \phi))$**
    1.  设 $v$ 为任意赋值。我们需要证明 $v \models D(Q(P(\phi, \psi)), P(\psi, \phi))$，这等价于证明 $v(Q(P(\phi, \psi))) = v(P(\psi, \phi))$。
    2.  设 $f = v(\phi)$ 且 $g = v(\psi)$。
    3.  根据值的扩展定义，待证等式的左侧为：
        $v(Q(P(\phi, \psi))) = I(Q)(I(P)(f, g)) = (I(P)(f, g)) \circ \pi$。
    4.  待证等式的右侧为：
        $v(P(\psi, \phi)) = I(P)(g, f)$。
    5.  我们需证明对于任意 $w \in W$，有 $((I(P)(f, g)) \circ \pi)(w) = (I(P)(g, f))(w)$。
    6.  **情况 1**: $w$ 是偶数。设 $w = 2k$ for some $k \in W$。
        *   左侧函数在 $w$ 的取值为：$((I(P)(f, g)) \circ \pi)(2k) = (I(P)(f, g))(\pi(2k)) = (I(P)(f, g))(2k+1)$。根据 $I(P)$ 的定义，此值为 $g(((2k+1)-1)/2) = g(k)$。
        *   右侧函数在 $w$ 的取值为：$(I(P)(g, f))(2k)$。根据 $I(P)$ 的定义，此值为 $g(2k/2) = g(k)$。
        *   在此情况下，两侧相等。
    7.  **情况 2**: $w$ 是奇数。设 $w = 2k+1$ for some $k \in W$。
        *   左侧函数在 $w$ 的取值为：$((I(P)(f, g)) \circ \pi)(2k+1) = (I(P)(f, g))(\pi(2k+1)) = (I(P)(f, g))(2k)$。根据 $I(P)$ 的定义，此值为 $f(2k/2) = f(k)$。
        *   右侧函数在 $w$ 的取值为：$(I(P)(g, f))(2k+1)$。根据 $I(P)$ 的定义，此值为 $f(((2k+1)-1)/2) = f(k)$。
        *   在此情况下，两侧相等。
    8.  由于两种情况均表明两个函数在任意 $w \in W$ 上的取值都相等，因此这两个函数是相同的，即 $v(Q(P(\phi, \psi))) = v(P(\psi, \phi))$。
    9.  根据 $I(D)$ 的定义，$v(D(Q(P(\phi, \psi)), P(\psi, \phi))) = T_{true}$。
    10. 由于 $v$ 是任意的，所以 $\models D(Q(P(\phi, \psi)), P(\psi, \phi))$。

##### **3.2.2. 推理规则的可靠性**

对于每条规则，我们假设对于任意赋值 $v$，所有前提都为真，并证明结论也为真。

*   **R1: $\{ Q(P(\psi, Q(\phi))) \} \models D(\psi, \phi)$**
    1.  设 $v$ 为任意赋值，并假设 $v \models Q(P(\psi, Q(\phi)))$。
    2.  此假设意味着 $v(Q(P(\psi, Q(\phi)))) = T_{true}$。
    3.  设 $f=v(\phi)$，$g=v(\psi)$。根据值的扩展定义，前式等价于 $I(Q)(I(P)(g, I(Q)(f))) = T_{true}$。
    4.  应用**引理 2**，可得 $I(P)(g, I(Q)(f)) = T_{true}$。
    5.  根据 $I(P)$ 的定义，$I(P)(g, I(Q)(f))$ 是一个在所有 $w \in W$ 上取值为 1 的函数。这意味着：
        *   对于所有偶数 $w=2k$，$(I(P)(g, I(Q)(f)))(2k) = g(k) = 1$。由于此对所有 $k \in W$ 成立，故 $g = T_{true}$。
        *   对于所有奇数 $w=2k+1$，$(I(P)(g, I(Q)(f)))(2k+1) = (I(Q)(f))(k) = 1$。由于此对所有 $k \in W$ 成立，故 $I(Q)(f) = T_{true}$。
    6.  对于结论 $I(Q)(f) = T_{true}$，再次应用**引理 2**，可得 $f = T_{true}$。
    7.  我们已经证明 $f = T_{true}$ 且 $g = T_{true}$，因此 $f = g$。
    8.  这意味着 $v(\phi) = v(\psi)$。
    9.  因此，$v(D(\psi, \phi)) = I(D)(v(\psi), v(\phi)) = T_{true}$，即 $v \models D(\psi, \phi)$。

*   **R2: $\{ Q(P(Q(\psi), \phi)), D(Q(\phi), \omega) \} \models D(\phi, P(\psi, \omega))$**
    1.  设 $v$ 为任意赋值，并假设 $v \models Q(P(Q(\psi), \phi))$ 且 $v \models D(Q(\phi), \omega)$。
    2.  从第一个前提 $v \models Q(P(Q(\psi), \phi))$，我们有 $I(Q)(I(P)(v(Q(\psi)), v(\phi))) = T_{true}$。
    3.  根据**引理 2**，可得 $I(P)(v(Q(\psi)), v(\phi)) = T_{true}$。
    4.  根据 $I(P)$ 的定义，这蕴含其两个参数函数均为 $T_{true}$。因此，$v(Q(\psi)) = T_{true}$ 并且 $v(\phi) = T_{true}$。
    5.  对于 $v(Q(\psi)) = T_{true}$，再次应用**引理 2**，可得 $v(\psi) = T_{true}$。
    6.  从第二个前提 $v \models D(Q(\phi), \omega)$，我们有 $v(Q(\phi)) = v(\omega)$。
    7.  由于已知 $v(\phi) = T_{true}$（来自第 4 步），则 $v(Q(\phi)) = I(Q)(v(\phi)) = I(Q)(T_{true}) = T_{true} \circ \pi = T_{true}$。
    8.  结合第 6 和第 7 步，可得 $v(\omega) = T_{true}$。
    9.  现在我们需要证明 $v \models D(\phi, P(\psi, \omega))$，这等价于证明 $v(\phi) = v(P(\psi, \omega))$。
    10. 我们已知 $v(\phi) = T_{true}$。
    11. 同时，$v(P(\psi, \omega)) = I(P)(v(\psi), v(\omega))$。将第 5 步和第 8 步的结论代入，得到 $I(P)(T_{true}, T_{true})$。
    12. 根据 $I(P)$ 的定义，对于任意 $w \in W$：
        *   若 $w$ 为偶数, $(I(P)(T_{true}, T_{true}))(w) = T_{true}(w/2) = 1$。
        *   若 $w$ 为奇数, $(I(P)(T_{true}, T_{true}))(w) = T_{true}((w-1)/2) = 1$。
        因此，$v(P(\psi, \omega)) = T_{true}$。
    13. 由于 $v(\phi) = T_{true}$ 且 $v(P(\psi, \omega)) = T_{true}$，故 $v(\phi) = v(P(\psi, \omega))$。
    14. 因此，$v(D(\phi, P(\psi, \omega))) = T_{true}$，即 $v \models D(\phi, P(\psi, \omega))$。


*   **R3: $\{ D(Q(\phi), Q(\psi)) \} \models D(\phi, \psi)$**
    1.  设 $v$ 是任意赋值，并假设 $v \models D(Q(\phi), Q(\psi))$。
    2.  这意味着 $v(D(Q(\phi), Q(\psi))) = T_{true}$，所以 $v(Q(\phi)) = v(Q(\psi))$。
    3.  即 $I(Q)(v(\phi)) = I(Q)(v(\psi))$，也就是 $v(\phi) \circ \pi = v(\psi) \circ \pi$。
    4.  因为 $\pi$ 是一个双射，它有一个逆函数 $\pi^{-1}$。
    5.  对于任意 $z \in W$, $v(\phi)(z) = v(\phi)(\pi(\pi^{-1}(z))) = (v(\phi) \circ \pi)(\pi^{-1}(z))$。
    6.  同理，$v(\psi)(z) = (v(\psi) \circ \pi)(\pi^{-1}(z))$。
    7.  由于 $v(\phi) \circ \pi = v(\psi) \circ \pi$，我们有 $v(\phi)(z) = v(\psi)(z)$ 对所有 $z \in W$ 成立。
    8.  所以 $v(\phi) = v(\psi)$。
    9.  因此，$v(D(\phi, \psi)) = I(D)(v(\phi), v(\psi)) = T_{true}$，即 $v \models D(\phi, \psi)$。

*   **R4: $\{ Q(Q(\phi)), D(\phi, \psi) \} \models D(D(\phi, \psi), Q(\phi)) \}$**
    1.  设 $v$ 是任意赋值，并假设 $v \models Q(Q(\phi))$ 且 $v \models D(\phi, \psi)$。
    2.  第一个前提 $v \models Q(Q(\phi))$ 意味着 $v(Q(Q(\phi))) = T_{true}$。
    3.  根据值的扩展定义，$v(Q(Q(\phi))) = I(Q)(I(Q)(v(\phi))) = (v(\phi) \circ \pi) \circ \pi = v(\phi) \circ (\pi \circ \pi)$。
    4.  根据**引理 1**，$\pi$ 是一个对合，即 $\pi \circ \pi = id_W$。
    5.  因此，表达式简化为 $v(\phi) \circ id_W = v(\phi)$。结合第 2 步，我们得到 $v(\phi) = T_{true}$。
    6.  第二个前提 $v \models D(\phi, \psi)$ 意味着 $v(\phi) = v(\psi)$。
    7.  结合第 5 和第 6 步，可得 $v(\psi) = T_{true}$。
    8.  我们需要证明 $v \models D(D(\phi, \psi), Q(\phi))$，即证明 $v(D(\phi, \psi)) = v(Q(\phi))$。
    9.  计算左侧: $v(D(\phi, \psi)) = I(D)(v(\phi), v(\psi))$。因为 $v(\phi) = v(\psi)$（来自前提），其值为 $T_{true}$。
    10. 计算右侧: $v(Q(\phi)) = I(Q)(v(\phi))$。因为 $v(\phi)=T_{true}$（来自第 5 步），其值为 $I(Q)(T_{true}) = T_{true} \circ \pi = T_{true}$。
    11. 左侧与右侧均为 $T_{true}$，因此相等。故 $v \models D(D(\phi, \psi), Q(\phi))$。

*   **R5: $\{ D(\phi, \psi), D(\psi, \omega) \} \models D(\phi, \omega)$**
    1.  设 $v$ 是任意赋值，并假设 $v \models D(\phi, \psi)$ 且 $v \models D(\psi, \omega)$。
    2.  这意味着 $v(\phi) = v(\psi)$ 且 $v(\psi) = v(\omega)$。
    3.  根据函数相等性的传递性，$v(\phi) = v(\omega)$。
    4.  因此，$v(D(\phi, \omega)) = I(D)(v(\phi), v(\omega)) = T_{true}$，即 $v \models D(\phi, \omega)$。

*   **R6: $\{ D(\phi, \psi) \} \models D(Q(\phi), Q(\psi))$**
    1.  设 $v$ 是任意赋值，并假设 $v \models D(\phi, \psi)$。
    2.  这意味着 $v(\phi) = v(\psi)$。
    3.  $v(Q(\phi)) = v(\phi) \circ \pi$。
    4.  $v(Q(\psi)) = v(\psi) \circ \pi$。
    5.  因为 $v(\phi) = v(\psi)$，所以 $v(\phi) \circ \pi = v(\psi) \circ \pi$，即 $v(Q(\phi)) = v(Q(\psi))$。
    6.  因此，$v(D(Q(\phi), Q(\psi))) = I(D)(v(Q(\phi)), v(Q(\psi))) = T_{true}$，即 $v \models D(Q(\phi), Q(\psi))$。

*   **R7: $\{ D(\phi, \psi) \} \models D(P(\phi, \chi), P(\psi, \chi))$**
    1.  设 $v$ 是任意赋值，并假设 $v \models D(\phi, \psi)$。
    2.  这意味着 $v(\phi) = v(\psi)$。
    3.  我们需要证明 $v(P(\phi, \chi)) = v(P(\psi, \chi))$。
    4.  设 $f=v(\phi)$, $g=v(\psi)$, $h=v(\chi)$。前提是 $f=g$。
    5.  考察 $v(P(\phi, \chi)) = I(P)(f, h)$。对于任意 $w \in W$：
        *   若 $w$ 为偶数, $(I(P)(f,h))(w) = f(w/2)$。
        *   若 $w$ 为奇数, $(I(P)(f,h))(w) = h((w-1)/2)$。
    6.  考察 $v(P(\psi, \chi)) = I(P)(g, h)$。对于任意 $w \in W$：
        *   若 $w$ 为偶数, $(I(P)(g,h))(w) = g(w/2)$。
        *   若 $w$ 为奇数, $(I(P)(g,h))(w) = h((w-1)/2)$。
    7.  因为 $f=g$，所以 $f(w/2)=g(w/2)$。因此两个函数在所有 $w$ 上的值都相等。
    8.  所以 $v(P(\phi, \chi)) = v(P(\psi, \chi))$。
    9.  因此，$v(D(P(\phi, \chi), P(\psi, \chi))) = T_{true}$，即 $v \models D(P(\phi, \chi), P(\psi, \chi))$。

*   **R8: $\{ D(P(\phi, \psi), P(\omega, \chi)) \} \models D(\phi, \omega)$**
    1.  设 $v$ 是任意赋值，并假设前提为真，即 $v \models D(P(\phi, \psi), P(\omega, \chi))$。
    2.  根据满足的定义，这意味着 $v(D(P(\phi, \psi), P(\omega, \chi))) = T_{true}$。
    3.  根据 $I(D)$ 的解释，这蕴含了 $v(P(\phi, \psi)) = v(P(\omega, \chi))$。
    4.  设 $f=v(\phi)$, $g=v(\psi)$, $h=v(\omega)$, $k=v(\chi)$。则上述等式为 $I(P)(f, g) = I(P)(h, k)$。
    5.  函数相等意味着对于所有 $w \in W$，它们在该点的取值都相同。
    6.  特别地，我们考察所有偶数输入。对于任意 $w_0 \in W$，令 $w = 2w_0$。
    7.  根据 $I(P)$ 的定义，$(I(P)(f, g))(2w_0) = f(w_0)$。
    8.  同样地，$(I(P)(h, k))(2w_0) = h(w_0)$。
    9.  由于函数相等，我们必有 $f(w_0) = h(w_0)$。
    10. 因为 $w_0$ 是任意的，这证明了函数 $f$ 与 $h$ 完全相同，即 $v(\phi) = v(\omega)$。
    11. 因此，$v(D(\phi, \omega)) = I(D)(v(\phi), v(\omega)) = T_{true}$，即 $v \models D(\phi, \omega)$。

*   **R9: $\{ D(P(\phi, \psi), P(\omega, \chi)) \} \models D(\psi, \chi)$**
    1.  设 $v$ 是任意赋值，并假设前提为真，即 $v \models D(P(\phi, \psi), P(\omega, \chi))$。
    2.  这蕴含了 $v(P(\phi, \psi)) = v(P(\omega, \chi))$。
    3.  设 $f=v(\phi)$, $g=v(\psi)$, $h=v(\omega)$, $k=v(\chi)$。则有 $I(P)(f, g) = I(P)(h, k)$。
    4.  我们考察所有奇数输入。对于任意 $w_0 \in W$，令 $w = 2w_0+1$。
    5.  根据 $I(P)$ 的定义，$(I(P)(f, g))(2w_0+1) = g(w_0)$。
    6.  同样地，$(I(P)(h, k))(2w_0+1) = k(w_0)$。
    7.  由于函数相等，我们必有 $g(w_0) = k(w_0)$。
    8.  因为 $w_0$ 是任意的，这证明了函数 $g$ 与 $k$ 完全相同，即 $v(\psi) = v(\chi)$。
    9.  因此，$v(D(\psi, \chi)) = I(D)(v(\psi), v(\chi)) = T_{true}$，即 $v \models D(\psi, \chi)$。

所有公理均有效，所有推理规则均可靠。因此，可靠性定理得证。


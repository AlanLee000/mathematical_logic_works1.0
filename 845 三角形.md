# 三角与方向

### I. 字母表与类型系统 (Alphabet and Type System)

**定义 1.1（基础字母表）**
系统由以下互不相交的集合构成：
1.  $\mathbb{T}$：非空集合，称为**类型集 (Types)**。
2.  $\mathbb{V}$：可数无限集合，称为**变量集 (Variables)**。
3.  $\{\Delta, \nabla, (, ), ,\}$：逻辑常量与标点符号。

**定义 1.2（类型指派与相容性）**
1.  存在全函数 $\tau: \mathbb{V} \to \mathbb{T}$，对任意 $v \in \mathbb{V}$，$\tau(v)$ 为该变量的类型。
2.  存在两个给定的三元关系 $\mathcal{R}_\Delta \subseteq \mathbb{T}^3$ 与 $\mathcal{R}_\nabla \subseteq \mathbb{T}^3$，分别称为**$\Delta$-相容性规则**与**$\nabla$-相容性规则**。

---

### II. 对象语言的语法 (Syntax of the Object Language)

本系统公式仅由变量的特定元组构成。

**定义 2.1（合式公式, Well-Formed Formulas, WFF）**
合式公式集 $\mathcal{F}$ 是不相交的两个集合的并集：$\mathcal{F} = \mathcal{F}_\Delta \cup \mathcal{F}_\nabla$，其中：
1.  **$\Delta$-公式（静态面）**：
    $\mathcal{F}_\Delta = \{ \Delta(x, y, z) \mid x, y, z \in \mathbb{V} \land (\tau(x), \tau(y), \tau(z)) \in \mathcal{R}_\Delta \}$
2.  **$\nabla$-公式（动态流）**：
    $\mathcal{F}_\nabla = \{ \nabla(x, y, z) \mid x, y, z \in \mathbb{V} \land (\tau(x), \tau(y), \tau(z)) \in \mathcal{R}_\nabla \}$

*注：设 $\Delta(x,y,z)$ 与 $\nabla(x,y,z)$ 是有序三元组。若需引入拓扑对称性，可在此处定义等价关系 $\sim$，例如循环置换 $\Delta(x,y,z) \sim \Delta(y,z,x)$，并令 $\mathcal{F}$ 为商集 $\mathcal{F}/\sim$。为严格起见，本定义采用严格有序三元组。*

---

### III. 证明论与演绎系统 (Proof Theory and Deductive System)


**定义 3.1（基础公理模式, Axiom Schemata）**
系统预设公理集 $\mathcal{A} = \mathcal{A}_\Delta \cup \mathcal{A}_\nabla$，其中：
1.  **静态自洽公理**：$\mathcal{A}_\Delta = \{ \Delta(x, x, x) \mid x \in \mathbb{V} \land (\tau(x), \tau(x), \tau(x)) \in \mathcal{R}_\Delta \}$
2.  **动态驻留公理**：$\mathcal{A}_\nabla = \{ \nabla(x, x, x) \mid x \in \mathbb{V} \land (\tau(x), \tau(x), \tau(x)) \in \mathcal{R}_\nabla \}$

**定义 3.2（推理规则, Inference Rules）**
系统由以下三条规则驱动。设 $a, b, c, x, y, z \in \mathbb{V}$：

1.  **四面体闭包规则 ($\mathbf{T_{rule}}$)**：
    $$ \frac{\nabla(a, b, c) \quad \Delta(a, x, y) \quad \Delta(b, y, z) \quad \Delta(c, z, x)}{\Delta(x, y, z)} $$
    *要求：结论必须属于 $\mathcal{F}_\Delta$。*
2.  **内聚激发规则 ($\mathbf{E_{rule}}$)**：
    $$ \frac{\Delta(x, y, z) \quad \Delta(a, x, y) \quad \Delta(b, y, z) \quad \Delta(c, z, x)}{\nabla(a, b, c)} $$
    *要求：结论必须属于 $\mathcal{F}_\nabla$。此规则描述了静态面重构动态流的逆向过程。*
3.  **循环置换规则 ($\mathbf{C_{rule}}$)**：
    $$ \frac{\Delta(x, y, z)}{\Delta(y, z, x)} \quad \text{与} \quad \frac{\nabla(a, b, c)}{\nabla(b, c, a)} $$

**定义 3.3（证明对象/演算子, Proof Objects / Operators）**
为记录推导路径，定义证明对象全集 $\mathbf{\Pi} = \mathbf{\Theta} \cup \mathbf{\Omega}$：
1.  **合成算子 $\theta \in \mathbf{\Theta}$**：五元组 $\langle n, d_1, d_2, d_3, d_{base} \rangle$，对应 $\mathbf{T_{rule}}$ 的应用，记 $concl(\theta) = d_{base} \in \mathcal{F}_\Delta$。
2.  **激发算子 $\omega \in \mathbf{\Omega}$**：五元组 $\langle d_b, d_1, d_2, d_3, n_{core} \rangle$，对应 $\mathbf{E_{rule}}$ 的应用，记 $concl(\omega) = n_{core} \in \mathcal{F}_\nabla$。

---

### IV. 状态空间与计算语义 (State Space and Computational Semantics)

**定义 4.1（逻辑状态, Logical State）**
系统状态定义为三元组 $\mathcal{S} = \langle D, N, P \rangle$，其中：
*   $D \subseteq \mathcal{F}_\Delta$ 为当前静态事实集。
*   $N \subseteq \mathcal{F}_\nabla$ 为当前激活流集。
*   $P \subseteq \mathbf{\Pi}$ 为已发生的证明对象记录集。

**定义 4.2（双向状态转移算子, Transition Operator）**
定义算子 $\Gamma(\mathcal{S}) \mapsto \mathcal{S}'$。给定 $\mathcal{S} = \langle D, N, P \rangle$，令单步演化产生的证明增量为：
1.  $\delta\Theta = \{ \langle n, d_1, d_2, d_3, d_{base} \rangle \in \mathbf{\Theta} \mid n \in N, \{d_1, d_2, d_3\} \subseteq D \}$
2.  $\delta\Omega = \{ \langle d_b, d_1, d_2, d_3, n_{core} \rangle \in \mathbf{\Omega} \mid \{d_b, d_1, d_2, d_3\} \subseteq D \}$

则新状态 $\mathcal{S}' = \langle D', N', P' \rangle$ 的组成如下：
*   $P' = P \cup \delta\Theta \cup \delta\Omega$
*   $D' = D \cup \{ concl(\theta) \mid \theta \in \delta\Theta \} \cup \{ y \mid \exists x \in D, \frac{x}{y} \in \mathbf{C_{rule}} \}$
*   $N' = N \cup \{ concl(\omega) \mid \omega \in \delta\Omega \} \cup \{ y \mid \exists x \in N, \frac{x}{y} \in \mathbf{C_{rule}} \}$

**定义 4.3（演化不动点与初始配置）**
系统从初始状态 $\mathcal{S}_0 = \langle \mathcal{A}_\Delta \cup D_{ext}, \mathcal{A}_\nabla \cup N_{ext}, \emptyset \rangle$ 开始迭代。
由于 $\Gamma$ 在幂集包含偏序下是单调的，由 Knaster-Tarski 定理，系统的完全演绎闭包即为最小不动点 $\mathcal{S}^* = \text{lfp}(\Gamma)$。在该不动点下，所有可能的面-流相互激发均达到拓扑平衡。

---

### V. 系统性质定义 (Formal Properties)

**定义 5.1（重合证明, Coincident Proofs / Heavy Edges）**
对于给定状态 $\mathcal{S} = \langle D, N, T \rangle$ 以及事实 $d \in D$。
定义 $d$ 的**推导势 (Derivation Multiplicity)** 为集合的基数：
$$ \mu(d, \mathcal{S}) = \left| \{ \theta \in T \mid concl(\theta) = d \} \right| $$
若 $\mu(d, \mathcal{S}) > 1$，则称事实 $d$ 在状态 $\mathcal{S}$ 下是一个**重面/重构结论 (Heavy Base)**。此时系统存在拓扑上不等价的逻辑流指向同一结论。

**定义 5.2（逻辑流的等价性, Equivalence of Logical Flows）**
设 $\theta_1, \theta_2 \in T$ 且 $concl(\theta_1) = concl(\theta_2)$。
若 $\theta_1$ 的 $n_1$ 与 $\theta_2$ 的 $n_2$ 相同（共用同一个 $\nabla$ 指令），但侧面 $\Delta$ 组合不同，称为**路径同伦 (Path Homotopic)**；若 $n_1 \neq n_2$，称为**源同构 (Source Isomorphic)**。

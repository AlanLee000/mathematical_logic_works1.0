## **形式系统 $T_{EA}$ (等价与应用理论)**

本系统是一个基于带等词的一阶谓词逻辑的形式理论。

### **1. 形式语言 $L_{EA}$**

**1.1. 符号表 (Alphabet)**

1.  **变量 (Variables):** 一个可数无限集 $V = \{v_0, v_1, v_2, \dots\}$。为方便起见，我们使用 $x, y, z, \dots$ 作为其元变量。
2.  **常量 (Constants):** 一个常量符号: `1`。
3.  **函数符号 (Function Symbols):**
    *   `equiv`: 二元函数符号。
    *   `·`: 二元函数符号。
4.  **谓词符号 (Predicate Symbols):**
    *   ` = `: 二元谓词符号。
5.  **逻辑联结词 (Logical Connectives):** `¬` (否定), `→` (蕴含)。
6.  **量词 (Quantifiers):** `∀` (全称量词)。
7.  **辅助符号 (Auxiliary Symbols):** `(`, `)`。

**1.2. 项 (Terms)**

$L_{EA}$ 的项集合是满足以下条件的最小集合:
1.  任何变量 $v \in V$ 都是一个项。
2.  常量 `1` 是一个项。
3.  若 $t_1$ 和 $t_2$ 是项，则 `equiv(t₁, t₂)` 是一个项。
4.  若 $t_1$ 和 $t_2$ 是项，则 `·(t₁, t₂)` 是一个项。

**1.3. 合式公式 (Well-Formed Formulas - WFFs)**

$L_{EA}$ 的合式公式集合是满足以下条件的最小集合:
1.  若 $t_1$ 和 $t_2$ 是项，则 `t₁ = t₂` 是一个原子公式，也是一个合式公式。
2.  若 $\phi$ 是一个合式公式，则 `(¬φ)` 是一个合式公式。
3.  若 $\phi$ 和 $\psi$ 是合式公式，则 `(φ → ψ)` 是一个合式公式。
4.  若 $\phi$ 是一个合式公式且 $x$ 是一个变量，则 `(∀x φ)` 是一个合式公式。

**1.4. 辅助定义**

为简洁起见，我们引入以下元语言缩写：
*   `(φ ∧ ψ)` 定义为 `¬(φ → ¬ψ)`
*   `(φ ∨ ψ)` 定义为 `(¬φ → ψ)`
*   `(φ ↔ ψ)` 定义为 `((φ → ψ) ∧ (ψ → φ))`
*   `(∃x φ)` 定义为 `¬(∀x ¬φ)`
*   `t₁ ≠ t₂` 定义为 `¬(t₁ = t₂)`

---

### **2. 公理系统 $A_{EA}$**

公理系统由逻辑公理、推理规则和非逻辑公理组成。

**2.1. 逻辑公理**

对于任意合式公式 $\phi, \psi, \chi$：

*   **A1:** $(\phi \to (\psi \to \phi))$
*   **A2:** $((\phi \to (\psi \to \chi)) \to ((\phi \to \psi) \to (\phi \to \chi)))$
*   **A3:** $((¬\phi \to ¬\psi) \to (\psi \to \phi))$
*   **A4:** $(\forall x \phi(x) \to \phi(t))$, 其中项 $t$ 在 $\phi(x)$ 中对 $x$ 是自由可代入的。
*   **A5:** $(\forall x (\phi \to \psi) \to (\phi \to \forall x \psi))$, 其中 $\phi$ 中不含自由出现的变量 $x$。

**2.2. 等词公理 (Axioms of Equality)**

对于任意变量 $x, y$ 和项 $t_1, \dots, t_n, s_1, \dots, s_n$：

*   **A6 (自反性):** $\forall x (x = x)$
*   **A7 (替换公理模式):**
    *   对于任意 $n$ 元函数符号 $f$ (在 $L_{EA}$ 中为 `equiv` 和 `·`):
        $\forall x_1 \dots \forall x_n \forall y_1 \dots \forall y_n ( (x_1=y_1 \land \dots \land x_n=y_n) \to f(x_1, \dots, x_n) = f(y_1, \dots, y_n) )$
    *   对于任意 $n$ 元谓词符号 $P$ (在 $L_{EA}$ 中为 ` = `)
        $\forall x_1 \dots \forall x_n \forall y_1 \dots \forall y_n ( (x_1=y_1 \land \dots \land x_n=y_n) \to (P(x_1, \dots, x_n) \to P(y_1, \dots, y_n)) )$

**2.3. 推理规则 (Rules of Inference)**

1.  **分离规则 (Modus Ponens):** 从 $\phi$ 和 $(\phi \to \psi)$，可推出 $\psi$。
2.  **全称概括 (Generalization):** 从 $\phi$，可推出 $(\forall x \phi)$。

**2.4. 非逻辑公理 (Non-Logical Axioms)**

以下公理定义了理论 $T_{EA}$ 的特定性质。

*   **EA1 (等价定义):**
    $\forall x \forall y ( \text{equiv}(x, y) = 1 \leftrightarrow x = y )$

*   **EA2 (等价交换律):**
    $\forall x \forall y ( \text{equiv}(x, y) = \text{equiv}(y, x) )$

*   **EA3 (左分配律):**
	$\forall x \forall y \forall z ( \cdot(z, \text{equiv}(x, y)) = \text{equiv}(\cdot(z, x), \cdot(z, y)) )$

*   **EA4 (右分配律):**
    $\forall x \forall y \forall z ( \cdot(x, \text{equiv}(y, z)) = \text{equiv}(\cdot(x, y), \cdot(x, z)) )$

*   **EA5 (混合结合律):**
    $\forall x \forall y \forall z ( \text{equiv}(\cdot(x, y), z) = \cdot(x, \text{equiv}(y, z)) )$


### 3. 模型论语义
#### **模型 $\mathcal{M}_{Bool}$**

1.  **论域 (Universe):** $U = \{ \top, \bot \}$ (我们可以将其视为布尔值 "真" 和 "假")。
2.  **常量解释 (Interpretation of Constants):**
    *   $1^{\mathcal{M}} = \top$
3.  **函数解释 (Interpretation of Functions):**
    *   `equiv`$^{\mathcal{M}}(a, b)$:
        $$ \text{equiv}^{\mathcal{M}}(a, b) = \begin{cases} \top & \text{if } a = b \\ \bot & \text{if } a \neq b \end{cases} $$
        这实质上是论域上的等价性判断函数。
    *   `·`$^{\mathcal{M}}(a, b)$:
        $$ \cdot^{\mathcal{M}}(a, b) = b $$
        这是**第二投影函数**。

#### **证明 $\mathcal{M}_{Bool}$ 的可靠性 (Soundness)**

我们需要逐一验证模型 $\mathcal{M}_{Bool}$ 满足 $T_{EA}$ 的所有非逻辑公理。

*   **EA1: `equiv(x, y) = 1 ↔ x = y`**
    *   在模型中，这等价于 `equiv`$^{\mathcal{M}}(x, y) = \top \iff x=y$。
    *   根据 `equiv`$^{\mathcal{M}}$ 的定义，此条公理**成立**。

*   **EA2: `equiv(x, y) = equiv(y, x)`**
    *   `equiv`$^{\mathcal{M}}(x, y)$ 的结果取决于 $x=y$ 是否为真。由于等词是对称的 ($x=y \iff y=x$)，所以 `equiv`$^{\mathcal{M}}(x, y) = \text{equiv}^{\mathcal{M}}(y, x)$。公理**成立**。

*   **EA3: `·(z, equiv(x, y)) = equiv(·(z, x), ·(z, y))`**
    *   LHS: $\cdot^{\mathcal{M}}(z, \text{equiv}^{\mathcal{M}}(x, y)) = \text{equiv}^{\mathcal{M}}(x, y)$ (因为 `·` 是第二投影)。
    *   RHS: $\text{equiv}^{\mathcal{M}}(\cdot^{\mathcal{M}}(z, x), \cdot^{\mathcal{M}}(z, y)) = \text{equiv}^{\mathcal{M}}(x, y)$。
    *   LHS = RHS，公理**成立**。

*   **EA4: `·(x, equiv(y, z)) = equiv(·(x, y), ·(x, z))`**
    *   LHS: $\cdot^{\mathcal{M}}(x, \text{equiv}^{\mathcal{M}}(y, z)) = \text{equiv}^{\mathcal{M}}(y, z)$。
    *   RHS: $\text{equiv}^{\mathcal{M}}(\cdot^{\mathcal{M}}(x, y), \cdot^{\mathcal{M}}(x, z)) = \text{equiv}^{\mathcal{M}}(y, z)$。
    *   LHS = RHS，公理**成立**。

*   **EA5: `equiv(·(x, y), z) = ·(x, equiv(y, z))`**
    *   LHS: $\text{equiv}^{\mathcal{M}}(\cdot^{\mathcal{M}}(x, y), z) = \text{equiv}^{\mathcal{M}}(y, z)$。
    *   RHS: $\cdot^{\mathcal{M}}(x, \text{equiv}^{\mathcal{M}}(y, z)) = \text{equiv}^{\mathcal{M}}(y, z)$。
    *   LHS = RHS，公理**成立**。

所有公理都在模型 $\mathcal{M}_{Bool}$ 中得到满足，因此该模型是理论 $T_{EA}$ 的一个可靠模型。

#### **证明模型的非平凡性 (Non-Triviality)**

模型的论域 $U = \{ \top, \bot \}$ 包含两个不同的元素。由于 $|U| = 2 > 1$，所以该模型是**非平凡的**。

#### **证明理论的非平凡一致性 (Non-trivial Consistency)**

*   **一致性 (Consistency):** 根据模型论的基本定理（可靠性定理的逆否命题），如果一个理论拥有一个模型，那么它必然是一致的（即无法从中推导出矛盾，如 $\phi \land \neg\phi$）。因为我们为 $T_{EA}$ 找到了模型 $\mathcal{M}_{Bool}$，所以理论 $T_{EA}$ 是一致的。
*   **非平凡一致性:** 这通常意味着该理论不仅一致，而且不蕴含 `∀x ∀y (x=y)`。我们的模型 $\mathcal{M}_{Bool}$ 中存在两个不同元素 $\top$ 和 $\bot$，所以 `∃x ∃y (x≠y)` 在该模型中为真。因此，理论 $T_{EA}$ 不可能推导出 `∀x ∀y (x=y)`。故，理论 $T_{EA}$ 是非平凡一致的。

#### 4. 第二投影函数的范畴性

##### **证明：在 $T_{EA}$ 中可证 $\forall x \forall y (\cdot(x, y) = y)$**

我们将通过证明两个引理来达到最终的定理。

###### **引理 1：$\vdash_{T_{EA}} \forall x (\cdot(x, 1) = 1)$**

**证明：**

1.  从公理模式 **A7** (等词公理之自反性) 开始，我们有：
    $\forall v (v = v)$
    因此，对于任意项 $t$，我们有 $t=t$。

2.  取非逻辑公理 **EA4**：
    $\forall x \forall y \forall z ( \cdot(x, \text{equiv}(y, z)) = \text{equiv}(\cdot(x, y), \cdot(x, z)) )$
    这是一个全称量化的公式，我们可以用任意项来实例化其中的变量。

3.  令 $z := y$ (将变量 $z$ 替换为变量 $y$)，根据逻辑公理 A4 (全称实例化)，我们得到：
    $\forall x \forall y ( \cdot(x, \text{equiv}(y, y)) = \text{equiv}(\cdot(x, y), \cdot(x, y)) )$

4.  现在分析上式等号的右边 (RHS)：$\text{equiv}(\cdot(x, y), \cdot(x, y))$
    *   根据步骤 1，我们有 $\cdot(x, y) = \cdot(x, y)$。
    *   根据公理 **EA1** 的右推左部分 ($\leftarrow$)：$A=B \to \text{equiv}(A, B) = 1$。
    *   将 $A$ 和 $B$ 都设为 $\cdot(x, y)$，我们得到 $\cdot(x, y) = \cdot(x, y) \to \text{equiv}(\cdot(x, y), \cdot(x, y)) = 1$。
    *   由于 $\cdot(x, y) = \cdot(x, y)$ 是一个逻辑真理，通过分离规则 (Modus Ponens)，我们断定：
        $\text{equiv}(\cdot(x, y), \cdot(x, y)) = 1$

5.  现在分析等号的左边 (LHS)：$\cdot(x, \text{equiv}(y, y))$
    *   同理，由于 $y = y$，根据 **EA1**，我们有 $\text{equiv}(y, y) = 1$。
    *   将此代入 LHS，我们得到：$\cdot(x, 1)$。

6.  将步骤 4 和步骤 5 的结果结合起来，我们从步骤 3 的公式推导出：
    $\forall x \forall y (\cdot(x, 1) = 1)$
    由于这个结论对于任意 $y$ 都成立，我们可以安全地去掉对 $y$ 的量化，从而得到：
    $\forall x (\cdot(x, 1) = 1)$

**引理 1 证毕。**

---

###### **定理：$\vdash_{T_{EA}} \forall x \forall y (\cdot(x, y) = y)$**

**证明：**

1.  取非逻辑公理 **EA5**：
    $\forall x \forall y \forall z ( \text{equiv}(\cdot(x, y), z) = \cdot(x, \text{equiv}(y, z)) )$

2.  令 $z := y$，通过全称实例化，我们得到：
    $\forall x \forall y ( \text{equiv}(\cdot(x, y), y) = \cdot(x, \text{equiv}(y, y)) )$

3.  分析上式等号的右边 (RHS)：$\cdot(x, \text{equiv}(y, y))$
    *   我们已知 $y=y$，根据公理 **EA1**，$\text{equiv}(y, y) = 1$。
    *   因此，RHS 变为 $\cdot(x, 1)$。

4.  根据我们刚刚证明的 **引理 1**，我们知道 $\forall x (\cdot(x, 1) = 1)$。
    *   所以，RHS 等于 $1$。

5.  将此结果代回步骤 2 的公式，我们得到：
    $\forall x \forall y ( \text{equiv}(\cdot(x, y), y) = 1 )$

6.  现在，我们使用公理 **EA1** 的左推右部分 ($\to$)：$\text{equiv}(A, B) = 1 \to A = B$。
    *   将 $A$ 设为 $\cdot(x, y)$，将 $B$ 设为 $y$。
    *   我们有：$\text{equiv}(\cdot(x, y), y) = 1 \to \cdot(x, y) = y$。

7.  由于我们在步骤 5 中已经证明了 $\text{equiv}(\cdot(x, y), y) = 1$，通过分离规则，我们最终断定：
    $\forall x \forall y (\cdot(x, y) = y)$

**定理证毕。**

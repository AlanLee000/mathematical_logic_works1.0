## 形式系统$\mathcal{L}$
### 1. 语法 (Syntax)

设 $\mathcal{A}$ 为一族可数无限的原子项（Atoms），记为 $a, b, c, \dots$。项（Terms）的集合 $\mathcal{T}_\text{syn}$ 通过以下巴科斯-诺尔范式（BNF）归纳定义：
$$ t ::= a \mid t \to_{1} t \mid t \to_{2} t \mid t \cong t \mid \neg t $$
其中 $t \in \mathcal{T}_\text{syn}$。

### 2. 公理与推理规则 (Axioms and Inference Rules)

可证项的集合由以下公理和推理规则生成。我们用 $\vdash t$ 表示项 $t$ 是可证的。其中$a,b,c,d$是任意项。

#### 模块 A: 

*   **Refl:**
    $$ \frac{}{a \cong a} $$
*   **Symm:**
    $$ \frac{a \cong b}{b \cong a} $$
*   **Trans:**
    $$ \frac{a \cong b, \quad b \cong c}{a \cong c} $$

#### 模块 B: 

*   **Id-Intro:**
    $$ \frac{}{a \to_{1} a} \quad \text{以及} \quad \frac{}{a \to_{2} a} $$
*   **Rule B1:**
    $$ \frac{a \to_{1} b, \quad b \to_{2} c}{a \to_{1} (b \to_{2} c)} $$
*   **Rule B2:**
    $$ \frac{a \to_{1} b, \quad a \to_{2} c}{(a \to_{1} b) \to_{2} c} $$
*   **Rule B3:**
    $$ \frac{(a \to_{2} b) \to_{1} c, \quad b \to_{2} d}{(b \to_{2} d) \to_{1} c} $$
*   **Rule B4:**
    $$ \frac{c \to_{1} (a \to_{2} b), \quad b \to_{2} d}{c \to_{1} (b \to_{2} d)} $$

#### 模块 C: 

*   **Rule C1:**
    $$ \frac{a \cong b, \quad a \to_{1} c, \quad b \to_{1} d}{(a \to_{1} c) \cong (b \to_{1} d)} $$
*   **Rule C2:**
    $$ \frac{a \cong b, \quad a \to_{2} c, \quad b \to_{2} d}{(a \to_{2} c) \cong (b \to_{2} d)} $$

#### 模块 D: 

*   **Rule D1:**
    $$ \frac{(a \cong b) \to_{1} c}{a \to_{1} c} \quad \text{以及} \quad \frac{(a \cong b) \to_{1} c}{b \to_{1} c} $$
*   **Rule D2:**
    $$ \frac{a \to_{2} b, \quad a \cong c}{(a \cong c) \to_{2} b} $$

#### 模块 E:

*   **Rule E1:**
    $$ \frac{a \cong b, \quad a \to_{2} c}{b \to_{2} c} $$
*   **Rule E2:**
    $$ \frac{a \cong b, \quad a \to_{1} c}{b \to_{1} c} $$

#### 模块 F:

*   **Rule F1:**
    $$ \frac{a \to_{1} b, \quad b \to_{1} c}{a \to_{1} c} $$
*   **Rule F2:**
    $$ \frac{(a \to_{2} b) \to_{1} c}{a \to_{1} (b \to_{1} c)} $$
*   **Rule F3:**
    $$ \frac{(a \to_{1} b) \to_{1} c}{a \to_{1} (b \to_{2} c)} $$

#### 模块 G:

*   **Rule G1:**
    $$ \frac{a \to_{1} b}{\neg b \to_{1} \neg a} $$
*   **Rule G2:**
    $$ \frac{}{ a \to_{1} \neg \neg a} $$
*   **Rule G3:**
    $$ \frac{}{\neg (a\cong\neg a)} $$
*   **Rule G4:**
    $$ \frac{}{\neg (a\cong (a \to_{1} b))} $$
*   **Rule G5:**
    $$ \frac{}{\neg (a\cong (a \to_{2} b))} $$


---


### 3. 形式语义模型 (Formal Semantics)

#### 3.1 全域的分层构造 (Stratified Construction of the Universe)

设 $\mathbb{A}$ 为与语法中原子项对应的可数无限集合。为保证构造的唯一性，我们使用带标签的笛卡尔积来定义项的结构。设标签集 $L = \{0, 1, 2, 3\}$。

*   **构造算子:**
    *   $Op_{\to_{1}}(S) = \{0\} \times S \times S$。元素 $\langle 0, x, y \rangle$ 记作 $x \to_{1} y$。
    *   $Op_{\to_{2}}(S) = \{1\} \times S \times S$。元素 $\langle 1, x, y \rangle$ 记作 $x \to_{2} y$。
    *   $Op_{\cong}(S) = \{2\} \times S \times S$。元素 $\langle 2, x, y \rangle$ 记作 $x \cong y$。
    *   $Op_{\neg}(S) = \{3\} \times S$。元素 $\langle 3, x\rangle$ 记作 $\neg x$。

*   **分层构造:**
    定义序列 $(U_n)_{n \in \mathbb{N}}$：
    *   $U_0 = \mathbb{A}$
    *   $U_{n+1} = U_n \cup Op_{\to_{1}}(U_n) \cup Op_{\to_{2}}(U_n) \cup Op_{\cong}(U_n) \cup Op_{\neg}(U_{n})$

*   **全域 (Universe):**
    $$ \mathcal{U} = \bigcup_{n=0}^{\infty} U_n $$

*   **性质 3.1.1 (结构互斥性):** $\mathbb{A}$, $Op_{\to_{1}}(\mathcal{U})$, $Op_{\to_{2}}(\mathcal{U})$, $Op_{\cong}(\mathcal{U})$, $Op_{\neg}(\mathcal{U})$ 两两不交，构成 $\mathcal{U}$ 的一个划分。

#### 3.2 语义解释 (Semantic Interpretation)

模型的真值集被定义为 $\mathcal{P}(\mathcal{U})$ 上一个单调算子 $\Psi$ 的最小不动点。

*   **定义 3.2.1 (语义算子 $\Psi$):**
    $\Psi: \mathcal{P}(\mathcal{U}) \to_{1} \mathcal{P}(\mathcal{U})$。对于任意 $S \subseteq \mathcal{U}$，$\Psi(S)$ 定义为包含 $S$ 以及满足以下闭包条件的所有项的集合：
    1.  **公理:** 对任意 $x \in \mathcal{U}$，$(x \cong x) \in \Psi(S)$, $(x \to_{1} x) \in \Psi(S)$, $(x \to_{2} x) \in \Psi(S)$。
    2.  **模块 A:**
        *   若 $(x \cong y) \in S$，则 $(y \cong x) \in \Psi(S)$。
        *   若 $(x \cong y) \in S$ 且 $(y \cong z) \in S$，则 $(x \cong z) \in \Psi(S)$。
    3.  **模块 B:**
        *   若 $(a \to_{1} b) \in S$ 且 $(b \to_{2} c) \in S$，则 $(a \to_{1} (b \to_{2} c)) \in \Psi(S)$。
        *   若 $(a \to_{1} b) \in S$ 且 $(a \to_{2} c) \in S$，则 $((a \to_{1} b) \to_{2} c) \in \Psi(S)$。
        *   若 $((a \to_{2} b) \to_{1} c) \in S$ 且 $(b \to_{2} d) \in S$，则 $((b \to_{2} d) \to_{1} c) \in \Psi(S)$。
        *   若 $(c \to_{1} (a \to_{2} b)) \in S$ 且 $(b \to_{2} d) \in S$，则 $(c \to_{1} (b \to_{2} d)) \in \Psi(S)$。
    4.  **模块 C:**
        *   若 $(a \cong b) \in S, (a \to_{1} c) \in S, (b \to_{1} d) \in S$，则 $((a \to_{1} c) \cong (b \to_{1} d)) \in \Psi(S)$。
        *   若 $(a \cong b) \in S, (a \to_{2} c) \in S, (b \to_{2} d) \in S$，则 $((a \to_{2} c) \cong (b \to_{2} d)) \in \Psi(S)$。
    5.  **模块 D:**
        *   若 $((a \cong b) \to_{1} c) \in S$，则 $(a \to_{1} c) \in \Psi(S)$ 且 $(b \to_{1} c) \in \Psi(S)$。
        *   若 $(a \to_{2} b) \in S$ 且 $(a \cong c) \in S$，则 $((a \cong c) \to_{2} b) \in \Psi(S)$。
    6.  **模块 E:**
        *   若 $(a \cong b) \in S$ 且 $(a \to_{2} c) \in S$，则 $(b \to_{2} c) \in \Psi(S)$。
        *   若 $(a \cong b) \in S$ 且 $(a \to_{1} c) \in S$，则 $(b \to_{1} c) \in \Psi(S)$。
	7.  **模块 F:**
	    *   若 $(a \to_{1} b) \in S$ 且 $(b \to_{1} c) \in S$，则 $(a \to_{1} c) \in \Psi(S)$。
	    *   若 $((a \to_{2} b) \to_{1} c) \in S$，则 $(a \to_{1} (b \to_{1} c)) \in \Psi(S)$。
	    *   若 $((a \to_{1} b) \to_{1} c) \in S$，则 $(a \to_{1} (b \to_{2} c)) \in \Psi(S)$。
	8.  **模块G:**
		*   若 $(a \to_{1} b) \in S$ ，则 $(\neg b \to_{1} \neg a) \in \Psi(S)$。
		*    对任意 $x,y \in \mathcal{U}$，$x\to_{1} \neg \neg x \in \Psi(S)$,$\neg(x \cong \neg x) \in \Psi(S)$, $\neg (x \cong (x \to_{1} y)) \in \Psi(S)$, $\neg (x \cong (x \to_{2} y)) \in \Psi(S)$。

---

*   **定义 3.2.2 (模型):**
    算子 $\Psi$ 是单调的。根据 Knaster-Tarski 定理，$\Psi$ 存在最小不动点。定义真值集 $\mathcal{T}$ 为该不动点：
    $$ \mathcal{T} = \text{lfp}(\Psi) = \bigcup_{k=0}^{\infty} \Psi^k(\emptyset) $$
    模型 $\mathfrak{M} = \langle \mathcal{U}, \mathcal{T} \rangle$。我们说一个项 $t$ 在模型中为真，记作 $\mathfrak{M} \vDash t$，当且仅当 $t \in \mathcal{T}$。

### 4. 一致性证明 (Proof of Consistency)

#### 4.1 可靠性 (Soundness)

*   **定理 4.1.1 (可靠性):** 如果 $\vdash t$，那么 $\mathfrak{M} \vDash t$。
*   **证明:** 对推导 $\vdash t$ 的深度进行结构归纳。
    1.  **基础情况:** 推导由公理构成。所有公理（Refl, Id-Intro）都由 $\Psi$ 定义的第1条无条件生成，故它们属于 $\Psi(\emptyset) \subseteq \mathcal{T}$。
    2.  **归纳步骤:** 假设所有前提 $p_1, \dots, p_n$ 均在 $\mathcal{T}$ 中。由于 $\mathcal{T}$ 是不动点，$\Psi(\mathcal{T})=\mathcal{T}$。$\Psi$ 的定义 (2)-(6) 精确地对应了系统所有的推理规则。因此，由前提 $p_i \in \mathcal{T}$ 可推出结论 $t \in \Psi(\mathcal{T}) = \mathcal{T}$。故 $\mathfrak{M} \vDash t$。**证毕。**

#### 4.2 原子类型不变性 (Atomic Type Invariance)

这是证明一致性的核心引理。

*   **定义 4.2.1 (原子不变性谓词):**
    对于任意项 $t \in \mathcal{U}$，定义谓词 $P(t)$：
    $$ P(t) \iff \forall x, y \in \mathcal{U}, \left( t = (x \cong y) \implies \left[ (x \in \mathbb{A} \iff y \in \mathbb{A}) \land (x \in \mathbb{A} \implies x = y) \right] \right) $$

*   **引理 4.2.2 (不变性引理):** 对于任意 $t \in \mathcal{T}$，性质 $P(t)$ 成立。
*   **证明:** 对不动点构造序列 $S_k = \Psi^k(\emptyset)$ 进行归纳。
    *   **归纳基础 ($k=0$):** $S_0 = \emptyset$。命题 $\forall t \in \emptyset, P(t)$ 真空为真。
    *   **归纳步骤:** 假设对所有 $t' \in S_k$，$P(t')$ 成立。我们需证明对任意 $t \in S_{k+1} = \Psi(S_k)$，$P(t)$ 也成立。我们对 $t$ 的来源进行情况分析：
		1.  **情况一: $t$ 是非同余项。**
		    若 $t$ 是通过 **Id-Intro**, **Rule B1-B4**, **Rule D1**, **Rule D2**, **Rule E1-E2**, **Rule F1-F3**, **Rule G1-G5**生成的。
		    根据构造算子定义，这些规则的结论 $t$ 均属于 $Op_{\to_{1}}(\mathcal{U}) \cup Op_{\to_{2}}(\mathcal{U}) \cup Op_{\neg}(\mathcal{U})$。
		    根据 **性质 3.1.1**，其类型不可能是 Congruence（$Op_{\cong}(\mathcal{U})$ 与其他层级互斥）。
		    因此，$t$ 不具有 $x \cong y$ 的形式。在 $P(t)$ 的定义中，蕴含式的前件 $t = (x \cong y)$ 恒为假，故 $P(t)$ 真空为真（Vacuously True）。
        2.  **情况二: $t$ 是通过自反律生成的。**
            $t = (x \cong x)$。此时 $P(t)$ 要求 $(x \in \mathbb{A} \iff x \in \mathbb{A}) \land (x \in \mathbb{A} \implies x=x)$，此为逻辑重言式。故 $P(t)$ 成立。
        3.  **情况三: $t$ 是通过模块 A 生成的。**
            *   **Symm:** $t = (y \cong x)$，前提 $(x \cong y) \in S_k$。由归纳假设 $P(x \cong y)$ 成立，即 $(x \in \mathbb{A} \iff y \in \mathbb{A}) \land (x \in \mathbb{A} \implies x=y)$。这在逻辑上等价于 $(y \in \mathbb{A} \iff x \in \mathbb{A}) \land (y \in \mathbb{A} \implies y=x)$。故 $P(y \cong x)$ 成立。
            *   **Trans:** $t = (x \cong z)$，前提 $(x \cong y), (y \cong z) \in S_k$。由归纳假设 $P(x \cong y)$ 和 $P(y \cong z)$ 成立：
                - $(x \in \mathbb{A} \iff y \in \mathbb{A})$ 且 $(y \in \mathbb{A} \iff z \in \mathbb{A})$，可得 $(x \in \mathbb{A} \iff z \in \mathbb{A})$。
                - 若 $x \in \mathbb{A}$，则 $y \in \mathbb{A}$ 且 $z \in \mathbb{A}$。由 $P(x \cong y)$ 得 $x=y$，由 $P(y \cong z)$ 得 $y=z$。因此 $x=z$。
                故 $P(x \cong z)$ 成立。
        4.  **情况四: $t$ 是通过模块 C 生成的。**
            $t = (u \cong v)$，其中 $u, v$ 分别是形如 $a \to_{1} c$ 或 $a \to_{2} c$ 的项。由 **性质 3.1.1**， $u \notin \mathbb{A}$ 且 $v \notin \mathbb{A}$。
            在 $P(t)$ 的定义中：
            - 双条件部分 $(u \in \mathbb{A} \iff v \in \mathbb{A})$ 等价于 $(\bot \iff \bot)$，为真。
            - 蕴含部分 $(u \in \mathbb{A} \implies u=v)$ 等价于 $(\bot \implies u=v)$，为真。
            故 $P(t)$ 成立。

    所有生成规则均保持性质 $P$。由数学归纳法，引理得证。**证毕。**

#### 4.3 一致性定理 (Consistency Theorem)

*   **定理 4.3.1 (原子一致性):** 对于任意两个不同的原子 $a, b \in \mathbb{A}$ ($a \neq b$)，$\nvdash a \cong b$。
*   **证明:**
    1.  **(反证法假设)** 假设存在 $a, b \in \mathbb{A}$ 且 $a \neq b$，使得 $\vdash a \cong b$。
    2.  根据 **定理 4.1.1 (可靠性)**，若 $\vdash a \cong b$，则 $\mathfrak{M} \vDash a \cong b$，即 $(a \cong b) \in \mathcal{T}$。
    3.  根据 **引理 4.2.2 (不变性引理)**，所有 $\mathcal{T}$ 中的项都满足谓词 $P$。因此，$P(a \cong b)$ 必须成立。
    4.  展开 $P(a \cong b)$ 的定义，我们得到后件必须为真：
        $$ (a \in \mathbb{A} \iff b \in \mathbb{A}) \land (a \in \mathbb{A} \implies a = b) $$
    5.  由于 $a, b$ 是原子，故 $a \in \mathbb{A}$ 和 $b \in \mathbb{A}$ 均为真。蕴含式 $a \in \mathbb{A} \implies a = b$ 的前件为真。根据分离规则 (Modus Ponens)，我们必然推导出其后件 $a=b$ 为真。
    6.  这与我们的初始假设 $a \neq b$ 产生直接矛盾。
    7.  因此，初始假设不成立。

    **证毕。**


### 5. 内定理 (Internal Theorems)

本节推导形式系统中的内定理。

#### 目录

以下定理均已得证，具体证明不在本节展开。
$$ \frac{a \cong b, \quad a \to_{1} c}{(a \to_{1} c) \cong (b \to_{1} c)} $$

$$ \frac{a \cong b, \quad a \to_{2} c}{(a \to_{2} c) \cong (b \to_{2} c)} $$

$$ \frac{a \cong b, \quad b \cong c, \quad a \to_{1} d}{(a \to_{1} d) \cong (c \to_{1} d)} $$

$$ \frac{a \cong b}{(a \to_{1} a) \cong (b \to_{1} b)} $$

$$ \frac{a \cong b, \quad a \to_{1} c, \quad a \to_{2} d}{((a \to_{1} c) \to_{2} d) \cong ((b \to_{1} c) \to_{2} d)} $$

$$ \frac{a \cong b}{(a \to_{2} a) \cong (b \to_{2} b)} $$

$$ \frac{a \to_{1} b, \quad b \to_{2} c, \quad c \to_{2} d}{a \to_{1} (c \to_{2} d)} $$

$$ \frac{a \cong b}{((a \to_{1} a) \to_{2} a) \cong ((b \to_{1} b) \to_{2} b)} $$

$$ \frac{a \cong c, \quad b \cong c}{a \cong b} $$

$$ \frac{a \to_{2} b}{a \to_{1} (a \to_{2} b)} $$

$$ \frac{(a \to_{2} b) \to_{1} c, \quad b \to_{2} d}{b \to_{1} (d \to_{1} c)} $$

$$ \frac{a \cong b}{(a \to_{1} (a \to_{2} a)) \cong (b \to_{1} (b \to_{2} b))} $$

$$ \frac{((a \cong b) \to_{1} d) \to_{1} c}{a \to_{1} (d \to_{2} c)} $$

$$ \frac{((a \to_{2} b) \to_{1} c) \to_{1} d}{a \to_{1} (b \to_{1} (c \to_{2} d))} $$

$$ \frac{a \cong b, \quad a \to_{1} c, \quad c \to_{2} d}{(a \to_{1} (c \to_{2} d)) \cong (b \to_{1} (c \to_{2} d))} $$

$$ \frac{((a \cong b) \to_{2} c) \to_{1} d}{a \to_{1} (c \to_{1} d)} $$

$$ \frac{(a \to_{2} b) \to_{1} c, \quad d \to_{1} (a \to_{2} b)}{d \to_{1} c} $$

$$ \frac{}{a \to_{1} (a \to_{2} a)} $$

$$ \frac{((a \to_{1} b) \to_{1} c) \to_{1} d}{a \to_{1} (b \to_{2} (c \to_{2} d))} $$

$$ \frac{a \to_{1} c, \quad a \to_{2} d, \quad a \to_{2} e}{((a \to_{1} c) \to_{2} d) \cong ((a \to_{1} c) \to_{2} e)} $$

$$ \frac{c \to_{1} (a \to_{2} b), \quad b \to_{2} d, \quad d \to_{2} e}{c \to_{1} (d \to_{2} e)} $$

$$ \frac{(a \to_{1} b) \to_{1} c, \quad c \to_{1} d}{a \to_{1} (b \to_{2} d)} $$

$$ \frac{c \to_{1} (a \to_{2} b), \quad b \to_{2} d, \quad (b \to_{2} d) \to_{1} e}{c \to_{1} e} $$

$$ \frac{((a \to_{1} b) \to_{2} c) \to_{1} d}{a \to_{1} (b \to_{2} (c \to_{1} d))} $$

$$ \frac{a \cong b, \quad b \cong c, \quad a \to_{2} d}{(a \to_{2} d) \cong (c \to_{2} d)} $$

$$ \frac{((a \to_{2} b) \to_{2} c) \to_{1} d}{a \to_{1} (b \to_{1} (c \to_{1} d))} $$

$$ \frac{a \to_{1} b}{(a \to_{1} b) \to_{2} a} $$

$$ \frac{a \to_{1} b, \quad b \to_{2} a, \quad (b \to_{2} a) \to_{1} c}{a \to_{1} c} $$

$$ \frac{(a \to_{2} b) \to_{1} c, \quad b \to_{2} d, \quad d \to_{2} e}{(d \to_{2} e) \to_{1} c} $$

$$ \frac{((a \to_{1} b) \to_{1} c), \quad c \to_{2} d}{a \to_{1} (c \to_{2} d)} $$

$$ \frac{(a \to_{1} b) \cong c, \quad c \to_{1} d}{a \to_{1} (b \to_{2} d)} $$

$$ \frac{((a \to_{1} b) \to_{1} c), \quad (b \to_{2} c) \to_{2} d}{a \to_{1} ((b \to_{2} c) \to_{2} d)} $$

$$ \frac{(a \to_{2} b) \to_{1} c, \quad b \to_{2} d, \quad c \to_{1} e}{b \to_{1} (d \to_{1} e)} $$


$$ \frac{((a \to_{1} b) \to_{1} c), \quad ((b \to_{2} c) \to_{1} d)}{a \to_{1} d} $$

$$ \frac{a \to_{1} b, \quad b \to_{1} c, \quad (a \to_{1} c) \to_{1} d}{a \to_{1} (c \to_{2} d)} $$

$$ \frac{(a \to_{2} b) \to_{1} c, \quad (a \to_{1} (b \to_{1} c)) \to_{1} d}{a \to_{1} ((b \to_{1} c) \to_{2} d)} $$

$$ \frac{a \cong ((b \to_{1} c) \to_{1} d), \quad a \to_{1} e}{b \to_{1} (c \to_{2} (d \to_{2} e))} $$



#### 5.1 定理：箭头项的左同余性 (Left-Congruence of Arrow)

**命题：**
$$ \frac{a \cong b, \quad a \to_{1} c}{(a \to_{1} c) \cong (b \to_{1} c)} $$

**证明：**
设前提为：
1. $a \cong b$
2. $a \to_{1} c$

推导步骤如下：

| 步骤  | 公式                          | 理由                                                   |
| :-- | :-------------------------- | :--------------------------------------------------- |
| 1   | $a \cong b$                 | 前提 (Premise)                                         |
| 2   | $a \to_{1} c$                   | 前提 (Premise)                                         |
| 3   | $b \to_{1} c$                   | 应用 **Rule E2** 于 (1) 和 (2)                           |
| 4   | $(a \to_{1} c) \cong (b \to_{1} c)$ | 应用 **Rule C1** 于 (1), (2), (3) <br> *(注: 此处取 $d=c$)* |

**证毕。** $\square$

---

#### 5.2 定理：张量项的左同余性 (Left-Congruence of Tensor)

**命题：**
$$ \frac{a \cong b, \quad a \to_{2} c}{(a \to_{2} c) \cong (b \to_{2} c)} $$

**证明：**
设前提为：
1. $a \cong b$
2. $a \to_{2} c$

推导步骤如下：

| 步骤  | 公式                                  | 理由                                                   |
| :-- | :---------------------------------- | :--------------------------------------------------- |
| 1   | $a \cong b$                         | 前提 (Premise)                                         |
| 2   | $a \to_{2} c$                       | 前提 (Premise)                                         |
| 3   | $b \to_{2} c$                       | 应用 **Rule E1** 于 (1) 和 (2)                           |
| 4   | $(a \to_{2} c) \cong (b \to_{2} c)$ | 应用 **Rule C2** 于 (1), (2), (3) <br> *(注: 此处取 $d=c$)* |

**证毕。** $\square$

---

#### 5.3 推论：同余传递的构造性 (Constructivity of Congruence Transit)

结合同余公理与上述定理，我们可以推导更复杂的链式同余关系。

**命题：**
$$ \frac{a \cong b, \quad b \cong c, \quad a \to_{1} d}{(a \to_{1} d) \cong (c \to_{1} d)} $$

**证明：**

| 步骤 | 公式 | 理由 |
| :--- | :--- | :--- |
| 1 | $a \cong b$ | 前提 |
| 2 | $b \cong c$ | 前提 |
| 3 | $a \to_{1} d$ | 前提 |
| 4 | $a \cong c$ | 应用 **Trans** 于 (1), (2) |
| 5 | $(a \to_{1} d) \cong (c \to_{1} d)$ | 应用 **定理 5.1** 于 (4), (3) |

**证毕。** $\square$


#### 5.4 定理：恒等映射的同余性 (Congruence of Identity Mappings)

本定理展示了公理 **Id-Intro** 与同余关系的交互。它证明了如果两个项在同余意义下相等，那么它们的恒等映射也在此关系下相等。

**命题：**
$$ \frac{a \cong b}{(a \to_{1} a) \cong (b \to_{1} b)} $$

**证明：**
设前提为：
1. $a \cong b$

推导步骤如下：

| 步骤  | 公式                          | 理由                                                                 |
| :-- | :-------------------------- | :----------------------------------------------------------------- |
| 1   | $a \cong b$                 | 前提 (Premise)                                                       |
| 2   | $a \to_{1} a$                   | 应用 **Id-Intro** (无需前提)                                             |
| 3   | $b \to_{1} b$                   | 应用 **Id-Intro** (无需前提)                                             |
| 4   | $(a \to_{1} a) \cong (b \to_{1} b)$ | 应用 **Rule C1** 于 (1), (2), (3) <br> *(注: 在 Rule C1 中取 $c=a, d=b$)* |

**证毕。** $\square$

---

#### 5.5 定理：结构应用的左同余性 (Left-Congruence of Structural Application)

本定理建立在模块 B 的结构规则之上。它证明了当我们在进行类似“函数应用”的操作（Rule B2）时，操作主体的同余性可以保持到结果结构中。这是一个复合定理，结合了替换规则、内定理 5.1 和构造规则。

**命题：**
$$ \frac{a \cong b, \quad a \to_{1} c, \quad a \to_{2} d}{((a \to_{1} c) \to_{2} d) \cong ((b \to_{1} c) \to_{2} d)} $$

**证明：**
设前提为：
1. $a \cong b$
2. $a \to_{1} c$
3. $a \to_{2} d$

推导步骤如下：

| 步骤  | 公式                                                  | 理由                                                                                                      |
| :-- | :-------------------------------------------------- | :------------------------------------------------------------------------------------------------------ |
| 1   | $b \to_{1} c$                                           | 应用 **Rule E2** 于 (1) 和 (2)                                                                              |
| 2   | $b \to_{2} d$                                       | 应用 **Rule E1** 于 (1) 和 (3)                                                                              |
| 3   | $(a \to_{1} c) \cong (b \to_{1} c)$                         | 应用 **定理 5.1** (箭头项左同余) 于 (1) 和 (2)                                                                      |
| 4   | $(a \to_{1} c) \to_{2} d$                               | 应用 **Rule B2** 于 (2) 和 (3)                                                                              |
| 5   | $(b \to_{1} c) \to_{2} d$                               | 应用 **Rule B2** 于 (1) 和 (2) 的派生结果 (步骤1, 2)                                                               |
| 6   | $((a \to_{1} c) \to_{2} d) \cong ((b \to_{1} c) \to_{2} d)$ | 应用 **Rule C2** 于 (3), (4), (5) <br> *(注: 在 Rule C2 中，取 $a'=(a \to_{1} c)$, $b'=(b \to_{1} c)$, $c'=d$, $d'=d$)* |

**证毕。** $\square$

---

#### 5.6 定理：张量恒等式的同余性 (Congruence of Tensor Identity)

本定理证明了若两个原子项在同余意义下相等，则它们的自张量（Self-Tensor）也满足同余关系。这是定理 5.4 在张量结构上的对应版本。

**命题：**
$$ \frac{a \cong b}{(a \to_{2} a) \cong (b \to_{2} b)} $$

**证明：**
设前提为：
1. $a \cong b$

推导步骤如下：

| 步骤 | 公式 | 理由 |
| :--- | :--- | :--- |
| 1 | $a \cong b$ | 前提 (Premise) |
| 2 | $a \to_{2} a$ | 应用 **Id-Intro** (无需前提) |
| 3 | $b \to_{2} b$ | 应用 **Id-Intro** (无需前提) |
| 4 | $(a \to_{2} a) \cong (b \to_{2} b)$ | 应用 **Rule C2** 于 (1), (2), (3) <br> *(注: 在 Rule C2 中，取 $c=a, d=b$)* |

**证毕。** $\square$

---

#### 5.7 定理：张量传递归约 (Tensor Transitive Reduction)

本定理揭示了模块 B 中规则的组合能力。尽管系统没有直接给出箭头项的传递律，但通过张量环境，我们可以实现一种“跨步”的结构推导。

**命题：**
$$ \frac{a \to_{1} b, \quad b \to_{2} c, \quad c \to_{2} d}{a \to_{1} (c \to_{2} d)} $$

**证明：**
设前提为：
1. $a \to_{1} b$
2. $b \to_{2} c$
3. $c \to_{2} d$

推导步骤如下：

| 步骤 | 公式 | 理由 |
| :--- | :--- | :--- |
| 1 | $a \to_{1} b$ | 前提 (Premise) |
| 2 | $b \to_{2} c$ | 前提 (Premise) |
| 3 | $a \to_{1} (b \to_{2} c)$ | 应用 **Rule B1** 于 (1) 和 (2) |
| 4 | $c \to_{2} d$ | 前提 (Premise) |
| 5 | $a \to_{1} (c \to_{2} d)$ | 应用 **Rule B4** 于 (3) 和 (4) <br> *(注: 在 Rule B4 中，取 $c'=a, a'=b, b'=c, d'=d$)* |

**证毕。** $\square$

---

#### 5.8 定理：自应用结构的同余性 (Congruence of Self-Application Structure)

本定理是一个综合性定理，结合了恒等映射、同余传递和结构应用。它证明了如果两个对象是同余的，那么它们各自的“自应用”（即恒等映射作用于自身）所形成的复杂结构也是同余的。

**命题：**
$$ \frac{a \cong b}{((a \to_{1} a) \to_{2} a) \cong ((b \to_{1} b) \to_{2} b)} $$

**证明：**
设前提为：
1. $a \cong b$

推导步骤如下：

| 步骤 | 公式 | 理由 |
| :--- | :--- | :--- |
| 1 | $a \cong b$ | 前提 (Premise) |
| 2 | $a \to_{1} a$ | 应用 **Id-Intro** |
| 3 | $b \to_{1} b$ | 应用 **Id-Intro** |
| 4 | $(a \to_{1} a) \cong (b \to_{1} b)$ | 应用 **Rule C1** 于 (1), (2), (3) <br> *(此即 定理 5.4 的推导过程)* |
| 5 | $a \to_{2} a$ | 应用 **Id-Intro** |
| 6 | $(a \to_{1} a) \to_{2} a$ | 应用 **Rule B2** 于 (2) 和 (5) |
| 7 | $b \to_{2} b$ | 应用 **Id-Intro** |
| 8 | $(b \to_{1} b) \to_{2} b$ | 应用 **Rule B2** 于 (3) 和 (7) |
| 9 | $((a \to_{1} a) \to_{2} a) \cong ((b \to_{1} b) \to_{2} b)$ | 应用 **Rule C2** 于 (4), (6), (8) <br> *(注: 在 Rule C2 中，Head 为步骤4的结论，Tail 分别为 a 和 b)* |

**证毕。** $\square$


#### 5.9 定理：同余的欧几里得性质 (Euclidean Property of Congruence)

**命题：**
$$ \frac{a \cong c, \quad b \cong c}{a \cong b} $$

**证明：**
该定理表明，若两个项同余于第三个项，则它们彼此同余。这是建立等价关系的关键步骤，利用了对称性和传递性。

设前提为：
1. $a \cong c$
2. $b \cong c$

推导步骤如下：

| 步骤 | 公式 | 理由 |
| :--- | :--- | :--- |
| 1 | $b \cong c$ | 前提 (Premise) |
| 2 | $c \cong b$ | 应用 **Symm** 于 (1) |
| 3 | $a \cong c$ | 前提 (Premise) |
| 4 | $a \cong b$ | 应用 **Trans** 于 (3), (2) |

**证毕。** $\square$

---

#### 5.10 定理：自指张量封装 (Self-Referential Tensor Encapsulation)

**命题：**
$$ \frac{a \to_{2} b}{a \to_{1} (a \to_{2} b)} $$

**证明：**
本定理揭示了如何将一个张量关系（Type 2）“封装”进以自身为起点的箭头关系（Type 1）中。这是利用恒等映射引入（Id-Intro）与结构规则（Rule B1）的典型范例。

设前提为：
1. $a \to_{2} b$

推导步骤如下：

| 步骤 | 公式 | 理由 |
| :--- | :--- | :--- |
| 1 | $a \to_{2} b$ | 前提 (Premise) |
| 2 | $a \to_{1} a$ | 应用 **Id-Intro** (无需前提) |
| 3 | $a \to_{1} (a \to_{2} b)$ | 应用 **Rule B1** 于 (2) 和 (1) <br> *(注: 在 Rule B1 中，取 $a=a, b=a, c=b$)* |

**证毕。** $\square$

---

#### 5.11 定理：张量-箭头结合律 (Tensor-Arrow Associativity)

**命题：**
$$ \frac{(a \to_{2} b) \to_{1} c, \quad b \to_{2} d}{b \to_{1} (d \to_{1} c)} $$

**证明：**
这是一个深度结构定理，展示了系统如何处理嵌套的算子。它通过结合模块 B 的交换规则与模块 F 的结合规则，将一个左嵌套的混合结构转化为右嵌套的纯箭头结构。

设前提为：
1. $(a \to_{2} b) \to_{1} c$
2. $b \to_{2} d$

推导步骤如下：

| 步骤 | 公式 | 理由 |
| :--- | :--- | :--- |
| 1 | $(a \to_{2} b) \to_{1} c$ | 前提 (Premise) |
| 2 | $b \to_{2} d$ | 前提 (Premise) |
| 3 | $(b \to_{2} d) \to_{1} c$ | 应用 **Rule B3** 于 (1) 和 (2) |
| 4 | $b \to_{1} (d \to_{1} c)$ | 应用 **Rule F2** 于 (3) <br> *(注: 在 Rule F2 中，取 $a=b, b=d, c=c$)* |

**证毕。** $\square$

---

#### 5.12 定理：高阶自指同余性 (Congruence of Higher-Order Self-Reference)

**命题：**
$$ \frac{a \cong b}{(a \to_{1} (a \to_{2} a)) \cong (b \to_{1} (b \to_{2} b))} $$

**证明：**
本定理是定理 5.4 和 5.6 的推广。它证明了如果两个基项是同余的，那么由它们各自构建的“递归自指结构”（即 $x$ 映射到 $x$ 的自张量）也是同余的。

设前提为：
1. $a \cong b$

推导步骤如下：

| 步骤 | 公式 | 理由 |
| :--- | :--- | :--- |
| 1 | $a \cong b$ | 前提 (Premise) |
| 2 | $a \to_{1} a$ | 应用 **Id-Intro** |
| 3 | $a \to_{2} a$ | 应用 **Id-Intro** |
| 4 | $a \to_{1} (a \to_{2} a)$ | 应用 **Rule B1** 于 (2) 和 (3) |
| 5 | $b \to_{1} b$ | 应用 **Id-Intro** |
| 6 | $b \to_{2} b$ | 应用 **Id-Intro** |
| 7 | $b \to_{1} (b \to_{2} b)$ | 应用 **Rule B1** 于 (5) 和 (6) |
| 8 | $(a \to_{1} (a \to_{2} a)) \cong (b \to_{1} (b \to_{2} b))$ | 应用 **Rule C1** 于 (1), (4), (7) <br> *(注: 此时 Rule C1 的前提为 $a \cong b$, 以及分别来自步骤4和7的结构)* |

**证毕。** $\square$

---

#### 5.13 定理：深层结构提取 (Deep Structural Extraction)

**命题：**
$$ \frac{((a \cong b) \to_{1} d) \to_{1} c}{a \to_{1} (d \to_{2} c)} $$

**证明：**
本定理展示了如何从复杂的同余前提嵌套中“提取”出原本的原子结构关系。它结合了模块 F 的结合性与模块 D 的同余消除规则。

设前提为：
1. $((a \cong b) \to_{1} d) \to_{1} c$

推导步骤如下：

| 步骤  | 公式                                  | 理由                                                     |
| :-- | :---------------------------------- | :----------------------------------------------------- |
| 1   | $((a \cong b) \to_{1} d) \to_{1} c$ | 前提 (Premise)                                           |
| 2   | $(a \cong b) \to_{1} (d \to_{2} c)$ | 应用 **Rule F3** 于 (1) <br> *(注: 把 $(a \cong b)$ 看作整体项)* |
| 3   | $a \to_{1} (d \to_{2} c)$           | 应用 **Rule D1** 于 (2) <br> *(注: D1 左侧分支)*               |

**证毕。** $\square$

---

#### 5.14 定理：深层张量解包 (Deep Tensor Unpacking)

本定理展示了如何将一个嵌套在两层箭头结构下的张量项（Type 2）完全“解包”为一系列纯箭头（Type 1）的右结合结构。这是模块 F 中结合律（Rule F3）与柯里化规则（Rule F2）的组合。

**命题：**
$$ \frac{((a \to_{2} b) \to_{1} c) \to_{1} d}{a \to_{1} (b \to_{1} (c \to_{2} d))} $$

**证明：**
设前提为：
1. $((a \to_{2} b) \to_{1} c) \to_{1} d$

推导步骤如下：

| 步骤 | 公式 | 理由 |
| :--- | :--- | :--- |
| 1 | $((a \to_{2} b) \to_{1} c) \to_{1} d$ | 前提 (Premise) |
| 2 | $(a \to_{2} b) \to_{1} (c \to_{2} d)$ | 应用 **Rule F3** 于 (1) <br> *(注: 将 $(a \to_{2} b)$ 视为整体项 $X$，应用 $(X \to_{1} c) \to_{1} d \vdash X \to_{1} (c \to_{2} d)$)* |
| 3 | $a \to_{1} (b \to_{1} (c \to_{2} d))$ | 应用 **Rule F2** 于 (2) <br> *(注: 在 Rule F2 中，取 $A=a, B=b, C=(c \to_{2} d)$)* |

**证毕。** $\square$

---

#### 5.15 定理：复合结构的同余稳定性 (Congruence Stability of Composite Structure)

本定理证明了模块 B 生成的复合结构（Rule B1）在左同余置换下保持不变。这验证了系统构造规则与同余规则之间的兼容性。

**命题：**
$$ \frac{a \cong b, \quad a \to_{1} c, \quad c \to_{2} d}{(a \to_{1} (c \to_{2} d)) \cong (b \to_{1} (c \to_{2} d))} $$

**证明：**
设前提为：
1. $a \cong b$
2. $a \to_{1} c$
3. $c \to_{2} d$

推导步骤如下：

| 步骤 | 公式 | 理由 |
| :--- | :--- | :--- |
| 1 | $b \to_{1} c$ | 应用 **Rule E2** 于 (1) 和 (2) |
| 2 | $a \to_{1} (c \to_{2} d)$ | 应用 **Rule B1** 于 (2) 和 (3) |
| 3 | $b \to_{1} (c \to_{2} d)$ | 应用 **Rule B1** 于 (1) 的派生结果 (步骤1) 和 (3) |
| 4 | $(a \to_{1} (c \to_{2} d)) \cong (b \to_{1} (c \to_{2} d))$ | 应用 **Rule C1** 于 (1), (2), (3) <br> *(注: 在 Rule C1 中，取 $Head=a \cong b$, $Tail_1=(c \to_{2} d)$, $Tail_2=(c \to_{2} d)$)* |

**证毕。** $\square$

---

#### 5.16 定理：受控同余的还原 (Reduction of Guarded Congruence)

本定理处理一种特殊情况：当同余关系被“封装”在一个张量结构中，并作为箭头项的前件时，我们可以剥离这些外层结构，直接提取出原子间的箭头关系。

**命题：**
$$ \frac{((a \cong b) \to_{2} c) \to_{1} d}{a \to_{1} (c \to_{1} d)} $$

**证明：**
设前提为：
1. $((a \cong b) \to_{2} c) \to_{1} d$

推导步骤如下：

| 步骤 | 公式 | 理由 |
| :--- | :--- | :--- |
| 1 | $((a \cong b) \to_{2} c) \to_{1} d$ | 前提 (Premise) |
| 2 | $(a \cong b) \to_{1} (c \to_{1} d)$ | 应用 **Rule F2** 于 (1) <br> *(注: 将 $(a \cong b)$ 视为整体项 $X$，应用 $(X \to_{2} c) \to_{1} d \vdash X \to_{1} (c \to_{1} d)$)* |
| 3 | $a \to_{1} (c \to_{1} d)$ | 应用 **Rule D1** 于 (2) <br> *(注: D1 规定 $((a \cong b) \to_{1} Z) \vdash a \to_{1} Z$，此处 $Z = (c \to_{1} d)$)* |

**证毕。** $\square$

---

#### 5.17：混合链式传递 (Mixed Chain Transitivity)

这个定理确立了混合结构作为中间项时的传递性。

$$ \frac{(a \to_{2} b) \to_{1} c, \quad d \to_{1} (a \to_{2} b)}{d \to_{1} c} $$

**证明：**

设前提为：
1. $(a \to_{2} b) \to_{1} c$
2. $d \to_{1} (a \to_{2} b)$

推导步骤如下：

| 步骤 | 公式 | 理由 |
| :--- | :--- | :--- |
| 1 | $(a \to_{2} b) \to_{1} c$ | 前提 (Premise) |
| 2 | $a \to_{1} (b \to_{1} c)$ | 应用 **Rule F2** 于 (1) |
| 3 | $d \to_{1} (a \to_{2} b)$ | 前提 (Premise) |
| 4 | $(a \to_{2} b) \to_{1} c$ | 前提 (1) 重复 |
| 5 | $d \to_{1} c$ | 应用 **Rule F1** 于 (3) 和 (4) <br> *(注: 在 Rule F1 中，取 $a=d, b=(a \to_{2} b), c=c$)* |

**证毕。** $\square$

#### 5.18 定理：反射结构的无条件存在性 (Unconditional Existence of Reflexive Structure)

本定理表明，在没有任何前提的情况下，系统总是包含指向自身反射张量的自指结构。它是公理 **Id-Intro** 与构造规则 **Rule B1** 的直接产物，揭示了系统固有的递归特性。

**命题：**
$$ \frac{}{a \to_{1} (a \to_{2} a)} $$

**证明：**

推导步骤如下：

| 步骤 | 公式 | 理由 |
| :--- | :--- | :--- |
| 1 | $a \to_{1} a$ | 应用 **Id-Intro** (公理，无前提) |
| 2 | $a \to_{2} a$ | 应用 **Id-Intro** (公理，无前提) |
| 3 | $a \to_{1} (a \to_{2} a)$ | 应用 **Rule B1** 于 (1) 和 (2) <br> *(注: 取 $b=a, c=a$)* |

**证毕。** $\square$

---

#### 5.19 定理：顺序结构分组 (Sequential Structural Grouping)

本定理处理深层嵌套的箭头结构。它展示了如何通过连续应用结合律（Rule F3），将一连串左结合的箭头操作（Type 1）转化为右结合的嵌套张量结构（Type 2），从而实现“线性化”的逻辑分组。

**命题：**
$$ \frac{((a \to_{1} b) \to_{1} c) \to_{1} d}{a \to_{1} (b \to_{2} (c \to_{2} d))} $$

**证明：**
设前提为：
1. $((a \to_{1} b) \to_{1} c) \to_{1} d$

推导步骤如下：

| 步骤 | 公式 | 理由 |
| :--- | :--- | :--- |
| 1 | $((a \to_{1} b) \to_{1} c) \to_{1} d$ | 前提 (Premise) |
| 2 | $(a \to_{1} b) \to_{1} (c \to_{2} d)$ | 应用 **Rule F3** 于 (1) <br> *(注: 将 $(a \to_{1} b)$ 视为整体 $X$，应用规则 $(X \to_{1} c) \to_{1} d \vdash X \to_{1} (c \to_{2} d)$)* |
| 3 | $a \to_{1} (b \to_{2} (c \to_{2} d))$ | 应用 **Rule F3** 于 (2) <br> *(注: 此时 $Tail=(c \to_{2} d)$，规则将 $b$ 与 $Tail$ 结合为 Type 2)* |

**证毕。** $\square$

---

#### 5.20 定理：结构应用的右同余性 (Right-Congruence of Structural Application)

此定理补全了定理 5.5（左同余性）。它证明了当结构应用（Rule B2）的“函数部分”保持不变（在同余意义下），而“参数部分”发生同余变化时，整体结构依然保持同余。

**命题：**
$$ \frac{a \to_{1} c, \quad a \to_{2} d, \quad a \to_{2} e}{((a \to_{1} c) \to_{2} d) \cong ((a \to_{1} c) \to_{2} e)} $$

**证明：**
设前提为：
1. $a \to_{1} c$
2. $a \to_{2} d$
3. $a \to_{2} e$

推导步骤如下：

| 步骤  | 公式                                                          | 理由                                                                                                     |
| :-- | :---------------------------------------------------------- | :----------------------------------------------------------------------------------------------------- |
| 1   | $a \to_{1} c$                                               | 前提 (2)                                                                                                 |
| 2   | $(a \to_{1} c) \cong (a \to_{1} c)$                         | 应用 **Refl** (公理) <br> *(注: 对复合项建立自反同余)*                                                                |
| 3   | $(a \to_{1} c) \to_{2} d$                                   | 应用 **Rule B2** 于 (1) 和 (3)                                                                             |
| 4   | $(a \to_{1} c) \to_{2} e$                                   | 应用 **Rule B2** 于 (1) 和 (4)                                                                             |
| 5   | $((a \to_{1} c) \to_{2} d) \cong ((a \to_{1} c) \to_{2} e)$ | 应用 **Rule C2** 于 (2), (3), (4) <br> *(注: 在 Rule C2 中，取 $a'=b'=(a \to_{1} c)$，无需 $d \cong e$ 作为尾的同余条件)* |

**证毕。** $\square$

---

#### 5.21 定理：迭代张量移位 (Iterative Tensor Shift)

本定理展示了规则 **Rule B4** 的链式应用能力。当一个项指向一个张量结构，而该张量的尾部又指向另一个项时，我们可以“跳过”中间项，直接建立指向远端张量的映射关系。

**命题：**
$$ \frac{c \to_{1} (a \to_{2} b), \quad b \to_{2} d, \quad d \to_{2} e}{c \to_{1} (d \to_{2} e)} $$

**证明：**
设前提为：
1. $c \to_{1} (a \to_{2} b)$
2. $b \to_{2} d$
3. $d \to_{2} e$

推导步骤如下：

| 步骤 | 公式 | 理由 |
| :--- | :--- | :--- |
| 1 | $c \to_{1} (a \to_{2} b)$ | 前提 (1) |
| 2 | $b \to_{2} d$ | 前提 (2) |
| 3 | $c \to_{1} (b \to_{2} d)$ | 应用 **Rule B4** 于 (1) 和 (2) <br> *(注: 此时 $Head$ 由 $a$ 变为 $b$)* |
| 4 | $d \to_{2} e$ | 前提 (3) |
| 5 | $c \to_{1} (d \to_{2} e)$ | 应用 **Rule B4** 于 (3) 和 (4) <br> *(注: 对步骤3的结果再次应用规则，Head 由 $b$ 变为 $d$)* |

**证毕。** $\square$

#### 5.22 定理：传递性张量构造 (Transitive Tensor Construction)

本定理展示了如何通过结合模块 F 中的传递律（Rule F1）与分组律（Rule F3），将两个连续的箭头关系“折叠”为一个指向张量结构的单一箭头关系。

**命题：**
$$ \frac{(a \to_{1} b) \to_{1} c, \quad c \to_{1} d}{a \to_{1} (b \to_{2} d)} $$

**证明：**
设前提为：
1. $(a \to_{1} b) \to_{1} c$
2. $c \to_{1} d$

推导步骤如下：

| 步骤 | 公式 | 理由 |
| :--- | :--- | :--- |
| 1 | $(a \to_{1} b) \to_{1} c$ | 前提 (Premise) |
| 2 | $c \to_{1} d$ | 前提 (Premise) |
| 3 | $(a \to_{1} b) \to_{1} d$ | 应用 **Rule F1** 于 (1) 和 (2) |
| 4 | $a \to_{1} (b \to_{2} d)$ | 应用 **Rule F3** 于 (3) <br> *(注: 将 $(a \to_{1} b)$ 视为整体 $X$，应用 $(X \to_{1} c) \to_{1} d \vdash X \to_{1} (c \to_{2} d)$ 的模式，此处 $c=b, d=d$)* |

**证毕。** $\square$

---

#### 5.23 定理：张量中介的传递映射 (Tensor-Mediated Transit)

本定理建立了一个通过张量变换进行连接的传递链。它证明了如果一个项映射到一个张量结构，而该张量可以通过内部变换（Rule B4）并进一步映射到终点（Rule F1），则起点可以直接映射到终点。

**命题：**
$$ \frac{c \to_{1} (a \to_{2} b), \quad b \to_{2} d, \quad (b \to_{2} d) \to_{1} e}{c \to_{1} e} $$

**证明：**
设前提为：
1. $c \to_{1} (a \to_{2} b)$
2. $b \to_{2} d$
3. $(b \to_{2} d) \to_{1} e$

推导步骤如下：

| 步骤 | 公式 | 理由 |
| :--- | :--- | :--- |
| 1 | $c \to_{1} (a \to_{2} b)$ | 前提 (1) |
| 2 | $b \to_{2} d$ | 前提 (2) |
| 3 | $c \to_{1} (b \to_{2} d)$ | 应用 **Rule B4** 于 (1) 和 (2) <br> *(注: 利用中间张量关系的转换)* |
| 4 | $(b \to_{2} d) \to_{1} e$ | 前提 (3) |
| 5 | $c \to_{1} e$ | 应用 **Rule F1** 于 (3) 和 (4) <br> *(注: 取 $a=c, b=(b \to_{2} d), c=e$)* |

**证毕。** $\square$

---

#### 5.24 定理：结构旋转 (Structural Rotation)

本定理处理极其复杂的嵌套结构，展示了系统如何将“箭头嵌套在张量中”的左结合结构（Type 2 嵌套），转化为“箭头指向张量指向箭头”的右结合结构。这是 Rule F2（柯里化）与 Rule F3（分组）的深度结合。

**命题：**
$$ \frac{((a \to_{1} b) \to_{2} c) \to_{1} d}{a \to_{1} (b \to_{2} (c \to_{1} d))} $$

**证明：**
设前提为：
1. $((a \to_{1} b) \to_{2} c) \to_{1} d$

推导步骤如下：

| 步骤 | 公式 | 理由 |
| :--- | :--- | :--- |
| 1 | $((a \to_{1} b) \to_{2} c) \to_{1} d$ | 前提 (Premise) |
| 2 | $(a \to_{1} b) \to_{1} (c \to_{1} d)$ | 应用 **Rule F2** 于 (1) <br> *(注: 将 $(a \to_{1} b)$ 视为整体 $A$，此时结构为 $(A \to_{2} c) \to_{1} d$，推导出 $A \to_{1} (c \to_{1} d)$)* |
| 3 | $a \to_{1} (b \to_{2} (c \to_{1} d))$ | 应用 **Rule F3** 于 (2) <br> *(注: 将 $(c \to_{1} d)$ 视为整体 $Z$，应用规则 $(a \to_{1} b) \to_{1} Z \vdash a \to_{1} (b \to_{2} Z)$)* |

**证毕。** $\square$

---

#### 5.25 定理：张量同余的传递构造性 (Constructivity of Tensor Congruence Transitivity)

这是定理 5.3 在张量（Type 2）结构上的对偶形式。它证明了当同余关系通过传递性延伸时，涉及张量结构的同余式也可以被构造出来。

**命题：**
$$ \frac{a \cong b, \quad b \cong c, \quad a \to_{2} d}{(a \to_{2} d) \cong (c \to_{2} d)} $$

**证明：**
设前提为：
1. $a \cong b$
2. $b \cong c$
3. $a \to_{2} d$

推导步骤如下：

| 步骤 | 公式 | 理由 |
| :--- | :--- | :--- |
| 1 | $a \cong b$ | 前提 (1) |
| 2 | $b \cong c$ | 前提 (2) |
| 3 | $a \cong c$ | 应用 **Trans** 于 (1), (2) |
| 4 | $a \to_{2} d$ | 前提 (3) |
| 5 | $c \to_{2} d$ | 应用 **Rule E1** 于 (3) 和 (4) <br> *(注: Rule E1 允许从 $a \cong c$ 和 $a \to_{2} d$ 推导 $c \to_{2} d$)* |
| 6 | $(a \to_{2} d) \cong (c \to_{2} d)$ | 应用 **Rule C2** 于 (3), (4), (5) <br> *(注: Rule C2 需要 $a \cong c, a \to_{2} d, c \to_{2} d$)* |

**证毕。** $\square$

#### 5.26 定理：深层张量线性化 (Deep Tensor Linearization)

本定理展示了如何将嵌套在两层张量结构中的左结合项，完全展开为一系列右结合的箭头结构（柯里化形式）。这是对规则 F2 的连续应用。

**命题：**
$$ \frac{((a \to_{2} b) \to_{2} c) \to_{1} d}{a \to_{1} (b \to_{1} (c \to_{1} d))} $$

**证明：**
设前提为：
1. $((a \to_{2} b) \to_{2} c) \to_{1} d$

推导步骤如下：

| 步骤 | 公式 | 理由 |
| :--- | :--- | :--- |
| 1 | $((a \to_{2} b) \to_{2} c) \to_{1} d$ | 前提 (Premise) |
| 2 | $(a \to_{2} b) \to_{1} (c \to_{1} d)$ | 应用 **Rule F2** 于 (1) <br> *(注: 设整体项 $X = (a \to_{2} b)$, 则结构为 $(X \to_{2} c) \to_{1} d$。规则 F2 推导出 $X \to_{1} (c \to_{1} d)$)* |
| 3 | $a \to_{1} (b \to_{1} (c \to_{1} d))$ | 应用 **Rule F2** 于 (2) <br> *(注: 对步骤2的结论再次应用 F2，此时 $a$ 为头，$b$ 为内部张量尾，$c \to_{1} d$ 为外部箭头尾)* |

**证毕。** $\square$

---

#### 5.27 定理：自绑定构造 (Self-Binding Construction)

本定理证明了任意一个箭头关系都可以通过引入自反张量（Id-Intro），构造出一个指向起点的“自绑定”张量结构。这揭示了系统内任意映射都隐含着一种回环结构。

**命题：**
$$ \frac{a \to_{1} b}{(a \to_{1} b) \to_{2} a} $$

**证明：**
设前提为：
1. $a \to_{1} b$

推导步骤如下：

| 步骤 | 公式 | 理由 |
| :--- | :--- | :--- |
| 1 | $a \to_{1} b$ | 前提 (Premise) |
| 2 | $a \to_{2} a$ | 应用 **Id-Intro** (公理，无前提) |
| 3 | $(a \to_{1} b) \to_{2} a$ | 应用 **Rule B2** 于 (1) 和 (2) <br> *(注: Rule B2 规定 $a \to_{1} b, a \to_{2} c \vdash (a \to_{1} b) \to_{2} c$，此处取 $c=a$)* |

**证毕。** $\square$

---

#### 5.28 定理：循环回路传递 (Cyclic Loop Transit)

本定理处理一种特殊的拓扑结构：起点映射到终点，而终点又通过张量关系回指起点。定理证明了如果这个“回指”结构进一步映射到第三方，则起点直接映射到第三方。

**命题：**
$$ \frac{a \to_{1} b, \quad b \to_{2} a, \quad (b \to_{2} a) \to_{1} c}{a \to_{1} c} $$

**证明：**
设前提为：
1. $a \to_{1} b$
2. $b \to_{2} a$
3. $(b \to_{2} a) \to_{1} c$

推导步骤如下：

| 步骤 | 公式 | 理由 |
| :--- | :--- | :--- |
| 1 | $a \to_{1} b$ | 前提 (1) |
| 2 | $b \to_{2} a$ | 前提 (2) |
| 3 | $a \to_{1} (b \to_{2} a)$ | 应用 **Rule B1** 于 (1) 和 (2) |
| 4 | $(b \to_{2} a) \to_{1} c$ | 前提 (3) |
| 5 | $a \to_{1} c$ | 应用 **Rule F1** 于 (3) 和 (4) <br> *(注: Rule F1 为传递律，此处中间项为 $(b \to_{2} a)$)* |

**证毕。** $\square$

---

#### 5.29 定理：传递性张量交换 (Transitive Tensor Exchange)

本定理展示了 Rule B3 的链式能力。当一个张量结构作为箭头的左侧（Antecedent）时，我们可以利用张量内部的传递关系，连续替换该结构的组成部分，而不破坏外层的箭头关系。

**命题：**
$$ \frac{(a \to_{2} b) \to_{1} c, \quad b \to_{2} d, \quad d \to_{2} e}{(d \to_{2} e) \to_{1} c} $$

**证明：**
设前提为：
1. $(a \to_{2} b) \to_{1} c$
2. $b \to_{2} d$
3. $d \to_{2} e$

推导步骤如下：

| 步骤 | 公式 | 理由 |
| :--- | :--- | :--- |
| 1 | $(a \to_{2} b) \to_{1} c$ | 前提 (1) |
| 2 | $b \to_{2} d$ | 前提 (2) |
| 3 | $(b \to_{2} d) \to_{1} c$ | 应用 **Rule B3** 于 (1) 和 (2) <br> *(注: Rule B3 允许利用 $b \to_{2} d$ 将前件中的 $(a \to_{2} b)$ 替换为 $(b \to_{2} d)$)* |
| 4 | $d \to_{2} e$ | 前提 (3) |
| 5 | $(d \to_{2} e) \to_{1} c$ | 应用 **Rule B3** 于 (3) 和 (4) <br> *(注: 对步骤3的结论再次应用规则，前件由 $(b \to_{2} d)$ 更新为 $(d \to_{2} e)$)* |

**证毕。** $\square$


#### 5.30 定理：分组张量归约 (Grouped Tensor Reduction)

本定理展示了如何结合分组规则（Rule F3）与张量交换规则（Rule B4）。它证明了如果一个嵌套箭头结构最终指向 $c$，而 $c$ 又通过张量关系指向 $d$，我们可以将中间项 $b$ “归约”掉，直接建立从 $a$ 到以 $c$ 为首的张量结构 $c \to_{2} d$ 的映射。

**命题：**
$$ \frac{((a \to_{1} b) \to_{1} c), \quad c \to_{2} d}{a \to_{1} (c \to_{2} d)} $$

**证明：**
设前提为：
1. $((a \to_{1} b) \to_{1} c)$
2. $c \to_{2} d$

推导步骤如下：

| 步骤 | 公式 | 理由 |
| :--- | :--- | :--- |
| 1 | $((a \to_{1} b) \to_{1} c)$ | 前提 (Premise) |
| 2 | $a \to_{1} (b \to_{2} c)$ | 应用 **Rule F3** 于 (1) <br> *(注: 将左结合的 Type 1 结构转化为指向 Type 2 的结构)* |
| 3 | $c \to_{2} d$ | 前提 (Premise) |
| 4 | $a \to_{1} (c \to_{2} d)$ | 应用 **Rule B4** 于 (2) 和 (3) <br> *(注: 在 Rule B4 中，Head=$a$, InnerHead=$b$, InnerTail=$c$, NewTail=$d$。规则允许用 $c \to_2 d$ 替换内部结构)* |

**证毕。** $\square$

---

#### 5.31 定理：同余分组 (Congruent Grouping)

本定理建立了同余关系与结构分组（Rule F3）之间的桥梁。它证明了如果一个左结合的箭头结构与某个原子项 $c$ 同余，且 $c$ 映射到 $d$，则原结构的头部 $a$ 可以直接映射到一个由 $b$ 和 $d$ 组成的张量结构。

**命题：**
$$ \frac{(a \to_{1} b) \cong c, \quad c \to_{1} d}{a \to_{1} (b \to_{2} d)} $$

**证明：**
设前提为：
1. $(a \to_{1} b) \cong c$
2. $c \to_{1} d$

推导步骤如下：

| 步骤 | 公式 | 理由 |
| :--- | :--- | :--- |
| 1 | $(a \to_{1} b) \cong c$ | 前提 (1) |
| 2 | $c \to_{1} d$ | 前提 (2) |
| 3 | $(a \to_{1} b) \to_{1} d$ | 应用 **Rule E2** 于 (1) 和 (2) <br> *(注: Rule E2 为左代入，将 $c$ 替换为 $(a \to_{1} b)$)* |
| 4 | $a \to_{1} (b \to_{2} d)$ | 应用 **Rule F3** 于 (3) <br> *(注: 将步骤 3 的结果进行分组变换)* |

**证毕。** $\square$

---

#### 5.32 定理：深层结构封装 (Deep Structure Encapsulation)

本定理结合了分组规则（Rule F3）与构造规则（Rule B1）。它展示了如何将一个简单的左结合箭头链，转化为一个包含嵌套张量（Type 2）的深层右结合结构。

**命题：**
$$ \frac{((a \to_{1} b) \to_{1} c), \quad (b \to_{2} c) \to_{2} d}{a \to_{1} ((b \to_{2} c) \to_{2} d)} $$

**证明：**
设前提为：
1. $((a \to_{1} b) \to_{1} c)$
2. $(b \to_{2} c) \to_{2} d$

推导步骤如下：

| 步骤 | 公式 | 理由 |
| :--- | :--- | :--- |
| 1 | $((a \to_{1} b) \to_{1} c)$ | 前提 (1) |
| 2 | $a \to_{1} (b \to_{2} c)$ | 应用 **Rule F3** 于 (1) <br> *(注: 产生中间张量结构 $(b \to_{2} c)$)* |
| 3 | $(b \to_{2} c) \to_{2} d$ | 前提 (2) |
| 4 | $a \to_{1} ((b \to_{2} c) \to_{2} d)$ | 应用 **Rule B1** 于 (2) 和 (3) <br> *(注: Rule B1 模式为 $X \to_1 Y, Y \to_2 Z \vdash X \to_1 (Y \to_2 Z)$。此处 $Y=(b \to_{2} c)$)* |

**证毕。** $\square$

---

#### 5.33 定理：交换张量柯里化 (Swapped Tensor Currying)

本定理展示了如何通过结合模块 B 的交换律、模块 F 的传递律与柯里化规则，将一个内部张量被交换的结构完全展开为纯箭头序列。

**命题：**
$$ \frac{(a \to_{2} b) \to_{1} c, \quad b \to_{2} d, \quad c \to_{1} e}{b \to_{1} (d \to_{1} e)} $$

**证明：**
设前提为：
1. $(a \to_{2} b) \to_{1} c$
2. $b \to_{2} d$
3. $c \to_{1} e$

推导步骤如下：

| 步骤 | 公式 | 理由 |
| :--- | :--- | :--- |
| 1 | $(a \to_{2} b) \to_{1} c$ | 前提 (1) |
| 2 | $b \to_{2} d$ | 前提 (2) |
| 3 | $(b \to_{2} d) \to_{1} c$ | 应用 **Rule B3** 于 (1) 和 (2) <br> *(注: 交换内部张量，使主体变为 $b$)* |
| 4 | $c \to_{1} e$ | 前提 (3) |
| 5 | $(b \to_{2} d) \to_{1} e$ | 应用 **Rule F1** 于 (3) 和 (4) <br> *(注: 传递律，中间项为 $c$)* |
| 6 | $b \to_{1} (d \to_{1} e)$ | 应用 **Rule F2** 于 (5) <br> *(注: 柯里化，将张量前件转化为嵌套箭头)* |

**证毕。** $\square$


---

#### 5.34 定理：传递性分组归约 (Transitive Grouping Reduction)

本定理展示了如何利用分组规则（Rule F3）将复杂的左结合结构转化为中间张量形式，并利用传递律（Rule F1）将其“折叠”为单一的箭头关系。这是处理嵌套结构归约的强力工具。

**命题：**
$$ \frac{((a \to_{1} b) \to_{1} c), \quad ((b \to_{2} c) \to_{1} d)}{a \to_{1} d} $$

**证明：**
设前提为：
1. $((a \to_{1} b) \to_{1} c)$
2. $((b \to_{2} c) \to_{1} d)$

推导步骤如下：

| 步骤 | 公式 | 理由 |
| :--- | :--- | :--- |
| 1 | $((a \to_{1} b) \to_{1} c)$ | 前提 (1) |
| 2 | $a \to_{1} (b \to_{2} c)$ | 应用 **Rule F3** 于 (1) <br> *(注: 将左结合 Type 1 结构转化为指向 Type 2 的结构)* |
| 3 | $(b \to_{2} c) \to_{1} d$ | 前提 (2) |
| 4 | $a \to_{1} d$ | 应用 **Rule F1** 于 (2) 和 (3) <br> *(注: 传递律，中间项为 $(b \to_{2} c)$)* |

**证毕。** $\square$

---

#### 5.35 定理：传递性张量注入 (Transitive Tensor Injection)

本定理建立了一条从基础箭头链到深层张量结构的推导路径。它证明了如果存在从 $a$ 到 $c$ 的传递路径，且该路径作为一个整体指向 $d$，则 $a$ 必然指向一个由 $c$ 和 $d$ 构成的张量结构。

**命题：**
$$ \frac{a \to_{1} b, \quad b \to_{1} c, \quad (a \to_{1} c) \to_{1} d}{a \to_{1} (c \to_{2} d)} $$

**证明：**
设前提为：
1. $a \to_{1} b$
2. $b \to_{1} c$
3. $(a \to_{1} c) \to_{1} d$

推导步骤如下：

| 步骤 | 公式 | 理由 |
| :--- | :--- | :--- |
| 1 | $a \to_{1} b$ | 前提 (1) |
| 2 | $b \to_{1} c$ | 前提 (2) |
| 3 | $a \to_{1} c$ | 应用 **Rule F1** 于 (1) 和 (2) <br> *(注: 建立 $a$ 到 $c$ 的传递关系)* |
| 4 | $(a \to_{1} c) \to_{1} d$ | 前提 (3) |
| 5 | $a \to_{1} (c \to_{2} d)$ | 应用 **Rule F3** 于 (4) <br> *(注: 在 Rule F3 中，取 $a=a, b=c, c=d$。注意前提 (4) 的结构正好满足 F3 的输入要求，而步骤 3 确保了内部项 $a \to_1 c$ 的逻辑有效性，虽然 F3 是结构规则不强制要求内部项成立，但此处强化了语义连接)* |

**证毕。** $\square$

---

#### 5.36 定理：混合结构柯里化展开 (Mixed Structure Currying Expansion)

本定理处理 Type 2（张量）与 Type 1（箭头）的混合嵌套。它展示了当一个张量结构被柯里化（Rule F2）后再次作为箭头的前件时，如何将其重构为一个包含复杂前件的深层张量结构。

**命题：**
$$ \frac{(a \to_{2} b) \to_{1} c, \quad (a \to_{1} (b \to_{1} c)) \to_{1} d}{a \to_{1} ((b \to_{1} c) \to_{2} d)} $$

**证明：**
设前提为：
1. $(a \to_{2} b) \to_{1} c$
2. $(a \to_{1} (b \to_{1} c)) \to_{1} d$

推导步骤如下：

| 步骤 | 公式 | 理由 |
| :--- | :--- | :--- |
| 1 | $(a \to_{2} b) \to_{1} c$ | 前提 (1) |
| 2 | $a \to_{1} (b \to_{1} c)$ | 应用 **Rule F2** 于 (1) <br> *(注: 柯里化，将张量前件转化为嵌套箭头)* |
| 3 | $(a \to_{1} (b \to_{1} c)) \to_{1} d$ | 前提 (2) |
| 4 | $a \to_{1} ((b \to_{1} c) \to_{2} d)$ | 应用 **Rule F3** 于 (3) <br> *(注: 将 $(b \to_{1} c)$ 视为整体项 $B$，应用模式 $((a \to_{1} B) \to_{1} d) \vdash a \to_{1} (B \to_{2} d)$)* |

**证毕。** $\square$

---

#### 5.37 定理：同余深层张量化 (Congruent Deep Tensorization)

本定理是同余规则与双重分组规则的结合。它证明了如果一个原子项 $a$ 同余于一个左结合的箭头结构，且 $a$ 指向 $e$，则可以通过同余置换和连续两次应用 Rule F3，构造出一个极深层的右结合张量嵌套结构。

**命题：**
$$ \frac{a \cong ((b \to_{1} c) \to_{1} d), \quad a \to_{1} e}{b \to_{1} (c \to_{2} (d \to_{2} e))} $$

**证明：**
设前提为：
1. $a \cong ((b \to_{1} c) \to_{1} d)$
2. $a \to_{1} e$

推导步骤如下：

| 步骤  | 公式                                    | 理由                                                                                 |
| :-- | :------------------------------------ | :--------------------------------------------------------------------------------- |
| 1   | $a \cong ((b \to_{1} c) \to_{1} d)$   | 前提 (1)                                                                             |
| 2   | $a \to_{1} e$                         | 前提 (2)                                                                             |
| 3   | $((b \to_{1} c) \to_{1} d) \to_{1} e$ | 应用 **Rule E2** 于 (1) 和 (2) <br> *(注: 左侧同余代入，将 $a$ 替换为结构体)*                         |
| 4   | $(b \to_{1} c) \to_{1} (d \to_{2} e)$ | 应用 **Rule F3** 于 (3) <br> *(注: 第一次分组，将 $Tail=e$ 转化为 $(d \to_{2} e)$)*              |
| 5   | $b \to_{1} (c \to_{2} (d \to_{2} e))$ | 应用 **Rule F3** 于 (4) <br> *(注: 第二次分组，将 $Tail=(d \to_{2} e)$ 与 $c$ 结合。此时 $Head=b$)* |

**证毕。** $\square$